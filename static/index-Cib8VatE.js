import{ay as lt,Z as rt,r as D,d as Oe,E as qe,c as He,A as je,f as L,p as A,q as i,t as C,T as N,u as f,ai as g,v as k,U as u,O as _,W as Xe,M as b,aB as ct,Q as ue,R as I,aC as ve,aD as he,F as H,aa as Y,a2 as re,H as de,a9 as it,S as K,J as q,aE as Ke,w as fe,aF as Ge,b as ut,I as Je,aG as dt,s as ft,a8 as le,aH as oe,n as pt,aI as mt,P as ge,V as ye}from"./vue-BWN0lbwY.js";import{g as _t,S as Ye,D as Q,s as De,a as vt,u as be,b as G,L as te,_ as P,c as Ze,d as Ce,e as ht,r as gt}from"./index-B_OLftB1.js";import{u as yt}from"./useWatermark-CFXy0vbL.js";import{h as bt,j as wt,g as kt,k as St,b as pe,l as xt,n as Ct,o as Qe,u as $t,r as Tt,p as Et,q as Vt,s as Mt,t as Lt}from"./element-C5mYgMeM.js";import{_ as It}from"./index.vue_vue_type_script_setup_true_lang-b2LmzuSn.js";import"./vxe-CtPXIgsa.js";function At(n){n?De(vt):De(Ye)}const se=lt("app",()=>{const n=rt({opened:_t()!==Ye,withoutAnimation:!1}),e=D(Q.Desktop);return Oe(()=>n.opened,a=>At(a)),{device:e,sidebar:n,toggleSidebar:a=>{n.opened=!n.opened,n.withoutAnimation=a},closeSidebar:a=>{n.opened=!1,n.withoutAnimation=a},toggleDevice:a=>{e.value=a}}}),Rt=992,Dt=()=>{const n=se(),{listenerRouteChange:e}=be(),t=()=>document.body.getBoundingClientRect().width-1<Rt,s=()=>{if(!document.hidden){const o=t();n.toggleDevice(o?Q.Mobile:Q.Desktop),o&&n.closeSidebar(!0)}};e(()=>{n.device===Q.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),qe(()=>{window.addEventListener("resize",s)}),He(()=>{t()&&(n.toggleDevice(Q.Mobile),n.closeSidebar(!0))}),je(()=>{window.removeEventListener("resize",s)})},et=se(),Pt=L(()=>et.device===Q.Mobile),Ft=L(()=>et.device===Q.Desktop);function ae(){return{isMobile:Pt,isDesktop:Ft}}const we=G(),zt=L(()=>we.layoutMode===te.Left),Wt=L(()=>we.layoutMode===te.Top),Nt=L(()=>we.layoutMode===te.LeftTop),Ut=n=>{we.layoutMode=n};function ee(){return{isLeft:zt,isTop:Wt,isLeftTop:Nt,setLayoutMode:Ut}}const Bt={class:"layout-footer"},Ot=A({__name:"index",setup(n){const e="V3 Admin Vite";return(t,s)=>(i(),C("footer",Bt,"MIT © 2021-PRESENT "+N(f(e)),1))}}),qt=P(Ot,[["__scopeId","data-v-18d14396"]]),Ht={class:"app-main"},jt={class:"app-scrollbar"},Xt=A({__name:"AppMain",setup(n){const e=Ze(),t=G();return(s,o)=>{const a=g("router-view"),r=g("el-backtop");return i(),C("section",Ht,[k("div",jt,[u(a,null,{default:_(({Component:l,route:c})=>[u(Xe,{name:"el-fade-in",mode:"out-in"},{default:_(()=>[(i(),b(ct,{include:f(e).cachedViews},[(i(),b(ue(l),{key:c.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),f(t).showFooter?(i(),b(qt,{key:0})):I("",!0)]),u(r),u(r,{target:".app-scrollbar"})])}}}),$e=P(Xt,[["__scopeId","data-v-e96aa434"]]),Kt=A({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(n,{emit:e}){const t=n,s=e,o=()=>{s("toggleClick")};return(a,r)=>{const l=g("el-icon");return i(),C("div",{onClick:o},[u(l,{size:20,class:"icon"},{default:_(()=>[t.isActive?(i(),b(f(bt),{key:0})):(i(),b(f(wt),{key:1}))]),_:1})])}}}),Gt=P(Kt,[["__scopeId","data-v-a21f53d4"]]);var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.TokenData=void 0;Z.parse=Me;var Jt=Z.compile=tn;Z.match=on;Z.pathToRegexp=ot;Z.stringify=ln;const Te="/",Ee=n=>n,tt=/^[$_\p{ID_Start}]$/u,Ve=/^[$\u200c\u200d\p{ID_Continue}]$/u,me="https://git.new/pathToRegexpError",Yt={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function Zt(n){return n.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function X(n){return n.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*Qt(n){const e=[...n];let t=0;function s(){let o="";if(tt.test(e[++t]))for(o+=e[t];Ve.test(e[++t]);)o+=e[t];else if(e[t]==='"'){let a=t;for(;t<e.length;){if(e[++t]==='"'){t++,a=0;break}e[t]==="\\"?o+=e[++t]:o+=e[t]}if(a)throw new TypeError(`Unterminated quote at ${a}: ${me}`)}if(!o)throw new TypeError(`Missing parameter name at ${t}: ${me}`);return o}for(;t<e.length;){const o=e[t],a=Yt[o];if(a)yield{type:a,index:t++,value:o};else if(o==="\\")yield{type:"ESCAPED",index:t++,value:e[t++]};else if(o===":"){const r=s();yield{type:"PARAM",index:t,value:r}}else if(o==="*"){const r=s();yield{type:"WILDCARD",index:t,value:r}}else yield{type:"CHAR",index:t,value:e[t++]}}return{type:"END",index:t,value:""}}class en{constructor(e){this.tokens=e}peek(){if(!this._peek){const e=this.tokens.next();this._peek=e.value}return this._peek}tryConsume(e){const t=this.peek();if(t.type===e)return this._peek=void 0,t.value}consume(e){const t=this.tryConsume(e);if(t!==void 0)return t;const{type:s,index:o}=this.peek();throw new TypeError(`Unexpected ${s} at ${o}, expected ${e}: ${me}`)}text(){let e="",t;for(;t=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)e+=t;return e}}class ke{constructor(e){this.tokens=e}}Z.TokenData=ke;function Me(n,e={}){const{encodePath:t=Ee}=e,s=new en(Qt(n));function o(r){const l=[];for(;;){const c=s.text();c&&l.push({type:"text",value:t(c)});const d=s.tryConsume("PARAM");if(d){l.push({type:"param",name:d});continue}const p=s.tryConsume("WILDCARD");if(p){l.push({type:"wildcard",name:p});continue}if(s.tryConsume("{")){l.push({type:"group",tokens:o("}")});continue}return s.consume(r),l}}const a=o("END");return new ke(a)}function tn(n,e={}){const{encode:t=encodeURIComponent,delimiter:s=Te}=e,o=n instanceof ke?n:Me(n,e),a=nt(o.tokens,s,t);return function(l={}){const[c,...d]=a(l);if(d.length)throw new TypeError(`Missing parameters: ${d.join(", ")}`);return c}}function nt(n,e,t){const s=n.map(o=>nn(o,e,t));return o=>{const a=[""];for(const r of s){const[l,...c]=r(o);a[0]+=l,a.push(...c)}return a}}function nn(n,e,t){if(n.type==="text")return()=>[n.value];if(n.type==="group"){const o=nt(n.tokens,e,t);return a=>{const[r,...l]=o(a);return l.length?[""]:[r]}}const s=t||Ee;return n.type==="wildcard"&&t!==!1?o=>{const a=o[n.name];if(a==null)return["",n.name];if(!Array.isArray(a)||a.length===0)throw new TypeError(`Expected "${n.name}" to be a non-empty array`);return[a.map((r,l)=>{if(typeof r!="string")throw new TypeError(`Expected "${n.name}/${l}" to be a string`);return s(r)}).join(e)]}:o=>{const a=o[n.name];if(a==null)return["",n.name];if(typeof a!="string")throw new TypeError(`Expected "${n.name}" to be a string`);return[s(a)]}}function on(n,e={}){const{decode:t=decodeURIComponent,delimiter:s=Te}=e,{regexp:o,keys:a}=ot(n,e),r=a.map(l=>t===!1?Ee:l.type==="param"?t:c=>c.split(s).map(t));return function(c){const d=o.exec(c);if(!d)return!1;const p=d[0],m=Object.create(null);for(let w=1;w<d.length;w++){if(d[w]===void 0)continue;const v=a[w-1],h=r[w-1];m[v.name]=h(d[w])}return{path:p,params:m}}}function ot(n,e={}){const{delimiter:t=Te,end:s=!0,sensitive:o=!1,trailing:a=!0}=e,r=[],l=[],c=o?"":"i",p=(Array.isArray(n)?n:[n]).map(v=>v instanceof ke?v:Me(v,e));for(const{tokens:v}of p)for(const h of ce(v,0,[])){const x=sn(h,t,r);l.push(x)}let m=`^(?:${l.join("|")})`;return a&&(m+=`(?:${X(t)}$)?`),m+=s?"$":`(?=${X(t)}|$)`,{regexp:new RegExp(m,c),keys:r}}function*ce(n,e,t){if(e===n.length)return yield t;const s=n[e];if(s.type==="group"){const o=t.slice();for(const a of ce(s.tokens,0,o))yield*ce(n,e+1,a)}else t.push(s);yield*ce(n,e+1,t)}function sn(n,e,t){let s="",o="",a=!0;for(let r=0;r<n.length;r++){const l=n[r];if(l.type==="text"){s+=X(l.value),o+=l.value,a||(a=l.value.includes(e));continue}if(l.type==="param"||l.type==="wildcard"){if(!a&&!o)throw new TypeError(`Missing text after "${l.name}": ${me}`);l.type==="param"?s+=`(${an(e,a?"":o)}+)`:s+="([\\s\\S]+)",t.push(l),o="",a=!1;continue}}return s}function an(n,e){return e.length<2?n.length<2?`[^${X(n+e)}]`:`(?:(?!${X(n)})[^${X(e)}])`:n.length<2?`(?:(?!${X(e)})[^${X(n)}])`:`(?:(?!${X(e)}|${X(n)})[\\s\\S])`}function ln(n){return n.tokens.map(function e(t,s,o){if(t.type==="text")return Zt(t.value);if(t.type==="group")return`{${t.tokens.map(e).join("")}}`;const r=rn(t.name)&&cn(o[s+1])?t.name:JSON.stringify(t.name);if(t.type==="param")return`:${r}`;if(t.type==="wildcard")return`*${r}`;throw new TypeError(`Unexpected token: ${t}`)}).join("")}function rn(n){const[e,...t]=n;return tt.test(e)?t.every(s=>Ve.test(s)):!1}function cn(n){return(n==null?void 0:n.type)!=="text"?!0:!Ve.test(n.value[0])}const un={key:0,class:"no-redirect"},dn=["onClick"],fn=A({__name:"index",setup(n){const e=ve(),t=he(),{listenerRouteChange:s}=be(),o=D([]),a=()=>{o.value=e.matched.filter(c=>{var d,p;return((d=c.meta)==null?void 0:d.title)&&((p=c.meta)==null?void 0:p.breadcrumb)!==!1})},r=c=>Jt(c)(e.params),l=c=>{const{redirect:d,path:p}=c;if(d){t.push(d);return}t.push(r(p))};return s(c=>{c.path.startsWith("/redirect/")||a()},!0),(c,d)=>{const p=g("el-breadcrumb-item"),m=g("el-breadcrumb");return i(),b(m,null,{default:_(()=>[(i(!0),C(H,null,Y(o.value,(w,v)=>(i(),b(p,{key:w.path},{default:_(()=>[w.redirect==="noRedirect"||v===o.value.length-1?(i(),C("span",un,N(w.meta.title),1)):(i(),C("a",{key:1,onClick:re(h=>l(w),["prevent"])},N(w.meta.title),9,dn))]),_:2},1024))),128))]),_:1})}}}),pn=P(fn,[["__scopeId","data-v-5110efca"]]),_e=n=>/^(https?:|mailto:|tel:)/.test(n),mn=["href"],_n=A({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(t,s)=>{const o=g("router-link");return f(_e)(e.to)?(i(),C("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[de(t.$slots,"default")],8,mn)):(i(),b(o,{key:1,to:e.to},{default:_(()=>[de(t.$slots,"default")]),_:3},8,["to"]))}}});function j(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Pe(n,e){for(var t="",s=0,o=-1,a=0,r,l=0;l<=n.length;++l){if(l<n.length)r=n.charCodeAt(l);else{if(r===47)break;r=47}if(r===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",s=0):(t=t.slice(0,c),s=t.length-1-t.lastIndexOf("/")),o=l,a=0;continue}}else if(t.length===2||t.length===1){t="",s=0,o=l,a=0;continue}}e&&(t.length>0?t+="/..":t="..",s=2)}else t.length>0?t+="/"+n.slice(o+1,l):t=n.slice(o+1,l),s=l-o-1;o=l,a=0}else r===46&&a!==-1?++a:a=-1}return t}function vn(n,e){var t=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+s:t+n+s:s}var ne={resolve:function(){for(var e="",t=!1,s,o=arguments.length-1;o>=-1&&!t;o--){var a;o>=0?a=arguments[o]:(s===void 0&&(s=process.cwd()),a=s),j(a),a.length!==0&&(e=a+"/"+e,t=a.charCodeAt(0)===47)}return e=Pe(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(j(e),e.length===0)return".";var t=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=Pe(e,!t),e.length===0&&!t&&(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return j(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var s=arguments[t];j(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":ne.normalize(e)},relative:function(e,t){if(j(e),j(t),e===t||(e=ne.resolve(e),t=ne.resolve(t),e===t))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var o=e.length,a=o-s,r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var l=t.length,c=l-r,d=a<c?a:c,p=-1,m=0;m<=d;++m){if(m===d){if(c>d){if(t.charCodeAt(r+m)===47)return t.slice(r+m+1);if(m===0)return t.slice(r+m)}else a>d&&(e.charCodeAt(s+m)===47?p=m:m===0&&(p=0));break}var w=e.charCodeAt(s+m),v=t.charCodeAt(r+m);if(w!==v)break;w===47&&(p=m)}var h="";for(m=s+p+1;m<=o;++m)(m===o||e.charCodeAt(m)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+t.slice(r+p):(r+=p,t.charCodeAt(r)===47&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(j(e),e.length===0)return".";for(var t=e.charCodeAt(0),s=t===47,o=-1,a=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),t===47){if(!a){o=r;break}}else a=!1;return o===-1?s?"/":".":s&&o===1?"//":e.slice(0,o)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');j(e);var s=0,o=-1,a=!0,r;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var d=e.charCodeAt(r);if(d===47){if(!a){s=r+1;break}}else c===-1&&(a=!1,c=r+1),l>=0&&(d===t.charCodeAt(l)?--l===-1&&(o=r):(l=-1,o=c))}return s===o?o=c:o===-1&&(o=e.length),e.slice(s,o)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!a){s=r+1;break}}else o===-1&&(a=!1,o=r+1);return o===-1?"":e.slice(s,o)}},extname:function(e){j(e);for(var t=-1,s=0,o=-1,a=!0,r=0,l=e.length-1;l>=0;--l){var c=e.charCodeAt(l);if(c===47){if(!a){s=l+1;break}continue}o===-1&&(a=!1,o=l+1),c===46?t===-1?t=l:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||o===-1||r===0||r===1&&t===o-1&&t===s+1?"":e.slice(t,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return vn("/",e)},parse:function(e){j(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var s=e.charCodeAt(0),o=s===47,a;o?(t.root="/",a=1):a=0;for(var r=-1,l=0,c=-1,d=!0,p=e.length-1,m=0;p>=a;--p){if(s=e.charCodeAt(p),s===47){if(!d){l=p+1;break}continue}c===-1&&(d=!1,c=p+1),s===46?r===-1?r=p:m!==1&&(m=1):r!==-1&&(m=-1)}return r===-1||c===-1||m===0||m===1&&r===c-1&&r===l+1?c!==-1&&(l===0&&o?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(l,c)):(l===0&&o?(t.name=e.slice(1,r),t.base=e.slice(1,c)):(t.name=e.slice(l,r),t.base=e.slice(l,c)),t.ext=e.slice(r,c)),l>0?t.dir=e.slice(0,l-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne;var hn=ne;const st=kt(hn),gn={key:2},yn=A({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(n){const e=n,t=L(()=>{var l;return(l=e.item.meta)==null?void 0:l.alwaysShow}),s=L(()=>{var l;return((l=e.item.children)==null?void 0:l.filter(c=>{var d;return!((d=c.meta)!=null&&d.hidden)}))??[]}),o=L(()=>s.value.length),a=L(()=>{const l=o.value;switch(!0){case l>1:return null;case l===1:return s.value[0];default:return{...e.item,path:""}}}),r=l=>{switch(!0){case _e(l):return l;case _e(e.basePath):return e.basePath;default:return st.resolve(e.basePath,l)}};return(l,c)=>{const d=g("SvgIcon"),p=g("el-menu-item"),m=g("SidebarItem",!0),w=g("el-sub-menu");return!t.value&&a.value&&!a.value.children?(i(),C(H,{key:0},[a.value.meta?(i(),b(_n,{key:0,to:r(a.value.path)},{default:_(()=>[u(p,{index:r(a.value.path)},it({default:_(()=>[a.value.meta.svgIcon?(i(),b(d,{key:0,name:a.value.meta.svgIcon},null,8,["name"])):a.value.meta.elIcon?(i(),b(ue(a.value.meta.elIcon),{key:1,class:"el-icon"})):I("",!0)]),_:2},[a.value.meta.title?{name:"title",fn:_(()=>[K(N(a.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):I("",!0)],64)):(i(),b(w,{key:1,index:r(e.item.path),teleported:""},{title:_(()=>{var v,h,x;return[(v=e.item.meta)!=null&&v.svgIcon?(i(),b(d,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(h=e.item.meta)!=null&&h.elIcon?(i(),b(ue(e.item.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),(x=e.item.meta)!=null&&x.title?(i(),C("span",gn,N(e.item.meta.title),1)):I("",!0)]}),default:_(()=>[e.item.children?(i(!0),C(H,{key:0},Y(s.value,v=>(i(),b(m,{key:v.path,item:v,"base-path":r(v.path)},null,8,["item","base-path"]))),128)):I("",!0)]),_:1},8,["index"]))}}}),bn=P(yn,[["__scopeId","data-v-9391d27c"]]),wn="/v3-admin-vite/static/logo-BY3URNHQ.png",kn="/v3-admin-vite/static/logo-text-1-CHuEm79x.png",Sn="/v3-admin-vite/static/logo-text-2-CVewf8RJ.png",xn=["src"],Cn=["src"],$n=A({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,{isLeft:t,isTop:s}=ee();return(o,a)=>{const r=g("router-link");return i(),C("div",{class:q(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":f(s)}])},[u(Xe,{name:"layout-logo-fade"},{default:_(()=>[e.collapse?(i(),b(r,{key:"collapse",to:"/"},{default:_(()=>[k("img",{src:f(wn),class:"layout-logo"},null,8,xn)]),_:1})):(i(),b(r,{key:"expand",to:"/"},{default:_(()=>[k("img",{src:f(t)?f(kn):f(Sn),class:"layout-logo-text"},null,8,Cn)]),_:1}))]),_:1})],2)}}}),Le=P($n,[["__scopeId","data-v-52f1a9b3"]]),ie=(n,e=document.documentElement)=>n!=null&&n.startsWith("--")?getComputedStyle(e).getPropertyValue(n):(console.warn("CSS 变量名应以 '--' 开头"),""),Fe=(n,e,t=document.documentElement)=>{if(!(n!=null&&n.startsWith("--"))){console.warn("CSS 变量名应以 '--' 开头");return}t.style.setProperty(n,e)},Tn=A({__name:"index",setup(n){Ke(V=>({"3c13d016":O.value,a4029414:R.value,cc5b4bc4:B.value,"2d82259e":F.value}));const e=ie("--v3-sidebar-menu-bg-color"),t=ie("--v3-sidebar-menu-text-color"),s=ie("--v3-sidebar-menu-active-text-color"),{isMobile:o}=ae(),{isLeft:a,isTop:r}=ee(),l=ve(),c=se(),d=Ce(),p=G(),m=L(()=>{const{meta:{activeMenu:V},path:S}=l;return V||S}),w=L(()=>d.routes.filter(V=>{var S;return!((S=V.meta)!=null&&S.hidden)})),v=L(()=>!c.sidebar.opened),h=L(()=>a.value&&p.showLogo),x=L(()=>a.value?e:void 0),M=L(()=>a.value?t:void 0),F=L(()=>a.value?s:void 0),R=L(()=>r.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),B=L(()=>r.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),O=L(()=>r.value?"0px":"2px");return(V,S)=>{const $=g("el-menu"),y=g("el-scrollbar");return i(),C("div",{class:q({"has-logo":h.value})},[h.value?(i(),b(Le,{key:0,collapse:v.value},null,8,["collapse"])):I("",!0),u(y,{"wrap-class":"scrollbar-wrapper"},{default:_(()=>[u($,{"default-active":m.value,collapse:v.value&&!f(r),"background-color":x.value,"text-color":M.value,"active-text-color":F.value,"unique-opened":!0,"collapse-transition":!1,mode:f(r)&&!f(o)?"horizontal":"vertical"},{default:_(()=>[(i(!0),C(H,null,Y(w.value,T=>(i(),b(bn,{key:T.path,item:T,"base-path":T.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Ie=P(Tn,[["__scopeId","data-v-d9a55038"]]),En={class:"card-header"},Vn={class:"card-title"},Mn={class:"card-time"},Ln={key:0,class:"card-avatar"},In=["src"],An={class:"card-body"},Rn=A({__name:"NotifyList",props:{list:{}},setup(n){const e=n;return(t,s)=>{const o=g("el-empty"),a=g("el-tag"),r=g("el-card");return e.list.length===0?(i(),b(o,{key:0})):(i(!0),C(H,{key:1},Y(e.list,(l,c)=>(i(),b(r,{key:c,shadow:"never",class:"card-container"},{header:_(()=>[k("div",En,[k("div",null,[k("span",null,[k("span",Vn,N(l.title),1),l.extra?(i(),b(a,{key:0,type:l.status,effect:"plain",size:"small"},{default:_(()=>[K(N(l.extra),1)]),_:2},1032,["type"])):I("",!0)]),k("div",Mn,N(l.datetime),1)]),l.avatar?(i(),C("div",Ln,[k("img",{src:l.avatar,width:"34"},null,8,In)])):I("",!0)])]),default:_(()=>[k("div",An,N(l.description??"No Data"),1)]),_:2},1024))),128))}}}),Dn=P(Rn,[["__scopeId","data-v-c0dacc5d"]]),Pn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"一年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"两年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Fn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],zn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Wn={class:"notify"},Nn={class:"notify-history"},ze=99,Un=350,Bn=A({__name:"index",setup(n){const e=L(()=>s.value.reduce((a,r)=>a+r.list.length,0)),t=D("通知"),s=D([{name:"通知",type:"primary",list:Pn},{name:"消息",type:"danger",list:Fn},{name:"待办",type:"warning",list:zn}]),o=()=>{pe.success(`跳转到${t.value}历史页面`)};return(a,r)=>{const l=g("el-icon"),c=g("el-tooltip"),d=g("el-badge"),p=g("el-scrollbar"),m=g("el-tab-pane"),w=g("el-tabs"),v=g("el-button"),h=g("el-popover");return i(),C("div",Wn,[u(h,{placement:"bottom",width:Un,trigger:"click"},{reference:_(()=>[u(d,{value:e.value,max:ze,hidden:e.value===0},{default:_(()=>[u(c,{effect:"dark",content:"消息通知",placement:"bottom"},{default:_(()=>[u(l,{size:20},{default:_(()=>[u(f(St))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:_(()=>[u(w,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=x=>t.value=x),class:"demo-tabs",stretch:""},{default:_(()=>[(i(!0),C(H,null,Y(s.value,(x,M)=>(i(),b(m,{name:x.name,key:M},{label:_(()=>[K(N(x.name)+" ",1),u(d,{value:x.list.length,max:ze,type:x.type},null,8,["value","type"])]),default:_(()=>[u(p,{height:"400px"},{default:_(()=>[u(Dn,{list:x.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),k("div",Nn,[u(v,{link:"",onClick:o},{default:_(()=>[K("查看"+N(t.value)+"历史",1)]),_:1})])]),_:1})])}}}),On=P(Bn,[["__scopeId","data-v-a5fd6355"]]),We=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],J=(()=>{if(typeof document>"u")return!1;const n=We[0],e={};for(const t of We)if((t==null?void 0:t[1])in document){for(const[o,a]of t.entries())e[n[o]]=a;return e}return!1})(),Ne={change:J.fullscreenchange,error:J.fullscreenerror};let W={request(n=document.documentElement,e){return new Promise((t,s)=>{const o=()=>{W.off("change",o),t()};W.on("change",o);const a=n[J.requestFullscreen](e);a instanceof Promise&&a.then(o).catch(s)})},exit(){return new Promise((n,e)=>{if(!W.isFullscreen){n();return}const t=()=>{W.off("change",t),n()};W.on("change",t);const s=document[J.exitFullscreen]();s instanceof Promise&&s.then(t).catch(e)})},toggle(n,e){return W.isFullscreen?W.exit():W.request(n,e)},onchange(n){W.on("change",n)},onerror(n){W.on("error",n)},on(n,e){const t=Ne[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=Ne[n];t&&document.removeEventListener(t,e,!1)},raw:J};Object.defineProperties(W,{isFullscreen:{get:()=>!!document[J.fullscreenElement]},element:{enumerable:!0,get:()=>document[J.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[J.fullscreenEnabled]}});J||(W={isEnabled:!1});const Ue="content-large",Be="content-full",qn=A({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,t=document.body.classList,s=W.isEnabled,o=D(!1),a=L(()=>o.value?e.exitTips:e.openTips),r=L(()=>o.value?"fullscreen-exit":"fullscreen"),l=()=>{const h=document.querySelector(e.element)||void 0;s?W.toggle(h):pe.warning("您的浏览器无法工作")},c=()=>{o.value=W.isFullscreen,o.value||t.remove(Ue,Be)};fe(h=>{s&&(W.on("change",c),h(()=>W.off("change",c)))});const d=D(!1),p=L(()=>d.value?"内容区复原":"内容区放大"),m=L(()=>d.value?"fullscreen-exit":"fullscreen"),w=()=>{d.value=!d.value,t.toggle(Ue,d.value)},v=()=>{d.value&&w(),t.add(Be),l()};return(h,x)=>{const M=g("SvgIcon"),F=g("el-tooltip"),R=g("el-dropdown-item"),B=g("el-dropdown-menu"),O=g("el-dropdown");return i(),C("div",null,[h.content?(i(),b(O,{key:1,disabled:o.value},{dropdown:_(()=>[u(B,null,{default:_(()=>[u(R,{onClick:w},{default:_(()=>[K(N(p.value),1)]),_:1}),u(R,{onClick:v},{default:_(()=>x[0]||(x[0]=[K("内容区全屏")])),_:1})]),_:1})]),default:_(()=>[u(M,{name:m.value},null,8,["name"])]),_:1},8,["disabled"])):(i(),b(F,{key:0,effect:"dark",content:a.value,placement:"bottom"},{default:_(()=>[u(M,{name:r.value,onClick:l},null,8,["name"])]),_:1},8,["content"]))])}}}),at=P(qn,[["__scopeId","data-v-edf5152e"]]),Hn=["onMouseenter"],jn={class:"result-item-title"},Xn=A({__name:"SearchResult",props:dt({list:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:e}){const t=Ge(n,"modelValue"),s=n,o=ut(),a=D(0),r=p=>{const m=p.name===t.value;return{background:m?"var(--el-color-primary)":"",color:m?"#ffffff":""}},l=p=>{s.isPressUpOrDown||(t.value=p.name)},c=()=>{a.value=Number((window.innerHeight*.4).toFixed(1))},d=p=>{var h;const m=(h=o==null?void 0:o.proxy)==null?void 0:h.$refs[`resultItemRef${p}`];if(!m)return 0;const v=m[0].offsetTop+128;return v>a.value?v-a.value:0};return qe(()=>{window.addEventListener("resize",c)}),He(()=>{c()}),je(()=>{window.removeEventListener("resize",c)}),e({getScrollTop:d}),(p,m)=>{const w=g("SvgIcon");return i(),C("div",null,[(i(!0),C(H,null,Y(p.list,(v,h)=>{var x,M,F;return i(),C("div",{key:h,ref_for:!0,ref:`resultItemRef${h}`,class:"result-item",style:Je(r(v)),onMouseenter:R=>l(v)},[(x=v.meta)!=null&&x.svgIcon?(i(),b(w,{key:0,name:v.meta.svgIcon},null,8,["name"])):(M=v.meta)!=null&&M.elIcon?(i(),b(ue(v.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),k("span",jn,N((F=v.meta)==null?void 0:F.title),1),t.value&&t.value===v.name?(i(),b(w,{key:2,name:"keyboard-enter"})):I("",!0)],44,Hn)}),128))])}}}),Kn=P(Xn,[["__scopeId","data-v-91c42de6"]]),Gn={class:"search-footer"},Jn={class:"search-footer-item"},Yn={class:"search-footer-item"},Zn={class:"search-footer-item"},Qn={class:"search-footer-total"},eo=A({__name:"SearchFooter",props:{total:{}},setup(n){const e=n,{isMobile:t}=ae();return(s,o)=>{const a=g("SvgIcon");return i(),C("div",Gn,[f(t)?I("",!0):(i(),C(H,{key:0},[k("span",Jn,[u(a,{name:"keyboard-enter"}),o[0]||(o[0]=k("span",null,"确认",-1))]),k("span",Yn,[u(a,{name:"keyboard-up"}),u(a,{name:"keyboard-down"}),o[1]||(o[1]=k("span",null,"切换",-1))]),k("span",Zn,[u(a,{name:"keyboard-esc"}),o[2]||(o[2]=k("span",null,"关闭",-1))])],64)),k("span",Qn,"共 "+N(e.total)+" 项",1)])}}}),to=P(eo,[["__scopeId","data-v-8dce46e8"]]),no=A({__name:"SearchModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(n){const e=Ge(n,"modelValue"),t=he(),{isMobile:s}=ae(),o=D(null),a=D(null),r=D(null),l=D(""),c=ft([]),d=D(void 0),p=D(!1),m=L(()=>s.value?"80vw":"40vw"),w=L(()=>xt(Ce().routes)),v=Ct(()=>{var $;const V=h(w.value);c.value=V.filter(y=>{var T,U;return l.value?(U=(T=y.meta)==null?void 0:T.title)==null?void 0:U.toLocaleLowerCase().includes(l.value.toLocaleLowerCase().trim()):!1});const S=($=c.value)==null?void 0:$.length;d.value=S>0?c.value[0].name:void 0},500),h=(V,S=[])=>(V.forEach($=>{S.push($),$.children&&h($.children,S)}),S),x=()=>{e.value=!1,setTimeout(()=>{l.value="",c.value=[]},200)},M=V=>{var $;if(!r.value)return;const S=r.value.getScrollTop(V);($=a.value)==null||$.setScrollTop(S)},F=()=>{p.value=!0;const{length:V}=c.value;if(V===0)return;const S=c.value.findIndex($=>$.name===d.value);if(S===0){const $=c.value[V-1].name;d.value===$&&V>1?(d.value=c.value[V-2].name,M(V-2)):(d.value=$,M(V-1))}else d.value=c.value[S-1].name,M(S-1)},R=()=>{p.value=!0;const{length:V}=c.value;if(V===0)return;const S=c.value.map($=>$.name).lastIndexOf(d.value);if(S===V-1){const $=c.value[0].name;d.value===$&&V>1?(d.value=c.value[1].name,M(1)):(d.value=$,M(0))}else d.value=c.value[S+1].name,M(S+1)},B=()=>{var y;const{length:V}=c.value;if(V===0)return;const S=d.value,$=(y=c.value.find(T=>T.name===S))==null?void 0:y.path;if($&&_e($)){window.open($,"_blank","noopener, noreferrer");return}if(!S){pe.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{t.push({name:S})}catch{pe.error("该菜单有必填的动态参数，无法通过搜索进入");return}x()},O=()=>{p.value=!1};return(V,S)=>{const $=g("SvgIcon"),y=g("el-input"),T=g("el-empty"),U=g("el-dialog");return i(),b(U,{modelValue:e.value,"onUpdate:modelValue":S[2]||(S[2]=E=>e.value=E),onOpened:S[3]||(S[3]=E=>{var z;return(z=o.value)==null?void 0:z.focus()}),onClosed:S[4]||(S[4]=E=>{var z;return(z=o.value)==null?void 0:z.blur()}),onKeydown:[le(F,["up"]),le(R,["down"]),le(B,["enter"])],onKeyup:le(O,["up","down"]),"before-close":x,width:m.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:_(()=>[u(to,{total:c.value.length},null,8,["total"])]),default:_(()=>[u(y,{ref_key:"inputRef",ref:o,modelValue:l.value,"onUpdate:modelValue":S[0]||(S[0]=E=>l.value=E),onInput:f(v),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:_(()=>[u($,{name:"search"})]),_:1},8,["modelValue","onInput"]),c.value.length===0?(i(),b(T,{key:0,description:"暂无搜索结果","image-size":100})):(i(),C(H,{key:1},[S[5]||(S[5]=k("p",null,"搜索结果",-1)),u(f(Qe),{ref_key:"scrollbarRef",ref:a,"max-height":"40vh",always:""},{default:_(()=>[u(Kn,{ref_key:"searchResultRef",ref:r,modelValue:d.value,"onUpdate:modelValue":S[1]||(S[1]=E=>d.value=E),list:c.value,isPressUpOrDown:p.value,onClick:B},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),oo=A({__name:"index",setup(n){const e=D(!1),t=()=>{e.value=!0};return(s,o)=>{const a=g("SvgIcon"),r=g("el-tooltip");return i(),C("div",null,[u(r,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:_(()=>[u(a,{name:"search",onClick:t})]),_:1}),u(no,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=l=>e.value=l)},null,8,["modelValue"])])}}}),so=P(oo,[["__scopeId","data-v-dc5accb4"]]),ao={class:"navigation-bar"},lo={class:"right-menu"},ro={class:"right-menu-avatar"},co={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},io={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},uo=A({__name:"index",setup(n){const{isMobile:e}=ae(),{isTop:t}=ee(),s=he(),o=se(),a=ht(),r=G(),{showNotify:l,showThemeSwitch:c,showScreenfull:d,showSearchMenu:p}=oe(r),m=()=>{o.toggleSidebar(!1)},w=()=>{a.logout(),s.push("/login")};return(v,h)=>{const x=g("el-avatar"),M=g("el-dropdown-item"),F=g("el-dropdown-menu"),R=g("el-dropdown");return i(),C("div",ao,[!f(t)||f(e)?(i(),b(Gt,{key:0,"is-active":f(o).sidebar.opened,class:"hamburger",onToggleClick:m},null,8,["is-active"])):I("",!0),!f(t)||f(e)?(i(),b(pn,{key:1,class:"breadcrumb"})):I("",!0),f(t)&&!f(e)?(i(),b(Ie,{key:2,class:"sidebar"})):I("",!0),k("div",lo,[f(p)?(i(),b(so,{key:0,class:"right-menu-item"})):I("",!0),f(d)?(i(),b(at,{key:1,class:"right-menu-item"})):I("",!0),f(c)?(i(),b(It,{key:2,class:"right-menu-item"})):I("",!0),f(l)?(i(),b(On,{key:3,class:"right-menu-item"})):I("",!0),u(R,{class:"right-menu-item"},{dropdown:_(()=>[u(F,null,{default:_(()=>[k("a",co,[u(M,null,{default:_(()=>h[0]||(h[0]=[K("GitHub")])),_:1})]),k("a",io,[u(M,null,{default:_(()=>h[1]||(h[1]=[K("Gitee")])),_:1})]),u(M,{divided:"",onClick:w},{default:_(()=>h[2]||(h[2]=[k("span",{style:{display:"block"}},"退出登录",-1)])),_:1})]),_:1})]),default:_(()=>[k("div",ro,[u(x,{icon:f($t),size:30},null,8,["icon"]),k("span",null,N(f(a).username),1)])]),_:1})])])}}}),Ae=P(uo,[["__scopeId","data-v-1ee6dd91"]]),fo={class:"select-layout-mode"},po=A({__name:"SelectLayoutMode",setup(n){const{isLeft:e,isTop:t,isLeftTop:s,setLayoutMode:o}=ee();return(a,r)=>{const l=g("el-aside"),c=g("el-header"),d=g("el-main"),p=g("el-container"),m=g("el-tooltip");return i(),C("div",fo,[u(m,{content:"左侧模式"},{default:_(()=>[u(p,{class:q(["layout-mode left",{active:f(e)}]),onClick:r[0]||(r[0]=w=>f(o)(f(te).Left))},{default:_(()=>[u(l),u(p,null,{default:_(()=>[u(c),u(d)]),_:1})]),_:1},8,["class"])]),_:1}),u(m,{content:"顶部模式"},{default:_(()=>[u(p,{class:q(["layout-mode top",{active:f(t)}]),onClick:r[1]||(r[1]=w=>f(o)(f(te).Top))},{default:_(()=>[u(c),u(d)]),_:1},8,["class"])]),_:1}),u(m,{content:"混合模式"},{default:_(()=>[u(p,{class:q(["layout-mode left-top",{active:f(s)}]),onClick:r[2]||(r[2]=w=>f(o)(f(te).LeftTop))},{default:_(()=>[u(c),u(p,null,{default:_(()=>[u(l),u(d)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),mo=P(po,[["__scopeId","data-v-b859d856"]]),_o={class:"setting-container"},vo={class:"setting-name"},ho=A({__name:"index",setup(n){const{isLeft:e}=ee(),t=G(),{showTagsView:s,showLogo:o,fixedHeader:a,showFooter:r,showNotify:l,showThemeSwitch:c,showScreenfull:d,showSearchMenu:p,cacheTagsView:m,showWatermark:w,showGreyMode:v,showColorWeakness:h}=oe(t),x={显示标签栏:s,"显示 Logo":o,"固定 Header":a,"显示页脚 Footer":r,显示消息通知:l,显示切换主题按钮:c,显示全屏按钮:d,显示搜索按钮:p,是否缓存标签栏:m,开启系统水印:w,显示灰色模式:v,显示色弱模式:h};fe(()=>{!e.value&&(a.value=!0)});const M=()=>{gt(),location.reload()};return(F,R)=>{const B=g("el-divider"),O=g("el-switch"),V=g("el-button");return i(),C("div",_o,[R[1]||(R[1]=k("h4",null,"布局配置",-1)),u(mo),u(B),R[2]||(R[2]=k("h4",null,"功能配置",-1)),(i(),C(H,null,Y(x,(S,$,y)=>k("div",{class:"setting-item",key:y},[k("span",vo,N($),1),u(O,{modelValue:S.value,"onUpdate:modelValue":T=>S.value=T,disabled:!f(e)&&$==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),u(V,{type:"danger",icon:f(Tt),onClick:M},{default:_(()=>R[0]||(R[0]=[K("重 置")])),_:1},8,["icon"])])}}}),go=P(ho,[["__scopeId","data-v-0520d80d"]]),yo={class:"scroll-container"},bo=200,wo=A({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,t=ve(),s=G(),{listenerRouteChange:o}=be(),a=D(),r=D();let l=0;const c=({scrollLeft:v})=>{l=v},d=({deltaY:v})=>{/^-/.test(v.toString())?m("left"):m("right")},p=()=>{const v=r.value.clientWidth,h=a.value.wrapRef.clientWidth,x=v-h-l;return{scrollbarContentRefWidth:v,scrollbarRefWidth:h,lastDistance:x}},m=(v,h=bo)=>{let x=0;const{scrollbarContentRefWidth:M,scrollbarRefWidth:F,lastDistance:R}=p();F>M||(v==="left"?x=Math.max(0,l-h):x=Math.min(l+h,l+R),a.value.setScrollLeft(x))},w=()=>{const v=e.tagRefs;for(let h=0;h<v.length;h++)if(t.path===v[h].$props.to.path){const x=v[h].$el,M=x.offsetWidth,F=x.offsetLeft,{scrollbarRefWidth:R}=p();if(F<l){const O=l-F;m("left",O);return}const B=R+l-M;if(F>B){const O=F-B;m("right",O);return}}};return o(()=>{pt(w)}),(v,h)=>{const x=g("el-icon");return i(),C("div",yo,[u(x,{class:"arrow left",onClick:h[0]||(h[0]=M=>m("left"))},{default:_(()=>[u(f(Et))]),_:1}),u(f(Qe),{ref_key:"scrollbarRef",ref:a,onWheelPassive:d,onScroll:c},{default:_(()=>[k("div",{ref_key:"scrollbarContentRef",ref:r,class:"scrollbar-content"},[de(v.$slots,"default",{},void 0,!0)],512)]),_:3},512),u(x,{class:"arrow right",onClick:h[1]||(h[1]=M=>m("right"))},{default:_(()=>[u(f(Vt))]),_:1}),f(s).showScreenfull?(i(),b(at,{key:0,content:!0,class:"screenfull"})):I("",!0)])}}}),ko=P(wo,[["__scopeId","data-v-5784e87c"]]),So={class:"tags-view-container"},xo=A({__name:"index",setup(n){const e=he(),t=ve(),s=Ze(),o=Ce(),{listenerRouteChange:a}=be(),r=D([]),l=D(!1),c=D(0),d=D(0),p=D({});let m=[];const w=y=>y.path===t.path,v=y=>{var T;return(T=y.meta)==null?void 0:T.affix},h=(y,T="/")=>{const U=[];return y.forEach(E=>{if(v(E)){const z=st.resolve(T,E.path);U.push({fullPath:z,path:z,name:E.name,meta:{...E.meta}})}if(E.children){const z=h(E.children,E.path);U.push(...z)}}),U},x=()=>{m=h(o.routes);for(const y of m)y.name&&s.addVisitedView(y)},M=y=>{y.name&&(s.addVisitedView(y),s.addCachedView(y))},F=y=>{s.delCachedView(y),e.replace({path:"/redirect"+y.path,query:y.query})},R=y=>{s.delVisitedView(y),s.delCachedView(y),w(y)&&V(s.visitedViews,y)},B=()=>{const y=p.value.fullPath;y!==t.path&&y!==void 0&&e.push(y),s.delOthersVisitedViews(p.value),s.delOthersCachedViews(p.value)},O=y=>{s.delAllVisitedViews(),s.delAllCachedViews(),!m.some(T=>T.path===t.path)&&V(s.visitedViews,y)},V=(y,T)=>{const U=y.slice(-1)[0],E=U==null?void 0:U.fullPath;E!==void 0?e.push(E):T.name==="Dashboard"?e.push({path:"/redirect"+T.path,query:T.query}):e.push("/")},S=(y,T)=>{const z=document.body.offsetWidth-100,Se=T.clientX+10;d.value=Se>z?z:Se,c.value=T.clientY,l.value=!0,p.value=y},$=()=>{l.value=!1};return Oe(l,y=>{y?document.body.addEventListener("click",$):document.body.removeEventListener("click",$)}),x(),a(y=>{M(y)},!0),(y,T)=>{const U=g("el-icon");return i(),C("div",So,[u(ko,{class:"tags-view-wrapper","tag-refs":r.value},{default:_(()=>[(i(!0),C(H,null,Y(f(s).visitedViews,E=>(i(),b(f(mt),{ref_for:!0,ref_key:"tagRefs",ref:r,key:E.path,class:q([{active:w(E)},"tags-view-item"]),to:{path:E.path,query:E.query},onMouseup:re(z=>!v(E)&&R(E),["middle"]),onContextmenu:re(z=>S(E,z),["prevent"])},{default:_(()=>{var z;return[K(N((z=E.meta)==null?void 0:z.title)+" ",1),v(E)?I("",!0):(i(),b(U,{key:0,size:12,onClick:re(Se=>R(E),["prevent","stop"])},{default:_(()=>[u(f(Mt))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),ge(k("ul",{class:"contextmenu",style:Je({left:d.value+"px",top:c.value+"px"})},[k("li",{onClick:T[0]||(T[0]=E=>F(p.value))},"刷新"),v(p.value)?I("",!0):(i(),C("li",{key:0,onClick:T[1]||(T[1]=E=>R(p.value))},"关闭")),k("li",{onClick:B},"关闭其它"),k("li",{onClick:T[2]||(T[2]=E=>O(p.value))},"关闭所有")],4),[[ye,l.value]])])}}}),Re=P(xo,[["__scopeId","data-v-01b5745a"]]),Co=A({__name:"index",props:{buttonTop:{default:350}},setup(n){Ke(o=>({"14e85e11":t}));const t=n.buttonTop+"px",s=D(!1);return(o,a)=>{const r=g("el-icon"),l=g("el-drawer");return i(),C(H,null,[k("div",{class:"handle-button",onClick:a[0]||(a[0]=c=>s.value=!0)},[u(r,{size:24},{default:_(()=>[u(f(Lt))]),_:1})]),u(l,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=c=>s.value=c),size:"300px","with-header":!1},{default:_(()=>[de(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),$o=P(Co,[["__scopeId","data-v-272ec5c4"]]),To=A({__name:"LeftMode",setup(n){const{isMobile:e}=ae(),{isLeft:t}=ee(),s=se(),o=G(),{showTagsView:a,fixedHeader:r}=oe(o),l=L(()=>({hideSidebar:!s.sidebar.opened,openSidebar:s.sidebar.opened,withoutAnimation:s.sidebar.withoutAnimation,mobile:e.value,noLeft:!t.value})),c=()=>{s.closeSidebar(!1)};return(d,p)=>(i(),C("div",{class:q([l.value,"app-wrapper"])},[l.value.mobile&&l.value.openSidebar?(i(),C("div",{key:0,class:"drawer-bg",onClick:c})):I("",!0),u(f(Ie),{class:"sidebar-container"}),k("div",{class:q([{hasTagsView:f(a)},"main-container"])},[k("div",{class:q([{"fixed-header":f(r)},"layout-header"])},[u(f(Ae)),ge(u(f(Re),null,null,512),[[ye,f(a)]])],2),u(f($e),{class:"app-main"})],2)],2))}}),Eo=P(To,[["__scopeId","data-v-e4154407"]]),Vo={class:"app-wrapper"},Mo={class:"fixed-header layout-header"},Lo={class:"content"},Io=A({__name:"TopMode",setup(n){const e=G(),{showTagsView:t,showLogo:s}=oe(e);return(o,a)=>(i(),C("div",Vo,[k("div",Mo,[k("div",Lo,[f(s)?(i(),b(f(Le),{key:0,collapse:!1,class:"logo"})):I("",!0),u(f(Ae),{class:"navigation-bar"})]),ge(u(f(Re),null,null,512),[[ye,f(t)]])]),k("div",{class:q([{hasTagsView:f(t)},"main-container"])},[u(f($e),{class:"app-main"})],2)]))}}),Ao=P(Io,[["__scopeId","data-v-da4d3997"]]),Ro={class:"fixed-header layout-header"},Do={class:"content"},Po=A({__name:"LeftTopMode",setup(n){const e=se(),t=G(),{showTagsView:s,showLogo:o}=oe(t),a=L(()=>({hideSidebar:!e.sidebar.opened}));return(r,l)=>(i(),C("div",{class:q([a.value,"app-wrapper"])},[k("div",Ro,[f(o)?(i(),b(f(Le),{key:0,collapse:!1,class:"logo"})):I("",!0),k("div",Do,[u(f(Ae)),ge(u(f(Re),null,null,512),[[ye,f(s)]])])]),k("div",{class:q([{hasTagsView:f(s)},"main-container"])},[u(f(Ie),{class:"sidebar-container"}),u(f($e),{class:"app-main"})],2)],2))}}),Fo=P(Po,[["__scopeId","data-v-6c3d4686"]]),xe="--v3-tagsview-height",qo=A({__name:"index",setup(n){Dt();const{setWatermark:e,clearWatermark:t}=yt(),{isMobile:s}=ae(),{isLeft:o,isTop:a,isLeftTop:r}=ee(),l=G(),{showSettings:c,showTagsView:d,showWatermark:p}=oe(l),m=ie(xe);return fe(()=>{d.value?Fe(xe,m):Fe(xe,"0px")}),fe(()=>{p.value?e("V3 Admin Vite"):t()}),(w,v)=>(i(),C("div",null,[f(o)||f(s)?(i(),b(Eo,{key:0})):f(a)?(i(),b(Ao,{key:1})):f(r)?(i(),b(Fo,{key:2})):I("",!0),f(c)?(i(),b(f($o),{key:3},{default:_(()=>[u(f(go))]),_:1})):I("",!0)]))}});export{qo as default};
