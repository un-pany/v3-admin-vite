import{aB as dt,Z as ft,r as P,d as je,E as Ke,c as Ee,A as Ge,f as V,m as A,p as d,q as $,T as z,u as m,ah as y,t as x,U as p,O as g,W as Je,M as w,Q as pe,aC as pt,R,aD as ge,aE as be,a7 as Y,a2 as de,F as H,H as me,a9 as mt,S as K,I as O,aF as Ye,w as _e,aG as _t,aH as Ze,b as Qe,J as et,aI as Ve,aJ as Me,s as vt,a8 as ue,aK as se,n as ht,aL as gt,P as ye,V as we}from"./vue-DFPEx4lP.js";import{g as bt,S as tt,D as Q,s as We,a as yt,u as ke,b as G,L as te,_ as D,c as nt,r as wt,d as Ie,e as kt}from"./index-DTcwIM70.js";import{u as xt}from"./useWatermark-Dw54A1c_.js";import{h as St,j as Ct,g as $t,k as Tt,b as ve,l as Et,n as Vt,o as ot,u as Mt,r as It,p as Rt,q as Lt,s as At,t as Dt}from"./element-BtM_n4iJ.js";import{_ as Pt}from"./index.vue_vue_type_script_setup_true_lang-tPadiG8Y.js";import"./vxe-Rdi24jM-.js";function Ft(n){n?We(yt):We(tt)}const ae=dt("app",()=>{const n=ft({opened:bt()!==tt,withoutAnimation:!1}),e=P(Q.Desktop);return je(()=>n.opened,a=>Ft(a)),{device:e,sidebar:n,toggleSidebar:a=>{n.opened=!n.opened,n.withoutAnimation=a},closeSidebar:a=>{n.opened=!1,n.withoutAnimation=a},toggleDevice:a=>{e.value=a}}}),Nt=992,zt=()=>{const n=ae(),{listenerRouteChange:e}=ke(),t=()=>document.body.getBoundingClientRect().width-1<Nt,o=()=>{if(!document.hidden){const s=t();n.toggleDevice(s?Q.Mobile:Q.Desktop),s&&n.closeSidebar(!0)}};e(()=>{n.device===Q.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),Ke(()=>{window.addEventListener("resize",o)}),Ee(()=>{t()&&(n.toggleDevice(Q.Mobile),n.closeSidebar(!0))}),Ge(()=>{window.removeEventListener("resize",o)})},st=ae(),Bt=V(()=>st.device===Q.Mobile),Wt=V(()=>st.device===Q.Desktop);function re(){return{isMobile:Bt,isDesktop:Wt}}const xe=G(),Ut=V(()=>xe.layoutMode===te.Left),Ot=V(()=>xe.layoutMode===te.Top),Ht=V(()=>xe.layoutMode===te.LeftTop),qt=n=>{xe.layoutMode=n};function le(){return{isLeft:Ut,isTop:Ot,isLeftTop:Ht,setLayoutMode:qt}}const Xt={class:"layout-footer"},jt=A({__name:"index",setup(n){const e="V3 Admin Vite";return(t,o)=>(d(),$("footer",Xt,"MIT © 2021-PRESENT "+z(m(e)),1))}}),Kt=D(jt,[["__scopeId","data-v-18d14396"]]),Gt={class:"app-main"},Jt={class:"app-scrollbar"},Yt=A({__name:"AppMain",setup(n){const e=nt(),t=G();return(o,s)=>{const a=y("router-view"),r=y("el-backtop");return d(),$("section",Gt,[x("div",Jt,[p(a,null,{default:g(({Component:l,route:c})=>[p(Je,{name:"el-fade-in",mode:"out-in"},{default:g(()=>[(d(),w(pt,{include:m(e).cachedViews},[(d(),w(pe(l),{key:c.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),m(t).showFooter?(d(),w(Kt,{key:0})):R("",!0)]),p(r),p(r,{target:".app-scrollbar"})])}}}),Re=D(Yt,[["__scopeId","data-v-e96aa434"]]),Zt=A({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(n,{emit:e}){const t=n,o=e,s=()=>{o("toggleClick")};return(a,r)=>{const l=y("el-icon");return d(),$("div",{onClick:s},[p(l,{size:20,class:"icon"},{default:g(()=>[t.isActive?(d(),w(m(St),{key:0})):(d(),w(m(Ct),{key:1}))]),_:1})])}}}),Qt=D(Zt,[["__scopeId","data-v-a21f53d4"]]);var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.TokenData=void 0;ee.parse=Se;var en=ee.compile=rn;ee.match=un;ee.pathToRegexp=pn;const tn="/",Le=n=>n,nn=new RegExp("^\\p{XID_Continue}$","u"),ce="https://git.new/pathToRegexpError",on={"!":"!","@":"@",";":";",",":",","*":"*","+":"+","?":"?","{":"{","}":"}"};function sn(n){const e=[...n],t=[];let o=0;for(;o<e.length;){const s=e[o],a=on[s];if(a){t.push({type:a,index:o++,value:s});continue}if(s==="\\"){t.push({type:"ESCAPED",index:o++,value:e[o++]});continue}if(s===":"){let r="";for(;nn.test(e[++o]);)r+=e[o];if(!r)throw new TypeError(`Missing parameter name at ${o}`);t.push({type:"NAME",index:o,value:r});continue}if(s==="("){const r=o++;let l=1,c="";if(e[o]==="?")throw new TypeError(`Pattern cannot start with "?" at ${o}`);for(;o<e.length;){if(e[o]==="\\"){c+=e[o++]+e[o++];continue}if(e[o]===")"){if(l--,l===0){o++;break}}else if(e[o]==="("&&(l++,e[o+1]!=="?"))throw new TypeError(`Capturing groups are not allowed at ${o}`);c+=e[o++]}if(l)throw new TypeError(`Unbalanced pattern at ${r}`);if(!c)throw new TypeError(`Missing pattern at ${r}`);t.push({type:"PATTERN",index:o,value:c});continue}t.push({type:"CHAR",index:o,value:e[o++]})}return t.push({type:"END",index:o,value:""}),new an(t)}class an{constructor(e){this.tokens=e,this.index=0}peek(){return this.tokens[this.index]}tryConsume(e){const t=this.peek();if(t.type===e)return this.index++,t.value}consume(e){const t=this.tryConsume(e);if(t!==void 0)return t;const{type:o,index:s}=this.peek();throw new TypeError(`Unexpected ${o} at ${s}, expected ${e}: ${ce}`)}text(){let e="",t;for(;t=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)e+=t;return e}modifier(){return this.tryConsume("?")||this.tryConsume("*")||this.tryConsume("+")}}class ie{constructor(e,t){this.tokens=e,this.delimiter=t}}ee.TokenData=ie;function Se(n,e={}){const{encodePath:t=Le,delimiter:o=t(tn)}=e,s=[],a=sn(n);let r=0;do{const l=a.text();l&&s.push(t(l));const c=a.tryConsume("NAME"),u=a.tryConsume("PATTERN");if(c||u){s.push({name:c||String(r++),pattern:u});const v=a.peek();if(v.type==="*")throw new TypeError(`Unexpected * at ${v.index}, you probably want \`/*\` or \`{/:foo}*\`: ${ce}`);continue}if(a.tryConsume("*")){s.push({name:String(r++),pattern:`(?:(?!${oe(o)}).)*`,modifier:"*",separator:o});continue}if(a.tryConsume("{")){const v=a.text(),_=a.tryConsume("NAME"),h=a.tryConsume("PATTERN"),b=a.text(),C=a.tryConsume(";")&&a.text();a.consume("}");const M=a.modifier();s.push({name:_||(h?String(r++):""),prefix:t(v),suffix:t(b),pattern:h,modifier:M,separator:C});continue}a.consume("END");break}while(!0);return new ie(s,o)}function rn(n,e={}){const t=n instanceof ie?n:Se(n,e);return cn(t,e)}function ln(n,e){if(typeof n=="string")return()=>n;const t=e||Le,o=n.modifier==="+"||n.modifier==="*",s=n.modifier==="?"||n.modifier==="*",{prefix:a="",suffix:r="",separator:l=r+a}=n;if(e&&o){const u=(i,v)=>{if(typeof i!="string")throw new TypeError(`Expected "${n.name}/${v}" to be a string`);return t(i)},f=i=>{if(!Array.isArray(i))throw new TypeError(`Expected "${n.name}" to be an array`);return i.length===0?"":a+i.map(u).join(l)+r};return s?i=>{const v=i[n.name];return v==null?"":v.length?f(v):""}:i=>{const v=i[n.name];return f(v)}}const c=u=>{if(typeof u!="string")throw new TypeError(`Expected "${n.name}" to be a string`);return a+t(u)+r};return s?u=>{const f=u[n.name];return f==null?"":c(f)}:u=>{const f=u[n.name];return c(f)}}function cn(n,e){const{encode:t=encodeURIComponent,loose:o=!0,validate:s=!0,strict:a=!1}=e,r=at(e),l=Ae(o,n.delimiter),c=lt(n,l,[],r,a),u=n.tokens.map((f,i)=>{const v=ln(f,t);if(!s||typeof f=="string")return v;const _=new RegExp(`^${c[i]}$`,r);return h=>{const b=v(h);if(!_.test(b))throw new TypeError(`Invalid value for "${f.name}": ${JSON.stringify(b)}`);return b}});return function(i={}){let v="";for(const _ of u)v+=_(i);return v}}function un(n,e={}){const{decode:t=decodeURIComponent,loose:o=!0}=e,s=n instanceof ie?n:Se(n,e),a=Ae(o,s.delimiter),r=[],l=rt(s,r,e),c=r.map(u=>{if(t&&(u.modifier==="+"||u.modifier==="*")){const{prefix:f="",suffix:i="",separator:v=i+f}=u,_=new RegExp(a(v),"g");return h=>h.split(_).map(t)}return t||Le});return function(f){const i=l.exec(f);if(!i)return!1;const{0:v,index:_}=i,h=Object.create(null);for(let b=1;b<i.length;b++){if(i[b]===void 0)continue;const C=r[b-1],M=c[b-1];h[C.name]=M(i[b])}return{path:v,index:_,params:h}}}function oe(n){return n.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function dn(n,e){const t=oe(n);return e?`(?:${t})+(?!${t})`:t}function Ae(n,e){if(!n)return oe;const t=new RegExp(`(?:(?!${oe(e)}).)+|(.)`,"g");return o=>o.replace(t,dn)}function at(n){return n.sensitive?"":"i"}function rt(n,e,t){const{trailing:o=!0,loose:s=!0,start:a=!0,end:r=!0,strict:l=!1}=t,c=at(t),u=Ae(s,n.delimiter),f=lt(n,u,e,c,l);let i=a?"^":"";return i+=f.join(""),o&&(i+=`(?:${u(n.delimiter)})?`),i+=r?"$":`(?=${oe(n.delimiter)}|$)`,new RegExp(i,c)}function lt(n,e,t,o,s){const a=`(?:(?!${oe(n.delimiter)}).)+?`;let r="",l=!0;return n.tokens.map((c,u)=>{if(typeof c=="string")return r=c,e(c);const{prefix:f="",suffix:i="",separator:v=i+f,modifier:_=""}=c,h=e(f),b=e(i);if(c.name){const C=c.pattern?`(?:${c.pattern})`:a,M=fn(C,c.name,o);if(l||(l=$e(M,f||r)),!l)throw new TypeError(`Ambiguous pattern for "${c.name}": ${ce}`);if(l=!s||$e(M,i),r="",t.push(c),_==="+"||_==="*"){const F=_==="*"?"?":"",B=e(v);if(!B)throw new TypeError(`Missing separator for "${c.name}": ${ce}`);if(l||(l=!s||$e(M,v)),!l)throw new TypeError(`Ambiguous pattern for "${c.name}" separator: ${ce}`);return l=!s,`(?:${h}(${C}(?:${B}${C})*)${b})${F}`}return`(?:${h}(${C})${b})${_}`}return`(?:${h}${b})${_}`})}function fn(n,e,t){try{return new RegExp(`^${n}$`,t)}catch(o){throw new TypeError(`Invalid pattern for "${e}": ${o.message}`)}}function $e(n,e){return e?!n.test(e):!1}function pn(n,e={}){const t=n instanceof ie?n:Se(n,e),o=[],s=rt(t,o,e);return Object.assign(s,{keys:o})}const mn={key:0,class:"no-redirect"},_n=["onClick"],vn=A({__name:"index",setup(n){const e=ge(),t=be(),{listenerRouteChange:o}=ke(),s=P([]),a=()=>{s.value=e.matched.filter(c=>{var u,f;return((u=c.meta)==null?void 0:u.title)&&((f=c.meta)==null?void 0:f.breadcrumb)!==!1})},r=c=>en(c)(e.params),l=c=>{const{redirect:u,path:f}=c;if(u){t.push(u);return}t.push(r(f))};return o(c=>{c.path.startsWith("/redirect/")||a()},!0),(c,u)=>{const f=y("el-breadcrumb-item"),i=y("el-breadcrumb");return d(),w(i,null,{default:g(()=>[(d(!0),$(H,null,Y(s.value,(v,_)=>(d(),w(f,{key:v.path},{default:g(()=>[v.redirect==="noRedirect"||_===s.value.length-1?(d(),$("span",mn,z(v.meta.title),1)):(d(),$("a",{key:1,onClick:de(h=>l(v),["prevent"])},z(v.meta.title),9,_n))]),_:2},1024))),128))]),_:1})}}}),hn=D(vn,[["__scopeId","data-v-5110efca"]]),he=n=>/^(https?:|mailto:|tel:)/.test(n),gn=["href"],bn=A({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(t,o)=>{const s=y("router-link");return m(he)(e.to)?(d(),$("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[me(t.$slots,"default")],8,gn)):(d(),w(s,{key:1,to:e.to},{default:g(()=>[me(t.$slots,"default")]),_:3},8,["to"]))}}});function j(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Ue(n,e){for(var t="",o=0,s=-1,a=0,r,l=0;l<=n.length;++l){if(l<n.length)r=n.charCodeAt(l);else{if(r===47)break;r=47}if(r===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",o=0):(t=t.slice(0,c),o=t.length-1-t.lastIndexOf("/")),s=l,a=0;continue}}else if(t.length===2||t.length===1){t="",o=0,s=l,a=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+n.slice(s+1,l):t=n.slice(s+1,l),o=l-s-1;s=l,a=0}else r===46&&a!==-1?++a:a=-1}return t}function yn(n,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+n+o:o}var ne={resolve:function(){for(var e="",t=!1,o,s=arguments.length-1;s>=-1&&!t;s--){var a;s>=0?a=arguments[s]:(o===void 0&&(o=process.cwd()),a=o),j(a),a.length!==0&&(e=a+"/"+e,t=a.charCodeAt(0)===47)}return e=Ue(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(j(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=Ue(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return j(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];j(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":ne.normalize(e)},relative:function(e,t){if(j(e),j(t),e===t||(e=ne.resolve(e),t=ne.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var s=e.length,a=s-o,r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var l=t.length,c=l-r,u=a<c?a:c,f=-1,i=0;i<=u;++i){if(i===u){if(c>u){if(t.charCodeAt(r+i)===47)return t.slice(r+i+1);if(i===0)return t.slice(r+i)}else a>u&&(e.charCodeAt(o+i)===47?f=i:i===0&&(f=0));break}var v=e.charCodeAt(o+i),_=t.charCodeAt(r+i);if(v!==_)break;v===47&&(f=i)}var h="";for(i=o+f+1;i<=s;++i)(i===s||e.charCodeAt(i)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+t.slice(r+f):(r+=f,t.charCodeAt(r)===47&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(j(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,s=-1,a=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),t===47){if(!a){s=r;break}}else a=!1;return s===-1?o?"/":".":o&&s===1?"//":e.slice(0,s)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');j(e);var o=0,s=-1,a=!0,r;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(u===47){if(!a){o=r+1;break}}else c===-1&&(a=!1,c=r+1),l>=0&&(u===t.charCodeAt(l)?--l===-1&&(s=r):(l=-1,s=c))}return o===s?s=c:s===-1&&(s=e.length),e.slice(o,s)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!a){o=r+1;break}}else s===-1&&(a=!1,s=r+1);return s===-1?"":e.slice(o,s)}},extname:function(e){j(e);for(var t=-1,o=0,s=-1,a=!0,r=0,l=e.length-1;l>=0;--l){var c=e.charCodeAt(l);if(c===47){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),c===46?t===-1?t=l:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||s===-1||r===0||r===1&&t===s-1&&t===o+1?"":e.slice(t,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return yn("/",e)},parse:function(e){j(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),s=o===47,a;s?(t.root="/",a=1):a=0;for(var r=-1,l=0,c=-1,u=!0,f=e.length-1,i=0;f>=a;--f){if(o=e.charCodeAt(f),o===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),o===46?r===-1?r=f:i!==1&&(i=1):r!==-1&&(i=-1)}return r===-1||c===-1||i===0||i===1&&r===c-1&&r===l+1?c!==-1&&(l===0&&s?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(l,c)):(l===0&&s?(t.name=e.slice(1,r),t.base=e.slice(1,c)):(t.name=e.slice(l,r),t.base=e.slice(l,c)),t.ext=e.slice(r,c)),l>0?t.dir=e.slice(0,l-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne;var wn=ne;const ct=$t(wn),kn={key:2},xn=A({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(n){const e=n,t=V(()=>{var l;return(l=e.item.meta)==null?void 0:l.alwaysShow}),o=V(()=>{var l;return((l=e.item.children)==null?void 0:l.filter(c=>{var u;return!((u=c.meta)!=null&&u.hidden)}))??[]}),s=V(()=>o.value.length),a=V(()=>{const l=s.value;switch(!0){case l>1:return null;case l===1:return o.value[0];default:return{...e.item,path:""}}}),r=l=>{switch(!0){case he(l):return l;case he(e.basePath):return e.basePath;default:return ct.resolve(e.basePath,l)}};return(l,c)=>{const u=y("SvgIcon"),f=y("el-menu-item"),i=y("SidebarItem",!0),v=y("el-sub-menu");return!t.value&&a.value&&!a.value.children?(d(),$(H,{key:0},[a.value.meta?(d(),w(bn,{key:0,to:r(a.value.path)},{default:g(()=>[p(f,{index:r(a.value.path)},mt({default:g(()=>[a.value.meta.svgIcon?(d(),w(u,{key:0,name:a.value.meta.svgIcon},null,8,["name"])):a.value.meta.elIcon?(d(),w(pe(a.value.meta.elIcon),{key:1,class:"el-icon"})):R("",!0)]),_:2},[a.value.meta.title?{name:"title",fn:g(()=>[K(z(a.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):R("",!0)],64)):(d(),w(v,{key:1,index:r(e.item.path),teleported:""},{title:g(()=>{var _,h,b;return[(_=e.item.meta)!=null&&_.svgIcon?(d(),w(u,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(h=e.item.meta)!=null&&h.elIcon?(d(),w(pe(e.item.meta.elIcon),{key:1,class:"el-icon"})):R("",!0),(b=e.item.meta)!=null&&b.title?(d(),$("span",kn,z(e.item.meta.title),1)):R("",!0)]}),default:g(()=>[e.item.children?(d(!0),$(H,{key:0},Y(o.value,_=>(d(),w(i,{key:_.path,item:_,"base-path":r(_.path)},null,8,["item","base-path"]))),128)):R("",!0)]),_:1},8,["index"]))}}}),Sn=D(xn,[["__scopeId","data-v-ed98da72"]]),Cn="/v3-admin-vite/static/logo-BY3URNHQ.png",$n="/v3-admin-vite/static/logo-text-1-CHuEm79x.png",Tn="/v3-admin-vite/static/logo-text-2-CVewf8RJ.png",En=["src"],Vn=["src"],Mn=A({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,{isLeft:t,isTop:o}=le();return(s,a)=>{const r=y("router-link");return d(),$("div",{class:O(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":m(o)}])},[p(Je,{name:"layout-logo-fade"},{default:g(()=>[e.collapse?(d(),w(r,{key:"collapse",to:"/"},{default:g(()=>[x("img",{src:m(Cn),class:"layout-logo"},null,8,En)]),_:1})):(d(),w(r,{key:"expand",to:"/"},{default:g(()=>[x("img",{src:m(t)?m($n):m(Tn),class:"layout-logo-text"},null,8,Vn)]),_:1}))]),_:1})],2)}}}),De=D(Mn,[["__scopeId","data-v-52f1a9b3"]]),fe=n=>{let e="";try{e=getComputedStyle(document.documentElement).getPropertyValue(n)}catch(t){console.error(t)}return e},Oe=(n,e)=>{try{document.documentElement.style.setProperty(n,e)}catch(t){console.error(t)}},In=()=>{wt(),location.reload()},Rn=A({__name:"index",setup(n){Ye(S=>({"4ded6dc0":q.value,"61d38dec":L.value,"15ffc82c":F.value,"05d7b6d4":B.value,"632f5fe7":M.value}));const e=fe("--v3-sidebar-menu-bg-color"),t=fe("--v3-sidebar-menu-text-color"),o=fe("--v3-sidebar-menu-active-text-color"),{isMobile:s}=re(),{isLeft:a,isTop:r}=le(),l=ge(),c=ae(),u=Ie(),f=G(),i=V(()=>{const{meta:{activeMenu:S},path:T}=l;return S||T}),v=V(()=>u.routes.filter(S=>{var T;return!((T=S.meta)!=null&&T.hidden)})),_=V(()=>!c.sidebar.opened),h=V(()=>a.value&&f.showLogo),b=V(()=>a.value?e:void 0),C=V(()=>a.value?t:void 0),M=V(()=>a.value?o:void 0),F=V(()=>r.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),B=V(()=>r.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),q=V(()=>r.value?"0px":"2px"),L=V(()=>r.value?"none":"block");return(S,T)=>{const W=y("el-menu"),k=y("el-scrollbar");return d(),$("div",{class:O({"has-logo":h.value})},[h.value?(d(),w(De,{key:0,collapse:_.value},null,8,["collapse"])):R("",!0),p(k,{"wrap-class":"scrollbar-wrapper"},{default:g(()=>[p(W,{"default-active":i.value,collapse:_.value&&!m(r),"background-color":b.value,"text-color":C.value,"active-text-color":M.value,"unique-opened":!0,"collapse-transition":!1,mode:m(r)&&!m(s)?"horizontal":"vertical"},{default:g(()=>[(d(!0),$(H,null,Y(v.value,I=>(d(),w(Sn,{key:I.path,item:I,"base-path":I.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Pe=D(Rn,[["__scopeId","data-v-4b030497"]]),Ln={class:"card-header"},An={class:"card-title"},Dn={class:"card-time"},Pn={key:0,class:"card-avatar"},Fn=["src"],Nn={class:"card-body"},zn=A({__name:"NotifyList",props:{list:{}},setup(n){const e=n;return(t,o)=>{const s=y("el-empty"),a=y("el-tag"),r=y("el-card");return e.list.length===0?(d(),w(s,{key:0})):(d(!0),$(H,{key:1},Y(e.list,(l,c)=>(d(),w(r,{key:c,shadow:"never",class:"card-container"},{header:g(()=>[x("div",Ln,[x("div",null,[x("span",null,[x("span",An,z(l.title),1),l.extra?(d(),w(a,{key:0,type:l.status,effect:"plain",size:"small"},{default:g(()=>[K(z(l.extra),1)]),_:2},1032,["type"])):R("",!0)]),x("div",Dn,z(l.datetime),1)]),l.avatar?(d(),$("div",Pn,[x("img",{src:l.avatar,width:"34"},null,8,Fn)])):R("",!0)])]),default:g(()=>[x("div",Nn,z(l.description??"No Data"),1)]),_:2},1024))),128))}}}),Bn=D(zn,[["__scopeId","data-v-c0dacc5d"]]),Wn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"一年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"两年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Un=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],On=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Hn={class:"notify"},qn={class:"notify-history"},He=99,Xn=350,jn=A({__name:"index",setup(n){const e=V(()=>o.value.reduce((a,r)=>a+r.list.length,0)),t=P("通知"),o=P([{name:"通知",type:"primary",list:Wn},{name:"消息",type:"danger",list:Un},{name:"待办",type:"warning",list:On}]),s=()=>{ve.success(`跳转到${t.value}历史页面`)};return(a,r)=>{const l=y("el-icon"),c=y("el-tooltip"),u=y("el-badge"),f=y("el-scrollbar"),i=y("el-tab-pane"),v=y("el-tabs"),_=y("el-button"),h=y("el-popover");return d(),$("div",Hn,[p(h,{placement:"bottom",width:Xn,trigger:"click"},{reference:g(()=>[p(u,{value:e.value,max:He,hidden:e.value===0},{default:g(()=>[p(c,{effect:"dark",content:"消息通知",placement:"bottom"},{default:g(()=>[p(l,{size:20},{default:g(()=>[p(m(Tt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:g(()=>[p(v,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=b=>t.value=b),class:"demo-tabs",stretch:""},{default:g(()=>[(d(!0),$(H,null,Y(o.value,(b,C)=>(d(),w(i,{name:b.name,key:C},{label:g(()=>[K(z(b.name)+" ",1),p(u,{value:b.list.length,max:He,type:b.type},null,8,["value","type"])]),default:g(()=>[p(f,{height:"400px"},{default:g(()=>[p(Bn,{list:b.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),x("div",qn,[p(_,{link:"",onClick:s},{default:g(()=>[K("查看"+z(t.value)+"历史",1)]),_:1})])]),_:1})])}}}),Kn=D(jn,[["__scopeId","data-v-a5fd6355"]]),qe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],J=(()=>{if(typeof document>"u")return!1;const n=qe[0],e={};for(const t of qe)if((t==null?void 0:t[1])in document){for(const[s,a]of t.entries())e[n[s]]=a;return e}return!1})(),Xe={change:J.fullscreenchange,error:J.fullscreenerror};let U={request(n=document.documentElement,e){return new Promise((t,o)=>{const s=()=>{U.off("change",s),t()};U.on("change",s);const a=n[J.requestFullscreen](e);a instanceof Promise&&a.then(s).catch(o)})},exit(){return new Promise((n,e)=>{if(!U.isFullscreen){n();return}const t=()=>{U.off("change",t),n()};U.on("change",t);const o=document[J.exitFullscreen]();o instanceof Promise&&o.then(t).catch(e)})},toggle(n,e){return U.isFullscreen?U.exit():U.request(n,e)},onchange(n){U.on("change",n)},onerror(n){U.on("error",n)},on(n,e){const t=Xe[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=Xe[n];t&&document.removeEventListener(t,e,!1)},raw:J};Object.defineProperties(U,{isFullscreen:{get:()=>!!document[J.fullscreenElement]},element:{enumerable:!0,get:()=>document[J.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[J.fullscreenEnabled]}});J||(U={isEnabled:!1});const Z=U,Gn=A({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,t=P(!1),o=V(()=>t.value?e.exitTips:e.openTips),s=V(()=>t.value?"fullscreen-exit":"fullscreen"),a=()=>{const v=document.querySelector(e.element)||void 0;Z.isEnabled?Z.toggle(v):ve.warning("您的浏览器无法工作")},r=()=>{t.value=Z.isFullscreen,t.value||(document.body.className="")};_e(v=>{Z.isEnabled&&Z.on("change",r),v(()=>{Z.isEnabled&&Z.off("change",r)})});const l=P(!1),c=V(()=>l.value?"内容区复原":"内容区放大"),u=V(()=>l.value?"fullscreen-exit":"fullscreen"),f=()=>{l.value=!l.value,document.body.className=l.value?"content-large":""},i=()=>{l.value&&f(),document.body.className="content-full",a()};return(v,_)=>{const h=y("SvgIcon"),b=y("el-tooltip"),C=y("el-dropdown-item"),M=y("el-dropdown-menu"),F=y("el-dropdown");return d(),$("div",null,[v.content?(d(),w(F,{key:1,disabled:t.value},{dropdown:g(()=>[p(M,null,{default:g(()=>[p(C,{onClick:f},{default:g(()=>[K(z(c.value),1)]),_:1}),p(C,{onClick:i},{default:g(()=>[K("内容区全屏")]),_:1})]),_:1})]),default:g(()=>[p(h,{name:u.value},null,8,["name"])]),_:1},8,["disabled"])):(d(),w(b,{key:0,effect:"dark",content:o.value,placement:"bottom"},{default:g(()=>[p(h,{name:s.value,onClick:a},null,8,["name"])]),_:1},8,["content"]))])}}}),it=D(Gn,[["__scopeId","data-v-889fe0df"]]),Jn=["onMouseenter"],Yn={class:"result-item-title"},Zn=A({__name:"SearchResult",props:_t({list:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:e}){const t=Ze(n,"modelValue"),o=n,s=Qe(),a=P(0),r=f=>{const i=f.name===t.value;return{background:i?"var(--el-color-primary)":"",color:i?"#ffffff":""}},l=f=>{o.isPressUpOrDown||(t.value=f.name)},c=()=>{a.value=Number((window.innerHeight*.4).toFixed(1))},u=f=>{var h;const i=(h=s==null?void 0:s.proxy)==null?void 0:h.$refs[`resultItemRef${f}`];if(!i)return 0;const _=i[0].offsetTop+128;return _>a.value?_-a.value:0};return Ke(()=>{window.addEventListener("resize",c)}),Ee(()=>{c()}),Ge(()=>{window.removeEventListener("resize",c)}),e({getScrollTop:u}),(f,i)=>{const v=y("SvgIcon");return d(),$("div",null,[(d(!0),$(H,null,Y(f.list,(_,h)=>{var b,C,M;return d(),$("div",{key:h,ref_for:!0,ref:`resultItemRef${h}`,class:"result-item",style:et(r(_)),onMouseenter:F=>l(_)},[(b=_.meta)!=null&&b.svgIcon?(d(),w(v,{key:0,name:_.meta.svgIcon},null,8,["name"])):(C=_.meta)!=null&&C.elIcon?(d(),w(pe(_.meta.elIcon),{key:1,class:"el-icon"})):R("",!0),x("span",Yn,z((M=_.meta)==null?void 0:M.title),1),t.value&&t.value===_.name?(d(),w(v,{key:2,name:"keyboard-enter"})):R("",!0)],44,Jn)}),128))])}}}),Qn=D(Zn,[["__scopeId","data-v-8cd47626"]]),Fe=n=>(Ve("data-v-8dce46e8"),n=n(),Me(),n),eo={class:"search-footer"},to={class:"search-footer-item"},no=Fe(()=>x("span",null,"确认",-1)),oo={class:"search-footer-item"},so=Fe(()=>x("span",null,"切换",-1)),ao={class:"search-footer-item"},ro=Fe(()=>x("span",null,"关闭",-1)),lo={class:"search-footer-total"},co=A({__name:"SearchFooter",props:{total:{}},setup(n){const e=n,{isMobile:t}=re();return(o,s)=>{const a=y("SvgIcon");return d(),$("div",eo,[m(t)?R("",!0):(d(),$(H,{key:0},[x("span",to,[p(a,{name:"keyboard-enter"}),no]),x("span",oo,[p(a,{name:"keyboard-up"}),p(a,{name:"keyboard-down"}),so]),x("span",ao,[p(a,{name:"keyboard-esc"}),ro])],64)),x("span",lo,"共 "+z(e.total)+" 项",1)])}}}),io=D(co,[["__scopeId","data-v-8dce46e8"]]),uo=x("p",null,"搜索结果",-1),fo=A({__name:"SearchModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(n){const e=Ze(n,"modelValue"),t=be(),{isMobile:o}=re(),s=P(null),a=P(null),r=P(null),l=P(""),c=vt([]),u=P(void 0),f=P(!1),i=V(()=>o.value?"80vw":"40vw"),v=V(()=>Et(Ie().routes)),_=Vt(()=>{var T;const L=h(v.value);c.value=L.filter(W=>{var k,I;return l.value?(I=(k=W.meta)==null?void 0:k.title)==null?void 0:I.toLocaleLowerCase().includes(l.value.toLocaleLowerCase().trim()):!1});const S=(T=c.value)==null?void 0:T.length;u.value=S>0?c.value[0].name:void 0},500),h=(L,S=[])=>(L.forEach(T=>{S.push(T),T.children&&h(T.children,S)}),S),b=()=>{e.value=!1,setTimeout(()=>{l.value="",c.value=[]},200)},C=L=>{var T;if(!r.value)return;const S=r.value.getScrollTop(L);(T=a.value)==null||T.setScrollTop(S)},M=()=>{f.value=!0;const{length:L}=c.value;if(L===0)return;const S=c.value.findIndex(T=>T.name===u.value);if(S===0){const T=c.value[L-1].name;u.value===T&&L>1?(u.value=c.value[L-2].name,C(L-2)):(u.value=T,C(L-1))}else u.value=c.value[S-1].name,C(S-1)},F=()=>{f.value=!0;const{length:L}=c.value;if(L===0)return;const S=c.value.map(T=>T.name).lastIndexOf(u.value);if(S===L-1){const T=c.value[0].name;u.value===T&&L>1?(u.value=c.value[1].name,C(1)):(u.value=T,C(0))}else u.value=c.value[S+1].name,C(S+1)},B=()=>{var W;const{length:L}=c.value;if(L===0)return;const S=u.value,T=(W=c.value.find(k=>k.name===S))==null?void 0:W.path;if(T&&he(T)){window.open(T,"_blank","noopener, noreferrer");return}if(!S){ve.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{t.push({name:S})}catch{ve.error("该菜单有必填的动态参数，无法通过搜索进入");return}b()},q=()=>{f.value=!1};return(L,S)=>{const T=y("SvgIcon"),W=y("el-input"),k=y("el-empty"),I=y("el-dialog");return d(),w(I,{modelValue:e.value,"onUpdate:modelValue":S[2]||(S[2]=N=>e.value=N),onOpened:S[3]||(S[3]=N=>{var E;return(E=s.value)==null?void 0:E.focus()}),onClosed:S[4]||(S[4]=N=>{var E;return(E=s.value)==null?void 0:E.blur()}),onKeydown:[ue(M,["up"]),ue(F,["down"]),ue(B,["enter"])],onKeyup:ue(q,["up","down"]),"before-close":b,width:i.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:g(()=>[p(io,{total:c.value.length},null,8,["total"])]),default:g(()=>[p(W,{ref_key:"inputRef",ref:s,modelValue:l.value,"onUpdate:modelValue":S[0]||(S[0]=N=>l.value=N),onInput:m(_),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:g(()=>[p(T,{name:"search"})]),_:1},8,["modelValue","onInput"]),c.value.length===0?(d(),w(k,{key:0,description:"暂无搜索结果","image-size":100})):(d(),$(H,{key:1},[uo,p(m(ot),{ref_key:"scrollbarRef",ref:a,"max-height":"40vh",always:""},{default:g(()=>[p(Qn,{ref_key:"searchResultRef",ref:r,modelValue:u.value,"onUpdate:modelValue":S[1]||(S[1]=N=>u.value=N),list:c.value,isPressUpOrDown:f.value,onClick:B},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),po=A({__name:"index",setup(n){const e=P(!1),t=()=>{e.value=!0};return(o,s)=>{const a=y("SvgIcon"),r=y("el-tooltip");return d(),$("div",null,[p(r,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:g(()=>[p(a,{name:"search",onClick:t})]),_:1}),p(fo,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=l=>e.value=l)},null,8,["modelValue"])])}}}),mo=D(po,[["__scopeId","data-v-dc5accb4"]]),_o=n=>(Ve("data-v-1ee6dd91"),n=n(),Me(),n),vo={class:"navigation-bar"},ho={class:"right-menu"},go={class:"right-menu-avatar"},bo={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},yo={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},wo=_o(()=>x("span",{style:{display:"block"}},"退出登录",-1)),ko=A({__name:"index",setup(n){const{isMobile:e}=re(),{isTop:t}=le(),o=be(),s=ae(),a=kt(),r=G(),{showNotify:l,showThemeSwitch:c,showScreenfull:u,showSearchMenu:f}=se(r),i=()=>{s.toggleSidebar(!1)},v=()=>{a.logout(),o.push("/login")};return(_,h)=>{const b=y("el-avatar"),C=y("el-dropdown-item"),M=y("el-dropdown-menu"),F=y("el-dropdown");return d(),$("div",vo,[!m(t)||m(e)?(d(),w(Qt,{key:0,"is-active":m(s).sidebar.opened,class:"hamburger",onToggleClick:i},null,8,["is-active"])):R("",!0),!m(t)||m(e)?(d(),w(hn,{key:1,class:"breadcrumb"})):R("",!0),m(t)&&!m(e)?(d(),w(Pe,{key:2,class:"sidebar"})):R("",!0),x("div",ho,[m(f)?(d(),w(mo,{key:0,class:"right-menu-item"})):R("",!0),m(u)?(d(),w(it,{key:1,class:"right-menu-item"})):R("",!0),m(c)?(d(),w(Pt,{key:2,class:"right-menu-item"})):R("",!0),m(l)?(d(),w(Kn,{key:3,class:"right-menu-item"})):R("",!0),p(F,{class:"right-menu-item"},{dropdown:g(()=>[p(M,null,{default:g(()=>[x("a",bo,[p(C,null,{default:g(()=>[K("GitHub")]),_:1})]),x("a",yo,[p(C,null,{default:g(()=>[K("Gitee")]),_:1})]),p(C,{divided:"",onClick:v},{default:g(()=>[wo]),_:1})]),_:1})]),default:g(()=>[x("div",go,[p(b,{icon:m(Mt),size:30},null,8,["icon"]),x("span",null,z(m(a).username),1)])]),_:1})])])}}}),Ne=D(ko,[["__scopeId","data-v-1ee6dd91"]]),xo={class:"select-layout-mode"},So=A({__name:"SelectLayoutMode",setup(n){const{isLeft:e,isTop:t,isLeftTop:o,setLayoutMode:s}=le();return(a,r)=>{const l=y("el-aside"),c=y("el-header"),u=y("el-main"),f=y("el-container"),i=y("el-tooltip");return d(),$("div",xo,[p(i,{content:"左侧模式"},{default:g(()=>[p(f,{class:O(["layout-mode left",{active:m(e)}]),onClick:r[0]||(r[0]=v=>m(s)(m(te).Left))},{default:g(()=>[p(l),p(f,null,{default:g(()=>[p(c),p(u)]),_:1})]),_:1},8,["class"])]),_:1}),p(i,{content:"顶部模式"},{default:g(()=>[p(f,{class:O(["layout-mode top",{active:m(t)}]),onClick:r[1]||(r[1]=v=>m(s)(m(te).Top))},{default:g(()=>[p(c),p(u)]),_:1},8,["class"])]),_:1}),p(i,{content:"混合模式"},{default:g(()=>[p(f,{class:O(["layout-mode left-top",{active:m(o)}]),onClick:r[2]||(r[2]=v=>m(s)(m(te).LeftTop))},{default:g(()=>[p(c),p(f,null,{default:g(()=>[p(l),p(u)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Co=D(So,[["__scopeId","data-v-b859d856"]]),ut=n=>(Ve("data-v-107157f3"),n=n(),Me(),n),$o={class:"setting-container"},To=ut(()=>x("h4",null,"布局配置",-1)),Eo=ut(()=>x("h4",null,"功能配置",-1)),Vo={class:"setting-name"},Mo=A({__name:"index",setup(n){const{isLeft:e}=le(),t=G(),{showTagsView:o,showLogo:s,fixedHeader:a,showFooter:r,showNotify:l,showThemeSwitch:c,showScreenfull:u,showSearchMenu:f,cacheTagsView:i,showWatermark:v,showGreyMode:_,showColorWeakness:h}=se(t),b={显示标签栏:o,"显示 Logo":s,"固定 Header":a,"显示页脚 Footer":r,显示消息通知:l,显示切换主题按钮:c,显示全屏按钮:u,显示搜索按钮:f,是否缓存标签栏:i,开启系统水印:v,显示灰色模式:_,显示色弱模式:h};return _e(()=>{!e.value&&(a.value=!0)}),(C,M)=>{const F=y("el-divider"),B=y("el-switch"),q=y("el-button");return d(),$("div",$o,[To,p(Co),p(F),Eo,(d(),$(H,null,Y(b,(L,S,T)=>x("div",{class:"setting-item",key:T},[x("span",Vo,z(S),1),p(B,{modelValue:L.value,"onUpdate:modelValue":W=>L.value=W,disabled:!m(e)&&S==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),p(q,{type:"danger",icon:m(It),onClick:m(In)},{default:g(()=>[K("重 置")]),_:1},8,["icon","onClick"])])}}}),Io=D(Mo,[["__scopeId","data-v-107157f3"]]),Ro={class:"scroll-container"},Lo=200,Ao=A({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,t=ge(),o=G(),{listenerRouteChange:s}=ke(),a=P(),r=P();let l=0;const c=({scrollLeft:_})=>{l=_},u=({deltaY:_})=>{/^-/.test(_.toString())?i("left"):i("right")},f=()=>{const _=r.value.clientWidth,h=a.value.wrapRef.clientWidth,b=_-h-l;return{scrollbarContentRefWidth:_,scrollbarRefWidth:h,lastDistance:b}},i=(_,h=Lo)=>{let b=0;const{scrollbarContentRefWidth:C,scrollbarRefWidth:M,lastDistance:F}=f();M>C||(_==="left"?b=Math.max(0,l-h):b=Math.min(l+h,l+F),a.value.setScrollLeft(b))},v=()=>{const _=e.tagRefs;for(let h=0;h<_.length;h++)if(t.path===_[h].$props.to.path){const b=_[h].$el,C=b.offsetWidth,M=b.offsetLeft,{scrollbarRefWidth:F}=f();if(M<l){const q=l-M;i("left",q);return}const B=F+l-C;if(M>B){const q=M-B;i("right",q);return}}};return s(()=>{ht(v)}),(_,h)=>{const b=y("el-icon");return d(),$("div",Ro,[p(b,{class:"arrow left",onClick:h[0]||(h[0]=C=>i("left"))},{default:g(()=>[p(m(Rt))]),_:1}),p(m(ot),{ref_key:"scrollbarRef",ref:a,onWheelPassive:u,onScroll:c},{default:g(()=>[x("div",{ref_key:"scrollbarContentRef",ref:r,class:"scrollbar-content"},[me(_.$slots,"default",{},void 0,!0)],512)]),_:3},512),p(b,{class:"arrow right",onClick:h[1]||(h[1]=C=>i("right"))},{default:g(()=>[p(m(Lt))]),_:1}),m(o).showScreenfull?(d(),w(it,{key:0,content:!0,class:"screenfull"})):R("",!0)])}}}),Do=D(Ao,[["__scopeId","data-v-5784e87c"]]),Po={class:"tags-view-container"},Fo=A({__name:"index",setup(n){const e=Qe(),t=be(),o=ge(),s=nt(),a=Ie(),{listenerRouteChange:r}=ke(),l=P([]),c=P(!1),u=P(0),f=P(0),i=P({});let v=[];const _=k=>k.path===o.path,h=k=>{var I;return(I=k.meta)==null?void 0:I.affix},b=(k,I="/")=>{const N=[];return k.forEach(E=>{if(h(E)){const X=ct.resolve(I,E.path);N.push({fullPath:X,path:X,name:E.name,meta:{...E.meta}})}if(E.children){const X=b(E.children,E.path);N.push(...X)}}),N},C=()=>{v=b(a.routes);for(const k of v)k.name&&s.addVisitedView(k)},M=k=>{k.name&&(s.addVisitedView(k),s.addCachedView(k))},F=k=>{s.delCachedView(k),t.replace({path:"/redirect"+k.path,query:k.query})},B=k=>{s.delVisitedView(k),s.delCachedView(k),_(k)&&S(s.visitedViews,k)},q=()=>{const k=i.value.fullPath;k!==o.path&&k!==void 0&&t.push(k),s.delOthersVisitedViews(i.value),s.delOthersCachedViews(i.value)},L=k=>{s.delAllVisitedViews(),s.delAllCachedViews(),!v.some(I=>I.path===o.path)&&S(s.visitedViews,k)},S=(k,I)=>{const N=k.slice(-1)[0],E=N==null?void 0:N.fullPath;E!==void 0?t.push(E):I.name==="Dashboard"?t.push({path:"/redirect"+I.path,query:I.query}):t.push("/")},T=(k,I)=>{const E=e.proxy.$el.getBoundingClientRect().left,Ce=e.proxy.$el.offsetWidth-105,Be=I.clientX-E+15;f.value=Be>Ce?Ce:Be,u.value=I.clientY,c.value=!0,i.value=k},W=()=>{c.value=!1};return je(c,k=>{k?document.body.addEventListener("click",W):document.body.removeEventListener("click",W)}),Ee(()=>{C(),r(async k=>{M(k)},!0)}),(k,I)=>{const N=y("el-icon");return d(),$("div",Po,[p(Do,{class:"tags-view-wrapper","tag-refs":l.value},{default:g(()=>[(d(!0),$(H,null,Y(m(s).visitedViews,E=>(d(),w(m(gt),{ref_for:!0,ref_key:"tagRefs",ref:l,key:E.path,class:O([{active:_(E)},"tags-view-item"]),to:{path:E.path,query:E.query},onMouseup:de(X=>!h(E)&&B(E),["middle"]),onContextmenu:de(X=>T(E,X),["prevent"])},{default:g(()=>{var X;return[K(z((X=E.meta)==null?void 0:X.title)+" ",1),h(E)?R("",!0):(d(),w(N,{key:0,size:12,onClick:de(Ce=>B(E),["prevent","stop"])},{default:g(()=>[p(m(At))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),ye(x("ul",{class:"contextmenu",style:et({left:f.value+"px",top:u.value+"px"})},[x("li",{onClick:I[0]||(I[0]=E=>F(i.value))},"刷新"),h(i.value)?R("",!0):(d(),$("li",{key:0,onClick:I[1]||(I[1]=E=>B(i.value))},"关闭")),x("li",{onClick:q},"关闭其它"),x("li",{onClick:I[2]||(I[2]=E=>L(i.value))},"关闭所有")],4),[[we,c.value]])])}}}),ze=D(Fo,[["__scopeId","data-v-6f2c645d"]]),No=A({__name:"index",props:{buttonTop:{default:350}},setup(n){Ye(s=>({"79e23a76":t}));const t=n.buttonTop+"px",o=P(!1);return(s,a)=>{const r=y("el-icon"),l=y("el-drawer");return d(),$(H,null,[x("div",{class:"handle-button",onClick:a[0]||(a[0]=c=>o.value=!0)},[p(r,{size:24},{default:g(()=>[p(m(Dt))]),_:1})]),p(l,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=c=>o.value=c),size:"300px","with-header":!1},{default:g(()=>[me(s.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),zo=D(No,[["__scopeId","data-v-e47107a1"]]),Bo=A({__name:"LeftMode",setup(n){const{isMobile:e}=re(),t=ae(),o=G(),{showTagsView:s,fixedHeader:a}=se(o),r=V(()=>({hideSidebar:!t.sidebar.opened,openSidebar:t.sidebar.opened,withoutAnimation:t.sidebar.withoutAnimation,mobile:e.value})),l=()=>{t.closeSidebar(!1)};return(c,u)=>(d(),$("div",{class:O([r.value,"app-wrapper"])},[r.value.mobile&&r.value.openSidebar?(d(),$("div",{key:0,class:"drawer-bg",onClick:l})):R("",!0),p(m(Pe),{class:"sidebar-container"}),x("div",{class:O([{hasTagsView:m(s)},"main-container"])},[x("div",{class:O([{"fixed-header":m(a)},"layout-header"])},[p(m(Ne)),ye(p(m(ze),null,null,512),[[we,m(s)]])],2),p(m(Re),{class:"app-main"})],2)],2))}}),Wo=D(Bo,[["__scopeId","data-v-79281f6e"]]),Uo={class:"app-wrapper"},Oo={class:"fixed-header layout-header"},Ho={class:"content"},qo=A({__name:"TopMode",setup(n){const e=G(),{showTagsView:t,showLogo:o}=se(e);return(s,a)=>(d(),$("div",Uo,[x("div",Oo,[x("div",Ho,[m(o)?(d(),w(m(De),{key:0,collapse:!1,class:"logo"})):R("",!0),p(m(Ne),{class:"navigation-bar"})]),ye(p(m(ze),null,null,512),[[we,m(t)]])]),x("div",{class:O([{hasTagsView:m(t)},"main-container"])},[p(m(Re),{class:"app-main"})],2)]))}}),Xo=D(qo,[["__scopeId","data-v-da4d3997"]]),jo={class:"fixed-header layout-header"},Ko={class:"content"},Go=A({__name:"LeftTopMode",setup(n){const e=ae(),t=G(),{showTagsView:o,showLogo:s}=se(t),a=V(()=>({hideSidebar:!e.sidebar.opened}));return(r,l)=>(d(),$("div",{class:O([a.value,"app-wrapper"])},[x("div",jo,[m(s)?(d(),w(m(De),{key:0,collapse:!1,class:"logo"})):R("",!0),x("div",Ko,[p(m(Ne)),ye(p(m(ze),null,null,512),[[we,m(o)]])])]),x("div",{class:O([{hasTagsView:m(o)},"main-container"])},[p(m(Pe),{class:"sidebar-container"}),p(m(Re),{class:"app-main"})],2)],2))}}),Jo=D(Go,[["__scopeId","data-v-b05e214b"]]),Te="--v3-tagsview-height",Yo=A({__name:"index",setup(n){zt();const{setWatermark:e,clearWatermark:t}=xt(),{isMobile:o}=re(),{isLeft:s,isTop:a,isLeftTop:r}=le(),l=G(),{showSettings:c,showTagsView:u,showWatermark:f,showGreyMode:i,showColorWeakness:v}=se(l),_=V(()=>({showGreyMode:i.value,showColorWeakness:v.value})),h=fe(Te);return _e(()=>{u.value?Oe(Te,h):Oe(Te,"0px")}),_e(()=>{f.value?e("V3 Admin Vite"):t()}),(b,C)=>(d(),$("div",{class:O(_.value)},[m(s)||m(o)?(d(),w(Wo,{key:0})):m(a)?(d(),w(Xo,{key:1})):m(r)?(d(),w(Jo,{key:2})):R("",!0),m(c)?(d(),w(m(zo),{key:3},{default:g(()=>[p(m(Io))]),_:1})):R("",!0)],2))}}),ss=D(Yo,[["__scopeId","data-v-f8f963f5"]]);export{ss as default};
