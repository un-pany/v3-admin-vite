import{g as dt,S as Xe,D as ae,s as Be,a as ft,u as te,L as le,b as Ke,c as Se,d as Ie,i as ge,e as pt,r as mt,f as ve,h as Ne}from"./index-BKnkC34p.js";import{ax as _t,V as vt,r as H,w as Ge,c as R,t as N,v as M,x as _,A as E,M as m,D as $,H as P,ad as Q,E as g,T as Je,az as ht,u as n,I as ye,L as Z,a9 as se,aA as xe,aB as Ce,K as U,R as he,G as Y,J as ee,h as fe,e as be,aC as gt,aD as yt,aE as Ye,a1 as Ze,f as Qe,U as et,g as bt,S as tt,aF as ie,s as wt,am as _e,aG as ce,y as we,ac as kt,aH as St,n as xt,F as $e,O as Ee}from"./vue-CPfKJdgo.js";import{u as Ct}from"./useWatermark-C6m8Vwnw.js";/* empty css                  *//* empty css                        *//* empty css                     */import{_ as $t}from"./index.vue_vue_type_script_setup_true_lang-CtQgtpfE.js";/* empty css                    *//* empty css                   *//* empty css                *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                 */import{e as Et,f as Tt,h as Mt,i as pe,j as Vt,k as Lt,l as nt,n as It,o as At,p as Rt,q as Dt,r as ot,s as Pt,t as me,u as Ft,E as ke,v as Bt,w as Te,x as st,y as at,z as rt,A as Nt,B as zt,C as Wt,D as Ot,F as Ut,G as qt,H as Ht,I as jt,J as Xt,K as Kt,L as Gt,M as Jt,N as Yt,O as Zt,P as Qt,g as en,Q as tn,R as nn,S as on,T as sn,U as an,V as rn}from"./element-DzvGG8RD.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-B0eYe1Gd.js";function ln(c){c?Be(ft):Be(Xe)}const ue=_t("app",()=>{const c=vt({opened:dt()!==Xe,withoutAnimation:!1}),l=H(ae.Desktop);return Ge(()=>c.opened,t=>{ln(t)}),{device:l,sidebar:c,toggleSidebar:t=>{c.opened=!c.opened,c.withoutAnimation=t},closeSidebar:t=>{c.opened=!1,c.withoutAnimation=t},toggleDevice:t=>{l.value=t}}}),lt=ue(),cn=R(()=>lt.device===ae.Mobile),un=R(()=>lt.device===ae.Desktop);function de(){return{isMobile:cn,isDesktop:un}}const Me=te(),dn=R(()=>Me.layoutMode===le.Left),fn=R(()=>Me.layoutMode===le.Top),pn=R(()=>Me.layoutMode===le.LeftTop);function mn(c){Me.layoutMode=c}function re(){return{isLeft:dn,isTop:fn,isLeftTop:pn,setLayoutMode:mn}}const _n={class:"app-main"},vn={class:"app-scrollbar"},hn=N({__name:"index",setup(c){const l=Ke(),f=te();return(u,r)=>{const t=Q("router-view"),e=Et;return _(),M("section",_n,[E("div",vn,[m(t,null,{default:g(({Component:s,route:o})=>[m(Je,{name:"el-fade-in",mode:"out-in"},{default:g(()=>[(_(),$(ht,{include:n(l).cachedViews},[(_(),$(ye(s),{key:o.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(f).showFooter?(_(),$(n($n),{key:0})):P("",!0)]),m(e),m(e,{target:".app-scrollbar"})])}}}),Ae=z(hn,[["__scopeId","data-v-3f6fad9c"]]);var J={},ze;function gn(){if(ze)return J;ze=1,Object.defineProperty(J,"__esModule",{value:!0}),J.PathError=J.TokenData=void 0,J.parse=p,J.compile=a,J.match=S,J.pathToRegexp=x,J.stringify=X;const c="/",l=i=>i,f=/^[$_\p{ID_Start}]$/u,u=/^[$\u200c\u200d\p{ID_Continue}]$/u,r={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(i){return i.replace(/[{}()\[\]+?!:*\\]/g,"\\$&")}function e(i){return i.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class s{constructor(d,y){this.tokens=d,this.originalPath=y}}J.TokenData=s;class o extends TypeError{constructor(d,y){let C=d;y&&(C+=`: ${y}`),C+="; visit https://git.new/pathToRegexpError for info",super(C),this.originalPath=y}}J.PathError=o;function p(i,d={}){const{encodePath:y=l}=d,C=[...i],k=[];let h=0,A=0;function F(){let D="";if(f.test(C[h]))do D+=C[h++];while(u.test(C[h]));else if(C[h]==='"'){let j=h;for(;h++<C.length;){if(C[h]==='"'){h++,j=0;break}C[h]==="\\"&&h++,D+=C[h]}if(j)throw new o(`Unterminated quote at index ${j}`,i)}if(!D)throw new o(`Missing parameter name at index ${h}`,i);return D}for(;h<C.length;){const D=C[h],j=r[D];j?k.push({type:j,index:h++,value:D}):D==="\\"?k.push({type:"escape",index:h++,value:C[h++]}):D===":"?k.push({type:"param",index:h++,value:F()}):D==="*"?k.push({type:"wildcard",index:h++,value:F()}):k.push({type:"char",index:h++,value:D})}k.push({type:"end",index:h,value:""});function K(D){const j=[];for(;;){const W=k[A++];if(W.type===D)break;if(W.type==="char"||W.type==="escape"){let G=W.value,oe=k[A];for(;oe.type==="char"||oe.type==="escape";)G+=oe.value,oe=k[++A];j.push({type:"text",value:y(G)});continue}if(W.type==="param"||W.type==="wildcard"){j.push({type:W.type,name:W.value});continue}if(W.type==="{"){j.push({type:"group",tokens:K("}")});continue}throw new o(`Unexpected ${W.type} at index ${W.index}, expected ${D}`,i)}return j}return new s(K("end"),i)}function a(i,d={}){const{encode:y=encodeURIComponent,delimiter:C=c}=d,k=typeof i=="object"?i:p(i,d),h=v(k.tokens,C,y);return function(F={}){const[K,...D]=h(F);if(D.length)throw new TypeError(`Missing parameters: ${D.join(", ")}`);return K}}function v(i,d,y){const C=i.map(k=>b(k,d,y));return k=>{const h=[""];for(const A of C){const[F,...K]=A(k);h[0]+=F,h.push(...K)}return h}}function b(i,d,y){if(i.type==="text")return()=>[i.value];if(i.type==="group"){const k=v(i.tokens,d,y);return h=>{const[A,...F]=k(h);return F.length?[""]:[A]}}const C=y||l;return i.type==="wildcard"&&y!==!1?k=>{const h=k[i.name];if(h==null)return["",i.name];if(!Array.isArray(h)||h.length===0)throw new TypeError(`Expected "${i.name}" to be a non-empty array`);return[h.map((A,F)=>{if(typeof A!="string")throw new TypeError(`Expected "${i.name}/${F}" to be a string`);return C(A)}).join(d)]}:k=>{const h=k[i.name];if(h==null)return["",i.name];if(typeof h!="string")throw new TypeError(`Expected "${i.name}" to be a string`);return[C(h)]}}function S(i,d={}){const{decode:y=decodeURIComponent,delimiter:C=c}=d,{regexp:k,keys:h}=x(i,d),A=h.map(F=>y===!1?l:F.type==="param"?y:K=>K.split(C).map(y));return function(K){const D=k.exec(K);if(!D)return!1;const j=D[0],W=Object.create(null);for(let G=1;G<D.length;G++){if(D[G]===void 0)continue;const oe=h[G-1],ut=A[G-1];W[oe.name]=ut(D[G])}return{path:j,params:W}}}function x(i,d={}){const{delimiter:y=c,end:C=!0,sensitive:k=!1,trailing:h=!0}=d,A=[],F=k?"":"i",K=[];for(const W of w(i,[])){const G=typeof W=="object"?W:p(W,d);for(const oe of V(G.tokens,0,[]))K.push(B(oe,y,A,G.originalPath))}let D=`^(?:${K.join("|")})`;return h&&(D+=`(?:${e(y)}$)?`),D+=C?"$":`(?=${e(y)}|$)`,{regexp:new RegExp(D,F),keys:A}}function w(i,d){if(Array.isArray(i))for(const y of i)w(y,d);else d.push(i);return d}function*V(i,d,y){if(d===i.length)return yield y;const C=i[d];if(C.type==="group")for(const k of V(C.tokens,0,y.slice()))yield*V(i,d+1,k);else y.push(C);yield*V(i,d+1,y)}function B(i,d,y,C){let k="",h="",A=!0;for(const F of i){if(F.type==="text"){k+=e(F.value),h+=F.value,A||(A=F.value.includes(d));continue}if(F.type==="param"||F.type==="wildcard"){if(!A&&!h)throw new o(`Missing text before "${F.name}" ${F.type}`,C);F.type==="param"?k+=`(${L(d,A?"":h)}+)`:k+="([\\s\\S]+)",y.push(F),h="",A=!1;continue}}return k}function L(i,d){return d.length<2?i.length<2?`[^${e(i+d)}]`:`(?:(?!${e(i)})[^${e(d)}])`:i.length<2?`(?:(?!${e(d)})[^${e(i)}])`:`(?:(?!${e(d)}|${e(i)})[\\s\\S])`}function q(i){let d="",y=0;function C(k){return I(k)&&T(i[y])?k:JSON.stringify(k)}for(;y<i.length;){const k=i[y++];if(k.type==="text"){d+=t(k.value);continue}if(k.type==="group"){d+=`{${q(k.tokens)}}`;continue}if(k.type==="param"){d+=`:${C(k.name)}`;continue}if(k.type==="wildcard"){d+=`*${C(k.name)}`;continue}throw new TypeError(`Unknown token type: ${k.type}`)}return d}function X(i){return q(i.tokens)}function I(i){const[d,...y]=i;return f.test(d)&&y.every(C=>u.test(C))}function T(i){return i&&i.type==="text"?!u.test(i.value[0]):!0}return J}var yn=gn();const bn={key:0,class:"no-redirect"},wn=["onClick"],kn=N({__name:"index",setup(c){const l=xe(),f=Ce(),{listenerRouteChange:u}=Se(),r=H([]);function t(){r.value=l.matched.filter(o=>o.meta?.title&&o.meta?.breadcrumb!==!1)}function e(o){return yn.compile(o)(l.params)}function s(o){const{redirect:p,path:a}=o;if(p)return f.push(p);f.push(e(a))}return u(o=>{o.path.startsWith("/redirect/")||t()},!0),(o,p)=>{const a=Mt,v=Tt;return _(),$(v,null,{default:g(()=>[(_(!0),M(Z,null,se(n(r),(b,S)=>(_(),$(a,{key:b.path},{default:g(()=>[b.redirect==="noRedirect"||S===n(r).length-1?(_(),M("span",bn,U(b.meta.title),1)):(_(),M("a",{key:1,onClick:he(x=>s(b),["prevent"])},U(b.meta.title),9,wn))]),_:2},1024))),128))]),_:1})}}}),Sn=z(kn,[["__scopeId","data-v-148b927d"]]),xn={class:"layout-footer"},Cn=N({__name:"index",setup(c){const l="V3 Admin Vite";return(f,u)=>(_(),M("footer",xn," MIT © 2021-PRESENT "+U(n(l)),1))}}),$n=z(Cn,[["__scopeId","data-v-b41fd828"]]),En=N({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(c,{emit:l}){const f=l;function u(){f("toggleClick")}return(r,t)=>{const e=pe;return _(),M("div",{onClick:u},[m(e,{size:20,class:"icon"},{default:g(()=>[r.isActive?(_(),$(n(Vt),{key:0})):(_(),$(n(Lt),{key:1}))]),_:1})])}}}),Tn=z(En,[["__scopeId","data-v-c2fd27a8"]]),Mn="/v3-admin-vite/assets/logo-text-1-B14nbmAK.png",Vn="/v3-admin-vite/assets/logo-text-2-y4GmJqxb.png",Ln="/v3-admin-vite/assets/logo-C6EcH0uP.png",In=["src"],An=["src"],Rn=N({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(c){const{isLeft:l,isTop:f}=re();return(u,r)=>{const t=Q("router-link");return _(),M("div",{class:Y(["layout-logo-container",{collapse:u.collapse,"layout-mode-top":n(f)}])},[m(Je,{name:"layout-logo-fade"},{default:g(()=>[u.collapse?(_(),$(t,{key:"collapse",to:"/"},{default:g(()=>[E("img",{src:n(Ln),class:"layout-logo"},null,8,In)]),_:1})):(_(),$(t,{key:"expand",to:"/"},{default:g(()=>[E("img",{src:n(l)?n(Mn):n(Vn),class:"layout-logo-text"},null,8,An)]),_:1}))]),_:1})],2)}}}),Re=z(Rn,[["__scopeId","data-v-959f2fc6"]]),Dn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Pn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Fn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Bn={class:"card-header"},Nn={class:"card-title"},zn={class:"card-time"},Wn={key:0,class:"card-avatar"},On=["src"],Un={class:"card-body"},qn=N({__name:"List",props:{data:{}},setup(c){const l=c;return(f,u)=>{const r=nt,t=It,e=At;return l.data.length===0?(_(),$(r,{key:0})):(_(!0),M(Z,{key:1},se(l.data,(s,o)=>(_(),$(e,{key:o,shadow:"never",class:"card-container"},{header:g(()=>[E("div",Bn,[E("div",null,[E("span",null,[E("span",Nn,U(s.title),1),s.extra?(_(),$(t,{key:0,type:s.status,effect:"plain",size:"small"},{default:g(()=>[ee(U(s.extra),1)]),_:2},1032,["type"])):P("",!0)]),E("div",zn,U(s.datetime),1)]),s.avatar?(_(),M("div",Wn,[E("img",{src:s.avatar,width:"34"},null,8,On)])):P("",!0)])]),default:g(()=>[E("div",Un,U(s.description??"No Data"),1)]),_:2},1024))),128))}}}),Hn=z(qn,[["__scopeId","data-v-ef66ab12"]]),jn={class:"notify"},Xn={class:"notify-history"},We=99,Kn=350,Gn=N({__name:"index",setup(c){const l=R(()=>u.value.reduce((t,e)=>t+e.list.length,0)),f=H("通知"),u=H([{name:"通知",type:"primary",list:Dn},{name:"消息",type:"danger",list:Pn},{name:"待办",type:"warning",list:Fn}]);function r(){ke.success(`跳转到${f.value}历史页面`)}return(t,e)=>{const s=pe,o=me,p=Pt,a=Te,v=Bt,b=Dt,S=ot,x=Rt;return _(),M("div",jn,[m(x,{placement:"bottom",width:Kn,trigger:"click"},{reference:g(()=>[m(p,{value:n(l),max:We,hidden:n(l)===0},{default:g(()=>[m(o,{effect:"dark",content:"消息通知",placement:"bottom"},{default:g(()=>[m(s,{size:20},{default:g(()=>[m(n(Ft))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:g(()=>[m(b,{modelValue:n(f),"onUpdate:modelValue":e[0]||(e[0]=w=>fe(f)?f.value=w:null),class:"demo-tabs",stretch:""},{default:g(()=>[(_(!0),M(Z,null,se(n(u),(w,V)=>(_(),$(v,{key:V,name:w.name},{label:g(()=>[ee(U(w.name)+" ",1),m(p,{value:w.list.length,max:We,type:w.type},null,8,["value","type"])]),default:g(()=>[m(a,{height:"400px"},{default:g(()=>[m(Hn,{data:w.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),E("div",Xn,[m(S,{link:"",onClick:r},{default:g(()=>[ee(" 查看"+U(n(f))+"历史 ",1)]),_:1})])]),_:1})])}}}),Jn=z(Gn,[["__scopeId","data-v-ab2bcb22"]]),Oe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ne=(()=>{if(typeof document>"u")return!1;const c=Oe[0],l={};for(const f of Oe)if(f?.[1]in document){for(const[r,t]of f.entries())l[c[r]]=t;return l}return!1})(),Ue={change:ne.fullscreenchange,error:ne.fullscreenerror};let O={request(c=document.documentElement,l){return new Promise((f,u)=>{const r=()=>{O.off("change",r),f()};O.on("change",r);const t=c[ne.requestFullscreen](l);t instanceof Promise&&t.then(r).catch(u)})},exit(){return new Promise((c,l)=>{if(!O.isFullscreen){c();return}const f=()=>{O.off("change",f),c()};O.on("change",f);const u=document[ne.exitFullscreen]();u instanceof Promise&&u.then(f).catch(l)})},toggle(c,l){return O.isFullscreen?O.exit():O.request(c,l)},onchange(c){O.on("change",c)},onerror(c){O.on("error",c)},on(c,l){const f=Ue[c];f&&document.addEventListener(f,l,!1)},off(c,l){const f=Ue[c];f&&document.removeEventListener(f,l,!1)},raw:ne};Object.defineProperties(O,{isFullscreen:{get:()=>!!document[ne.fullscreenElement]},element:{enumerable:!0,get:()=>document[ne.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[ne.fullscreenEnabled]}});ne||(O={isEnabled:!1});const qe="content-large",He="content-full",Yn=N({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(c){const l=document.body.classList,f=O.isEnabled,u=H(!1),r=R(()=>u.value?c.exitTips:c.openTips),t=R(()=>u.value?"fullscreen-exit":"fullscreen");function e(){const S=document.querySelector(c.element)||void 0;f?O.toggle(S):ke.warning("您的浏览器无法工作")}function s(){u.value=O.isFullscreen,u.value||l.remove(qe,He)}be(()=>{f&&(O.on("change",s),gt(()=>{O.off("change",s)}))});const o=H(!1),p=R(()=>o.value?"内容区复原":"内容区放大"),a=R(()=>o.value?"fullscreen-exit":"fullscreen");function v(){o.value=!o.value,l.toggle(qe,o.value)}function b(){o.value&&v(),l.add(He),e()}return(S,x)=>{const w=Q("SvgIcon"),V=me,B=rt,L=at,q=st;return _(),M("div",null,[S.content?(_(),$(q,{key:1,disabled:n(u)},{dropdown:g(()=>[m(L,null,{default:g(()=>[m(B,{onClick:v},{default:g(()=>[ee(U(n(p)),1)]),_:1}),m(B,{onClick:b},{default:g(()=>[...x[0]||(x[0]=[ee(" 内容区全屏 ",-1)])]),_:1})]),_:1})]),default:g(()=>[m(w,{name:n(a),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(_(),$(V,{key:0,effect:"dark",content:n(r),placement:"bottom"},{default:g(()=>[m(w,{name:n(t),onClick:e,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),it=z(Yn,[["__scopeId","data-v-da6f28cf"]]),Zn={class:"search-footer"},Qn={class:"search-footer-item"},eo={class:"search-footer-item"},to={class:"search-footer-item"},no={class:"search-footer-total"},oo=N({__name:"Footer",props:{total:{}},setup(c){const l=c,{isMobile:f}=de();return(u,r)=>{const t=Q("SvgIcon");return _(),M("div",Zn,[n(f)?P("",!0):(_(),M(Z,{key:0},[E("span",Qn,[m(t,{name:"keyboard-enter",class:"svg-icon"}),r[0]||(r[0]=E("span",null,"确认",-1))]),E("span",eo,[m(t,{name:"keyboard-up",class:"svg-icon"}),m(t,{name:"keyboard-down",class:"svg-icon"}),r[1]||(r[1]=E("span",null,"切换",-1))]),E("span",to,[m(t,{name:"keyboard-esc",class:"svg-icon"}),r[2]||(r[2]=E("span",null,"关闭",-1))])],64)),E("span",no,"共 "+U(l.total)+" 项",1)])}}}),so=z(oo,[["__scopeId","data-v-03526223"]]),ao=["onMouseenter"],ro={class:"result-item-title"},lo=N({__name:"Result",props:yt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c,{expose:l}){const f=c,u=Ye(c,"modelValue"),r=bt(),t=H(0);function e(a){const v=a.name===u.value;return{background:v?"var(--el-color-primary)":"",color:v?"#ffffff":""}}function s(a){f.isPressUpOrDown||(u.value=a.name)}function o(){t.value=Number((window.innerHeight*.4).toFixed(1))}function p(a){const v=r?.proxy?.$refs[`resultItemRef${a}`];if(!v)return 0;const S=v[0].offsetTop+128;return S>t.value?S-t.value:0}return Ze(()=>{window.addEventListener("resize",o)}),Qe(()=>{o()}),et(()=>{window.removeEventListener("resize",o)}),l({getScrollTop:p}),(a,v)=>{const b=Q("SvgIcon");return _(),M("div",null,[(_(!0),M(Z,null,se(f.data,(S,x)=>(_(),M("div",{key:x,ref_for:!0,ref:`resultItemRef${x}`,class:"result-item",style:tt(e(S)),onMouseenter:w=>s(S)},[S.meta?.svgIcon?(_(),$(b,{key:0,name:S.meta.svgIcon,class:"svg-icon"},null,8,["name"])):S.meta?.elIcon?(_(),$(ye(S.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),E("span",ro,U(S.meta?.title),1),u.value&&u.value===S.name?(_(),$(b,{key:2,name:"keyboard-enter",class:"svg-icon"})):P("",!0)],44,ao))),128))])}}}),io=z(lo,[["__scopeId","data-v-b54aa557"]]),co=N({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(c){const l=Ye(c,"modelValue"),f=Ce(),{isMobile:u}=de(),r=ie("inputRef"),t=ie("scrollbarRef"),e=ie("resultRef"),s=H(""),o=wt([]),p=H(void 0),a=H(!1),v=R(()=>u.value?"80vw":"40vw"),b=R(()=>Nt(Ie().routes)),S=zt(()=>{const I=x(b.value),T=s.value.toLocaleLowerCase().trim();o.value=I.filter(d=>s.value?d.meta?.title?.toLocaleLowerCase().includes(T):!1);const i=o.value?.length;p.value=i>0?o.value[0].name:void 0},500);function x(I,T=[]){return I.forEach(i=>{T.push(i),i.children&&x(i.children,T)}),T}function w(){l.value=!1,setTimeout(()=>{s.value="",o.value=[]},200)}function V(I){if(!e.value)return;const T=e.value.getScrollTop(I);t.value?.setScrollTop(T)}function B(){a.value=!0;const{length:I}=o.value;if(I===0)return;const T=o.value.findIndex(i=>i.name===p.value);if(T===0){const i=o.value[I-1].name;p.value===i&&I>1?(p.value=o.value[I-2].name,V(I-2)):(p.value=i,V(I-1))}else p.value=o.value[T-1].name,V(T-1)}function L(){a.value=!0;const{length:I}=o.value;if(I===0)return;const T=o.value.map(i=>i.name).lastIndexOf(p.value);if(T===I-1){const i=o.value[0].name;p.value===i&&I>1?(p.value=o.value[1].name,V(1)):(p.value=i,V(0))}else p.value=o.value[T+1].name,V(T+1)}function q(){const{length:I}=o.value;if(I===0)return;const T=p.value,i=o.value.find(d=>d.name===T)?.path;if(i&&ge(i))return window.open(i,"_blank","noopener, noreferrer");if(!T)return ke.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{f.push({name:T})}catch{return ke.warning("该菜单有必填的动态参数，无法通过搜索进入")}w()}function X(){a.value=!1}return(I,T)=>{const i=Q("SvgIcon"),d=Ot,y=nt,C=Te,k=Wt;return _(),$(k,{modelValue:l.value,"onUpdate:modelValue":T[2]||(T[2]=h=>l.value=h),"before-close":w,width:n(v),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:T[3]||(T[3]=h=>n(r)?.focus()),onClosed:T[4]||(T[4]=h=>n(r)?.blur()),onKeydown:[_e(B,["up"]),_e(L,["down"]),_e(q,["enter"])],onKeyup:_e(X,["up","down"])},{footer:g(()=>[m(so,{total:n(o).length},null,8,["total"])]),default:g(()=>[m(d,{ref_key:"inputRef",ref:r,modelValue:n(s),"onUpdate:modelValue":T[0]||(T[0]=h=>fe(s)?s.value=h:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(S)},{prefix:g(()=>[m(i,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(o).length===0?(_(),$(y,{key:0,description:"暂无搜索结果","image-size":100})):(_(),M(Z,{key:1},[T[5]||(T[5]=E("p",null,"搜索结果",-1)),m(C,{ref_key:"scrollbarRef",ref:t,"max-height":"40vh",always:""},{default:g(()=>[m(io,{ref_key:"resultRef",ref:e,modelValue:n(p),"onUpdate:modelValue":T[1]||(T[1]=h=>fe(p)?p.value=h:null),data:n(o),"is-press-up-or-down":n(a),onClick:q},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),uo=N({__name:"index",setup(c){const l=H(!1);function f(){l.value=!0}return(u,r)=>{const t=Q("SvgIcon"),e=me;return _(),M("div",null,[m(e,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:g(()=>[m(t,{name:"search",onClick:f,class:"svg-icon"})]),_:1}),m(co,{modelValue:n(l),"onUpdate:modelValue":r[0]||(r[0]=s=>fe(l)?l.value=s:null)},null,8,["modelValue"])])}}}),fo=z(uo,[["__scopeId","data-v-3f918a22"]]),po={class:"navigation-bar"},mo={class:"right-menu"},_o={class:"right-menu-item user"},vo={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},ho={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},go=N({__name:"index",setup(c){const{isMobile:l}=de(),{isTop:f}=re(),u=Ce(),r=ue(),t=pt(),e=te(),{showNotify:s,showThemeSwitch:o,showScreenfull:p,showSearchMenu:a}=ce(e);function v(){r.toggleSidebar(!1)}function b(){t.logout(),u.push("/login")}return(S,x)=>{const w=Ut,V=rt,B=at,L=st;return _(),M("div",po,[!n(f)||n(l)?(_(),$(n(Tn),{key:0,"is-active":n(r).sidebar.opened,class:"hamburger",onToggleClick:v},null,8,["is-active"])):P("",!0),!n(f)||n(l)?(_(),$(n(Sn),{key:1,class:"breadcrumb"})):P("",!0),n(f)&&!n(l)?(_(),$(n(Pe),{key:2,class:"sidebar"})):P("",!0),E("div",mo,[n(a)?(_(),$(fo,{key:0,class:"right-menu-item"})):P("",!0),n(p)?(_(),$(it,{key:1,class:"right-menu-item"})):P("",!0),n(o)?(_(),$($t,{key:2,class:"right-menu-item"})):P("",!0),n(s)?(_(),$(Jn,{key:3,class:"right-menu-item"})):P("",!0),m(L,null,{dropdown:g(()=>[m(B,null,{default:g(()=>[E("a",vo,[m(V,null,{default:g(()=>[...x[0]||(x[0]=[ee("GitHub",-1)])]),_:1})]),E("a",ho,[m(V,null,{default:g(()=>[...x[1]||(x[1]=[ee("Gitee",-1)])]),_:1})]),m(V,{divided:"",onClick:b},{default:g(()=>[...x[2]||(x[2]=[ee(" 退出登录 ",-1)])]),_:1})]),_:1})]),default:g(()=>[E("div",_o,[m(w,{icon:n(qt),size:30},null,8,["icon"]),E("span",null,U(n(t).username),1)])]),_:1})])])}}}),De=z(go,[["__scopeId","data-v-81a502ee"]]),yo=N({__name:"index",setup(c){const l=H(!1);return(f,u)=>{const r=pe,t=Ht;return _(),M(Z,null,[E("div",{class:"handle-button",onClick:u[0]||(u[0]=e=>l.value=!0)},[m(r,{size:24},{default:g(()=>[m(n(jt))]),_:1})]),m(t,{modelValue:n(l),"onUpdate:modelValue":u[1]||(u[1]=e=>fe(l)?l.value=e:null),size:"300px","with-header":!1},{default:g(()=>[we(f.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),bo=z(yo,[["__scopeId","data-v-75b901b7"]]),wo={class:"select-layout-mode"},ko=N({__name:"SelectLayoutMode",setup(c){const{isLeft:l,isTop:f,isLeftTop:u,setLayoutMode:r}=re();return(t,e)=>{const s=Kt,o=Gt,p=Jt,a=Xt,v=me;return _(),M("div",wo,[m(v,{content:"左侧模式"},{default:g(()=>[m(a,{class:Y(["layout-mode left",{active:n(l)}]),onClick:e[0]||(e[0]=b=>n(r)(n(le).Left))},{default:g(()=>[m(s),m(a,null,{default:g(()=>[m(o),m(p)]),_:1})]),_:1},8,["class"])]),_:1}),m(v,{content:"顶部模式"},{default:g(()=>[m(a,{class:Y(["layout-mode top",{active:n(f)}]),onClick:e[1]||(e[1]=b=>n(r)(n(le).Top))},{default:g(()=>[m(o),m(p)]),_:1},8,["class"])]),_:1}),m(v,{content:"混合模式"},{default:g(()=>[m(a,{class:Y(["layout-mode left-top",{active:n(u)}]),onClick:e[2]||(e[2]=b=>n(r)(n(le).LeftTop))},{default:g(()=>[m(o),m(a,null,{default:g(()=>[m(s),m(p)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),So=z(ko,[["__scopeId","data-v-97e756dd"]]),xo={class:"setting-container"},Co={class:"setting-name"},$o=N({__name:"index",setup(c){const{isLeft:l}=re(),f=te(),{showTagsView:u,showLogo:r,fixedHeader:t,showFooter:e,showNotify:s,showThemeSwitch:o,showScreenfull:p,showSearchMenu:a,cacheTagsView:v,showWatermark:b,showGreyMode:S,showColorWeakness:x}=ce(f),w={显示标签栏:u,"显示 Logo":r,"固定 Header":t,显示页脚:e,显示消息通知:s,显示切换主题按钮:o,显示全屏按钮:p,显示搜索按钮:a,是否缓存标签栏:v,开启系统水印:b,显示灰色模式:S,显示色弱模式:x};be(()=>{!l.value&&(t.value=!0)});function V(){mt(),location.reload()}return(B,L)=>{const q=Yt,X=Qt,I=ot;return _(),M("div",xo,[L[1]||(L[1]=E("h4",null,"布局配置",-1)),m(So),m(q),L[2]||(L[2]=E("h4",null,"功能配置",-1)),(_(),M(Z,null,se(w,(T,i,d)=>E("div",{key:d,class:"setting-item"},[E("span",Co,U(i),1),m(X,{modelValue:T.value,"onUpdate:modelValue":y=>T.value=y,disabled:!n(l)&&i==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),m(I,{type:"danger",icon:n(Zt),onClick:V},{default:g(()=>[...L[0]||(L[0]=[ee(" 重 置 ",-1)])]),_:1},8,["icon"])])}}}),Eo=z($o,[["__scopeId","data-v-e39360f6"]]);var Ve,je;function To(){if(je)return Ve;je=1;function c(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function l(r,t){for(var e="",s=0,o=-1,p=0,a,v=0;v<=r.length;++v){if(v<r.length)a=r.charCodeAt(v);else{if(a===47)break;a=47}if(a===47){if(!(o===v-1||p===1))if(o!==v-1&&p===2){if(e.length<2||s!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){var b=e.lastIndexOf("/");if(b!==e.length-1){b===-1?(e="",s=0):(e=e.slice(0,b),s=e.length-1-e.lastIndexOf("/")),o=v,p=0;continue}}else if(e.length===2||e.length===1){e="",s=0,o=v,p=0;continue}}t&&(e.length>0?e+="/..":e="..",s=2)}else e.length>0?e+="/"+r.slice(o+1,v):e=r.slice(o+1,v),s=v-o-1;o=v,p=0}else a===46&&p!==-1?++p:p=-1}return e}function f(r,t){var e=t.dir||t.root,s=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+s:e+r+s:s}var u={resolve:function(){for(var t="",e=!1,s,o=arguments.length-1;o>=-1&&!e;o--){var p;o>=0?p=arguments[o]:(s===void 0&&(s=process.cwd()),p=s),c(p),p.length!==0&&(t=p+"/"+t,e=p.charCodeAt(0)===47)}return t=l(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(c(t),t.length===0)return".";var e=t.charCodeAt(0)===47,s=t.charCodeAt(t.length-1)===47;return t=l(t,!e),t.length===0&&!e&&(t="."),t.length>0&&s&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return c(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var s=arguments[e];c(s),s.length>0&&(t===void 0?t=s:t+="/"+s)}return t===void 0?".":u.normalize(t)},relative:function(t,e){if(c(t),c(e),t===e||(t=u.resolve(t),e=u.resolve(e),t===e))return"";for(var s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var o=t.length,p=o-s,a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var v=e.length,b=v-a,S=p<b?p:b,x=-1,w=0;w<=S;++w){if(w===S){if(b>S){if(e.charCodeAt(a+w)===47)return e.slice(a+w+1);if(w===0)return e.slice(a+w)}else p>S&&(t.charCodeAt(s+w)===47?x=w:w===0&&(x=0));break}var V=t.charCodeAt(s+w),B=e.charCodeAt(a+w);if(V!==B)break;V===47&&(x=w)}var L="";for(w=s+x+1;w<=o;++w)(w===o||t.charCodeAt(w)===47)&&(L.length===0?L+="..":L+="/..");return L.length>0?L+e.slice(a+x):(a+=x,e.charCodeAt(a)===47&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(c(t),t.length===0)return".";for(var e=t.charCodeAt(0),s=e===47,o=-1,p=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!p){o=a;break}}else p=!1;return o===-1?s?"/":".":s&&o===1?"//":t.slice(0,o)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');c(t);var s=0,o=-1,p=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var v=e.length-1,b=-1;for(a=t.length-1;a>=0;--a){var S=t.charCodeAt(a);if(S===47){if(!p){s=a+1;break}}else b===-1&&(p=!1,b=a+1),v>=0&&(S===e.charCodeAt(v)?--v===-1&&(o=a):(v=-1,o=b))}return s===o?o=b:o===-1&&(o=t.length),t.slice(s,o)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!p){s=a+1;break}}else o===-1&&(p=!1,o=a+1);return o===-1?"":t.slice(s,o)}},extname:function(t){c(t);for(var e=-1,s=0,o=-1,p=!0,a=0,v=t.length-1;v>=0;--v){var b=t.charCodeAt(v);if(b===47){if(!p){s=v+1;break}continue}o===-1&&(p=!1,o=v+1),b===46?e===-1?e=v:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||o===-1||a===0||a===1&&e===o-1&&e===s+1?"":t.slice(e,o)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return f("/",t)},parse:function(t){c(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var s=t.charCodeAt(0),o=s===47,p;o?(e.root="/",p=1):p=0;for(var a=-1,v=0,b=-1,S=!0,x=t.length-1,w=0;x>=p;--x){if(s=t.charCodeAt(x),s===47){if(!S){v=x+1;break}continue}b===-1&&(S=!1,b=x+1),s===46?a===-1?a=x:w!==1&&(w=1):a!==-1&&(w=-1)}return a===-1||b===-1||w===0||w===1&&a===b-1&&a===v+1?b!==-1&&(v===0&&o?e.base=e.name=t.slice(1,b):e.base=e.name=t.slice(v,b)):(v===0&&o?(e.name=t.slice(1,a),e.base=t.slice(1,b)):(e.name=t.slice(v,a),e.base=t.slice(v,b)),e.ext=t.slice(a,b)),v>0?e.dir=t.slice(0,v-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,Ve=u,Ve}var Mo=To();const ct=en(Mo),Vo=["href"],Lo=N({__name:"Link",props:{to:{}},setup(c){const l=c;return(f,u)=>{const r=Q("router-link");return n(ge)(l.to)?(_(),M("a",{key:0,href:l.to,target:"_blank",rel:"noopener"},[we(f.$slots,"default")],8,Vo)):(_(),$(r,{key:1,to:l.to},{default:g(()=>[we(f.$slots,"default")]),_:3},8,["to"]))}}}),Io={class:"title"},Ao={key:2,class:"title"},Ro=N({__name:"Item",props:{item:{},basePath:{default:""}},setup(c){const l=R(()=>c.item.meta?.alwaysShow),f=R(()=>c.item.children?.filter(e=>!e.meta?.hidden)??[]),u=R(()=>f.value.length),r=R(()=>{const e=u.value;switch(!0){case e>1:return null;case e===1:return f.value[0];default:return{...c.item,path:""}}});function t(e){switch(!0){case ge(e):return e;case ge(c.basePath):return c.basePath;default:return ct.resolve(c.basePath,e)}}return(e,s)=>{const o=Q("SvgIcon"),p=tn,a=Q("Item",!0),v=nn;return!n(l)&&n(r)&&!n(r).children?(_(),M(Z,{key:0},[n(r).meta?(_(),$(Lo,{key:0,to:t(n(r).path)},{default:g(()=>[m(p,{index:t(n(r).path)},kt({default:g(()=>[n(r).meta.svgIcon?(_(),$(o,{key:0,name:n(r).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(r).meta.elIcon?(_(),$(ye(n(r).meta.elIcon),{key:1,class:"el-icon"})):P("",!0)]),_:2},[n(r).meta.title?{name:"title",fn:g(()=>[E("span",Io,U(n(r).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):P("",!0)],64)):(_(),$(v,{key:1,index:t(e.item.path),teleported:""},{title:g(()=>[e.item.meta?.svgIcon?(_(),$(o,{key:0,name:e.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):e.item.meta?.elIcon?(_(),$(ye(e.item.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),e.item.meta?.title?(_(),M("span",Ao,U(e.item.meta.title),1)):P("",!0)]),default:g(()=>[e.item.children?(_(!0),M(Z,{key:0},se(n(f),b=>(_(),$(a,{key:b.path,item:b,"base-path":t(b.path)},null,8,["item","base-path"]))),128)):P("",!0)]),_:1},8,["index"]))}}}),Do=z(Ro,[["__scopeId","data-v-a636be4d"]]),Po=N({__name:"index",setup(c){St(I=>({"5a9e1306":n(X),"6858d36f":n(L),"261afd57":n(q),"02f6d96a":n(B)}));const l=ve("--v3-sidebar-menu-bg-color"),f=ve("--v3-sidebar-menu-text-color"),u=ve("--v3-sidebar-menu-active-text-color"),{isMobile:r}=de(),{isLeft:t,isTop:e}=re(),s=xe(),o=ue(),p=Ie(),a=te(),v=R(()=>s.meta.activeMenu||s.path),b=R(()=>p.routes.filter(I=>!I.meta?.hidden)),S=R(()=>!o.sidebar.opened),x=R(()=>t.value&&a.showLogo),w=R(()=>t.value?l:void 0),V=R(()=>t.value?f:void 0),B=R(()=>t.value?u:void 0),L=R(()=>e.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),q=R(()=>e.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),X=R(()=>e.value?"0px":"2px");return(I,T)=>{const i=on,d=Te;return _(),M("div",{class:Y({"has-logo":n(x)})},[n(x)?(_(),$(n(Re),{key:0,collapse:n(S)},null,8,["collapse"])):P("",!0),m(d,{"wrap-class":"scrollbar-wrapper"},{default:g(()=>[m(i,{"default-active":n(v),collapse:n(S)&&!n(e),"background-color":n(w),"text-color":n(V),"active-text-color":n(B),"collapse-transition":!1,mode:n(e)&&!n(r)?"horizontal":"vertical"},{default:g(()=>[(_(!0),M(Z,null,se(n(b),y=>(_(),$(Do,{key:y.path,item:y,"base-path":y.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Pe=z(Po,[["__scopeId","data-v-ad9fbc87"]]),Fo={class:"scroll-container"},Bo=200,No=N({__name:"ScrollPane",props:{tagRefs:{}},setup(c){const l=c,f=xe(),u=te(),{listenerRouteChange:r}=Se(),t=ie("scrollbarRef"),e=ie("scrollbarContentRef");let s=0;function o({scrollLeft:S}){s=S}function p({deltaY:S}){S.toString().startsWith("-")?v("left"):v("right")}function a(){const S=e.value.clientWidth,x=t.value.wrapRef.clientWidth,w=S-x-s;return{scrollbarContentRefWidth:S,scrollbarRefWidth:x,lastDistance:w}}function v(S,x=Bo){let w=0;const{scrollbarContentRefWidth:V,scrollbarRefWidth:B,lastDistance:L}=a();B>V||(S==="left"?w=Math.max(0,s-x):w=Math.min(s+x,s+L),t.value.setScrollLeft(w))}function b(){const S=l.tagRefs;for(let x=0;x<S.length;x++)if(f.path===S[x].$props.to.path){const w=S[x].$el,V=w.offsetWidth,B=w.offsetLeft,{scrollbarRefWidth:L}=a();if(B<s){const X=s-B;v("left",X);return}const q=L+s-V;if(B>q){const X=B-q;v("right",X);return}}}return r(()=>{xt(b)}),(S,x)=>{const w=pe,V=me,B=Te;return _(),M("div",Fo,[m(V,{content:"向左滚动标签（超出最大宽度可点击）"},{default:g(()=>[m(w,{class:"arrow left",onClick:x[0]||(x[0]=L=>v("left"))},{default:g(()=>[m(n(sn))]),_:1})]),_:1}),m(B,{ref_key:"scrollbarRef",ref:t,onWheelPassive:p,onScroll:o},{default:g(()=>[E("div",{ref_key:"scrollbarContentRef",ref:e,class:"scrollbar-content"},[we(S.$slots,"default",{},void 0,!0)],512)]),_:3},512),m(V,{content:"向右滚动标签（超出最大宽度可点击）"},{default:g(()=>[m(w,{class:"arrow right",onClick:x[1]||(x[1]=L=>v("right"))},{default:g(()=>[m(n(an))]),_:1})]),_:1}),n(u).showScreenfull?(_(),$(it,{key:0,content:!0,class:"screenfull"})):P("",!0)])}}}),zo=z(No,[["__scopeId","data-v-d8cf98d6"]]),Wo={class:"tags-view-container"},Oo=N({__name:"index",setup(c){const l=Ce(),f=xe(),u=Ke(),r=Ie(),{listenerRouteChange:t}=Se(),e=ie("tagRefs"),s=H(!1),o=H(0),p=H(0),a=H({});let v=[];function b(d){return d.path===f.path}function S(d){return d.meta?.affix}function x(d,y="/"){const C=[];return d.forEach(k=>{if(S(k)){const h=ct.resolve(y,k.path);C.push({fullPath:h,path:h,name:k.name,meta:{...k.meta}})}if(k.children){const h=x(k.children,k.path);C.push(...h)}}),C}function w(){v=x(r.routes);for(const d of v)d.name&&u.addVisitedView(d)}function V(d){d.name&&(u.addVisitedView(d),u.addCachedView(d))}function B(d){u.delCachedView(d),l.replace({path:`/redirect${d.path}`,query:d.query})}function L(d){u.delVisitedView(d),u.delCachedView(d),b(d)&&I(u.visitedViews,d)}function q(){const d=a.value.fullPath;d!==f.path&&d!==void 0&&l.push(d),u.delOthersVisitedViews(a.value),u.delOthersCachedViews(a.value)}function X(d){u.delAllVisitedViews(),u.delAllCachedViews(),!v.some(y=>y.path===f.path)&&I(u.visitedViews,d)}function I(d,y){const k=d.slice(-1)[0]?.fullPath;k!==void 0?l.push(k):y.name==="Dashboard"?l.push({path:`/redirect${y.path}`,query:y.query}):l.push("/")}function T(d,y){const h=document.body.offsetWidth-100,A=y.clientX+10;p.value=A>h?h:A,o.value=y.clientY,s.value=!0,a.value=d}function i(){s.value=!1}return Ge(s,d=>{d?document.body.addEventListener("click",i):document.body.removeEventListener("click",i)}),w(),t(d=>{V(d)},!0),(d,y)=>{const C=pe,k=Q("router-link");return _(),M("div",Wo,[m(zo,{class:"tags-view-wrapper","tag-refs":n(e)},{default:g(()=>[(_(!0),M(Z,null,se(n(u).visitedViews,h=>(_(),$(k,{key:h.path,ref_for:!0,ref_key:"tagRefs",ref:e,class:Y([{active:b(h)},"tags-view-item"]),to:{path:h.path,query:h.query},onMouseup:he(A=>!S(h)&&L(h),["middle"]),onContextmenu:he(A=>T(h,A),["prevent"])},{default:g(()=>[ee(U(h.meta?.title)+" ",1),S(h)?P("",!0):(_(),$(C,{key:0,size:12,onClick:he(A=>L(h),["prevent","stop"])},{default:g(()=>[m(n(rn))]),_:1},8,["onClick"]))]),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),$e(E("ul",{class:"contextmenu",style:tt({left:`${n(p)}px`,top:`${n(o)}px`})},[E("li",{onClick:y[0]||(y[0]=h=>B(n(a)))}," 刷新 "),S(n(a))?P("",!0):(_(),M("li",{key:0,onClick:y[1]||(y[1]=h=>L(n(a)))}," 关闭 ")),E("li",{onClick:q}," 关闭其它 "),E("li",{onClick:y[2]||(y[2]=h=>X(n(a)))}," 关闭所有 ")],4),[[Ee,n(s)]])])}}}),Fe=z(Oo,[["__scopeId","data-v-3e72bcc4"]]),Uo=992;function qo(){const c=ue(),{listenerRouteChange:l}=Se(),f=()=>document.body.getBoundingClientRect().width-1<Uo,u=()=>{if(!document.hidden){const r=f();c.toggleDevice(r?ae.Mobile:ae.Desktop),r&&c.closeSidebar(!0)}};l(()=>{c.device===ae.Mobile&&c.sidebar.opened&&c.closeSidebar(!1)}),Ze(()=>{window.addEventListener("resize",u)}),Qe(()=>{f()&&(c.toggleDevice(ae.Mobile),c.closeSidebar(!0))}),et(()=>{window.removeEventListener("resize",u)})}const Ho=N({__name:"LeftMode",setup(c){const{isMobile:l}=de(),{isLeft:f}=re(),u=ue(),r=te(),{showTagsView:t,fixedHeader:e}=ce(r),s=R(()=>({hideSidebar:!u.sidebar.opened,openSidebar:u.sidebar.opened,withoutAnimation:u.sidebar.withoutAnimation,mobile:l.value,noLeft:!f.value}));function o(){u.closeSidebar(!1)}return(p,a)=>(_(),M("div",{class:Y([n(s),"app-wrapper"])},[n(s).mobile&&n(s).openSidebar?(_(),M("div",{key:0,class:"drawer-bg",onClick:o})):P("",!0),m(n(Pe),{class:"sidebar-container"}),E("div",{class:Y([{hasTagsView:n(t)},"main-container"])},[E("div",{class:Y([{"fixed-header":n(e)},"layout-header"])},[m(n(De)),$e(m(n(Fe),null,null,512),[[Ee,n(t)]])],2),m(n(Ae),{class:"app-main"})],2)],2))}}),jo=z(Ho,[["__scopeId","data-v-81a2a155"]]),Xo={class:"fixed-header layout-header"},Ko={class:"content"},Go=N({__name:"LeftTopMode",setup(c){const l=ue(),f=te(),{showTagsView:u,showLogo:r}=ce(f),t=R(()=>({hideSidebar:!l.sidebar.opened}));return(e,s)=>(_(),M("div",{class:Y([n(t),"app-wrapper"])},[E("div",Xo,[n(r)?(_(),$(n(Re),{key:0,collapse:!1,class:"logo"})):P("",!0),E("div",Ko,[m(n(De)),$e(m(n(Fe),null,null,512),[[Ee,n(u)]])])]),E("div",{class:Y([{hasTagsView:n(u)},"main-container"])},[m(n(Pe),{class:"sidebar-container"}),m(n(Ae),{class:"app-main"})],2)],2))}}),Jo=z(Go,[["__scopeId","data-v-704cfdeb"]]),Yo={class:"app-wrapper"},Zo={class:"fixed-header layout-header"},Qo={class:"content"},es=N({__name:"TopMode",setup(c){const l=te(),{showTagsView:f,showLogo:u}=ce(l);return(r,t)=>(_(),M("div",Yo,[E("div",Zo,[E("div",Qo,[n(u)?(_(),$(n(Re),{key:0,collapse:!1,class:"logo"})):P("",!0),m(n(De),{class:"navigation-bar"})]),$e(m(n(Fe),null,null,512),[[Ee,n(f)]])]),E("div",{class:Y([{hasTagsView:n(f)},"main-container"])},[m(n(Ae),{class:"app-main"})],2)]))}}),ts=z(es,[["__scopeId","data-v-0938d696"]]),Le="--v3-tagsview-height",ys=N({__name:"index",setup(c){qo();const{setWatermark:l,clearWatermark:f}=Ct(),{isMobile:u}=de(),{isLeft:r,isTop:t,isLeftTop:e}=re(),s=te(),{showSettings:o,showTagsView:p,showWatermark:a}=ce(s),v=ve(Le);return be(()=>{p.value?Ne(Le,v):Ne(Le,"0px")}),be(()=>{a.value?l("V3 Admin Vite"):f()}),(b,S)=>(_(),M("div",null,[n(r)||n(u)?(_(),$(jo,{key:0})):n(t)?(_(),$(ts,{key:1})):n(e)?(_(),$(Jo,{key:2})):P("",!0),n(o)?(_(),$(n(bo),{key:3},{default:g(()=>[m(n(Eo))]),_:1})):P("",!0)]))}});export{ys as default};
