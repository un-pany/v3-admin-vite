import{j as B,e as M,u as q}from"./index-6mXZxeT7.js";/* empty css                     *//* empty css                  *//* empty css                 */import{t as E,v as b,G as N,aG as U,x as v,r as h,aD as D,V as T,D as A,H as G,M as o,A as u,u as e,E as a,al as $,R as J,J as K,az as O}from"./vue-C06Il7Tf.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-6jf0EvIl.js";import{W as H,X as L,D as W,Y as X,Z as Y,_ as Z,$ as P,i as Q,a0 as ee,a1 as oe,r as se,E as te}from"./element-BgKenCvB.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-Sgph8DQe.js";/* empty css                        *//* empty css                     */import"./el-tooltip-l0sNRNKZ.js";const ae="/v3-admin-vite/assets/logo-text-2-y4GmJqxb.png";function re(){return B({url:"auth/captcha",method:"get"})}function le(r){return B({url:"auth/login",method:"post",data:r})}const ne=E({__name:"Owl",props:{closeEyes:{type:Boolean}},setup(r){const n=r;return(c,d)=>(v(),b("div",{class:N(["owl",{"owl-password":n.closeEyes}])},d[0]||(d[0]=[U('<div class="hand-down-left" data-v-9d98ae89></div><div class="hand-down-right" data-v-9d98ae89></div><div class="hand-up-left" data-v-9d98ae89></div><div class="hand-up-right" data-v-9d98ae89></div><div class="close-eyes" data-v-9d98ae89></div>',5)]),2))}}),de=k(ne,[["__scopeId","data-v-9d98ae89"]]);function ie(){const r=h(!1);return{isFocus:r,handleBlur:()=>{r.value=!1},handleFocus:()=>{r.value=!0}}}const ue={class:"login-container"},ce={class:"login-card"},me={class:"content"},pe=E({__name:"index",setup(r){const n=O(),c=M(),d=q(),{isFocus:C,handleBlur:x,handleFocus:w}=ie(),y=D("loginFormRef"),m=h(!1),p=h(""),t=T({username:"admin",password:"12345678",code:""}),R={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]};function F(){y.value?.validate(i=>{if(!i){te.error("表单校验不通过");return}m.value=!0,le(t).then(({data:s})=>{c.setToken(s.token),n.push("/")}).catch(()=>{f(),t.password=""}).finally(()=>{m.value=!1})})}function f(){t.code="",p.value="",re().then(i=>{p.value=i.data})}return f(),(i,s)=>{const _=W,g=L,V=Q,S=P,z=se,I=H;return v(),b("div",ue,[e(d).showThemeSwitch?(v(),A(j,{key:0,class:"theme-switch"})):G("",!0),o(de,{"close-eyes":e(C)},null,8,["close-eyes"]),u("div",ce,[s[4]||(s[4]=u("div",{class:"title"},[u("img",{src:ae})],-1)),u("div",me,[o(I,{ref_key:"loginFormRef",ref:y,model:e(t),rules:R,onKeyup:$(F,["enter"])},{default:a(()=>[o(g,{prop:"username"},{default:a(()=>[o(_,{modelValue:e(t).username,"onUpdate:modelValue":s[0]||(s[0]=l=>e(t).username=l),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":e(X),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),o(g,{prop:"password"},{default:a(()=>[o(_,{modelValue:e(t).password,"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).password=l),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":e(Y),size:"large","show-password":"",onBlur:e(x),onFocus:e(w)},null,8,["modelValue","prefix-icon","onBlur","onFocus"])]),_:1}),o(g,{prop:"code"},{default:a(()=>[o(_,{modelValue:e(t).code,"onUpdate:modelValue":s[2]||(s[2]=l=>e(t).code=l),modelModifiers:{trim:!0},placeholder:"验证码",type:"text",tabindex:"3","prefix-icon":e(Z),maxlength:"7",size:"large",onBlur:e(x),onFocus:e(w)},{append:a(()=>[o(S,{src:e(p),draggable:"false",onClick:f},{placeholder:a(()=>[o(V,null,{default:a(()=>[o(e(oe))]),_:1})]),error:a(()=>[o(V,null,{default:a(()=>[o(e(ee))]),_:1})]),_:1},8,["src"])]),_:1},8,["modelValue","prefix-icon","onBlur","onFocus"])]),_:1}),o(z,{loading:e(m),type:"primary",size:"large",onClick:J(F,["prevent"])},{default:a(()=>s[3]||(s[3]=[K(" 登 录 ")])),_:1,__:[3]},8,["loading"])]),_:1},8,["model"])])])])}}}),be=k(pe,[["__scopeId","data-v-8fdb90ee"]]);export{be as default};
