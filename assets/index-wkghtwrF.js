import{g as dt,S as Xe,D as ae,s as Be,a as ft,u as te,L as le,b as Ke,c as xe,i as ge,d as Ie,e as pt,r as mt,f as ve,h as Ne}from"./index-DOxhsKZ2.js";import{ax as _t,$ as vt,r as H,w as Ge,c as R,t as N,A as M,C as E,P as m,x as $,J as P,a8 as Q,G as g,R as Je,az as ht,u as n,K as ye,y as _,O as Z,aa as se,aA as Se,aB as Ce,M as q,W as he,I as Y,L as ee,j as fe,h as be,aC as gt,aD as yt,aE as Ye,a2 as Ze,k as Qe,Y as et,g as bt,X as tt,ao as _e,aF as ie,s as wt,aG as ce,v as we,ai as kt,aH as xt,n as St,H as $e,Q as Ee}from"./vue-CiNTPoLB.js";import{u as Ct}from"./useWatermark-B6nRO-mC.js";/* empty css                  *//* empty css                        *//* empty css                     */import{_ as $t}from"./index.vue_vue_type_script_setup_true_lang-BhvZukNW.js";/* empty css                    *//* empty css                   *//* empty css                *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                 */import{e as Et,f as Tt,h as Mt,i as pe,j as Vt,k as Lt,l as nt,n as It,o as At,p as Rt,q as Dt,r as ot,s as Pt,t as me,u as Ft,E as ke,v as Bt,w as Te,x as st,y as at,z as rt,A as Nt,B as zt,C as Wt,D as Ot,F as qt,G as Ut,H as Ht,I as jt,J as Xt,K as Kt,L as Gt,M as Jt,N as Yt,O as Zt,P as Qt,g as en,Q as tn,R as nn,S as on,T as sn,U as an,V as rn}from"./element-D6yGaeVA.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-DbfZp5nQ.js";function ln(r){r?Be(ft):Be(Xe)}const ue=_t("app",()=>{const r=vt({opened:dt()!==Xe,withoutAnimation:!1}),i=H(ae.Desktop);return Ge(()=>r.opened,e=>{ln(e)}),{device:i,sidebar:r,toggleSidebar:e=>{r.opened=!r.opened,r.withoutAnimation=e},closeSidebar:e=>{r.opened=!1,r.withoutAnimation=e},toggleDevice:e=>{i.value=e}}}),lt=ue(),cn=R(()=>lt.device===ae.Mobile),un=R(()=>lt.device===ae.Desktop);function de(){return{isMobile:cn,isDesktop:un}}const Me=te(),dn=R(()=>Me.layoutMode===le.Left),fn=R(()=>Me.layoutMode===le.Top),pn=R(()=>Me.layoutMode===le.LeftTop);function mn(r){Me.layoutMode=r}function re(){return{isLeft:dn,isTop:fn,isLeftTop:pn,setLayoutMode:mn}}const _n={class:"app-main"},vn={class:"app-scrollbar"},hn=N({__name:"index",setup(r){const i=Ke(),f=te();return(d,l)=>{const e=Q("router-view"),t=Et;return _(),M("section",_n,[E("div",vn,[m(e,null,{default:g(({Component:s,route:o})=>[m(Je,{name:"el-fade-in",mode:"out-in"},{default:g(()=>[(_(),$(ht,{include:n(i).cachedViews},[(_(),$(ye(s),{key:o.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(f).showFooter?(_(),$(n($n),{key:0})):P("",!0)]),m(t),m(t,{target:".app-scrollbar"})])}}}),Ae=z(hn,[["__scopeId","data-v-3f6fad9c"]]);var J={},ze;function gn(){if(ze)return J;ze=1,Object.defineProperty(J,"__esModule",{value:!0}),J.PathError=J.TokenData=void 0,J.parse=p,J.compile=a,J.match=x,J.pathToRegexp=S,J.stringify=X;const r="/",i=c=>c,f=/^[$_\p{ID_Start}]$/u,d=/^[$\u200c\u200d\p{ID_Continue}]$/u,l={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function e(c){return c.replace(/[{}()\[\]+?!:*\\]/g,"\\$&")}function t(c){return c.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class s{constructor(u,y){this.tokens=u,this.originalPath=y}}J.TokenData=s;class o extends TypeError{constructor(u,y){let C=u;y&&(C+=`: ${y}`),C+="; visit https://git.new/pathToRegexpError for info",super(C),this.originalPath=y}}J.PathError=o;function p(c,u={}){const{encodePath:y=i}=u,C=[...c],k=[];let h=0,A=0;function F(){let D="";if(f.test(C[h]))do D+=C[h++];while(d.test(C[h]));else if(C[h]==='"'){let j=h;for(;h++<C.length;){if(C[h]==='"'){h++,j=0;break}C[h]==="\\"&&h++,D+=C[h]}if(j)throw new o(`Unterminated quote at index ${j}`,c)}if(!D)throw new o(`Missing parameter name at index ${h}`,c);return D}for(;h<C.length;){const D=C[h],j=l[D];j?k.push({type:j,index:h++,value:D}):D==="\\"?k.push({type:"escape",index:h++,value:C[h++]}):D===":"?k.push({type:"param",index:h++,value:F()}):D==="*"?k.push({type:"wildcard",index:h++,value:F()}):k.push({type:"char",index:h++,value:D})}k.push({type:"end",index:h,value:""});function K(D){const j=[];for(;;){const W=k[A++];if(W.type===D)break;if(W.type==="char"||W.type==="escape"){let G=W.value,oe=k[A];for(;oe.type==="char"||oe.type==="escape";)G+=oe.value,oe=k[++A];j.push({type:"text",value:y(G)});continue}if(W.type==="param"||W.type==="wildcard"){j.push({type:W.type,name:W.value});continue}if(W.type==="{"){j.push({type:"group",tokens:K("}")});continue}throw new o(`Unexpected ${W.type} at index ${W.index}, expected ${D}`,c)}return j}return new s(K("end"),c)}function a(c,u={}){const{encode:y=encodeURIComponent,delimiter:C=r}=u,k=typeof c=="object"?c:p(c,u),h=v(k.tokens,C,y);return function(F={}){const[K,...D]=h(F);if(D.length)throw new TypeError(`Missing parameters: ${D.join(", ")}`);return K}}function v(c,u,y){const C=c.map(k=>b(k,u,y));return k=>{const h=[""];for(const A of C){const[F,...K]=A(k);h[0]+=F,h.push(...K)}return h}}function b(c,u,y){if(c.type==="text")return()=>[c.value];if(c.type==="group"){const k=v(c.tokens,u,y);return h=>{const[A,...F]=k(h);return F.length?[""]:[A]}}const C=y||i;return c.type==="wildcard"&&y!==!1?k=>{const h=k[c.name];if(h==null)return["",c.name];if(!Array.isArray(h)||h.length===0)throw new TypeError(`Expected "${c.name}" to be a non-empty array`);return[h.map((A,F)=>{if(typeof A!="string")throw new TypeError(`Expected "${c.name}/${F}" to be a string`);return C(A)}).join(u)]}:k=>{const h=k[c.name];if(h==null)return["",c.name];if(typeof h!="string")throw new TypeError(`Expected "${c.name}" to be a string`);return[C(h)]}}function x(c,u={}){const{decode:y=decodeURIComponent,delimiter:C=r}=u,{regexp:k,keys:h}=S(c,u),A=h.map(F=>y===!1?i:F.type==="param"?y:K=>K.split(C).map(y));return function(K){const D=k.exec(K);if(!D)return!1;const j=D[0],W=Object.create(null);for(let G=1;G<D.length;G++){if(D[G]===void 0)continue;const oe=h[G-1],ut=A[G-1];W[oe.name]=ut(D[G])}return{path:j,params:W}}}function S(c,u={}){const{delimiter:y=r,end:C=!0,sensitive:k=!1,trailing:h=!0}=u,A=[],F=k?"":"i",K=[];for(const W of w(c,[])){const G=typeof W=="object"?W:p(W,u);for(const oe of V(G.tokens,0,[]))K.push(B(oe,y,A,G.originalPath))}let D=`^(?:${K.join("|")})`;return h&&(D+=`(?:${t(y)}$)?`),D+=C?"$":`(?=${t(y)}|$)`,{regexp:new RegExp(D,F),keys:A}}function w(c,u){if(Array.isArray(c))for(const y of c)w(y,u);else u.push(c);return u}function*V(c,u,y){if(u===c.length)return yield y;const C=c[u];if(C.type==="group")for(const k of V(C.tokens,0,y.slice()))yield*V(c,u+1,k);else y.push(C);yield*V(c,u+1,y)}function B(c,u,y,C){let k="",h="",A=!0;for(const F of c){if(F.type==="text"){k+=t(F.value),h+=F.value,A||(A=F.value.includes(u));continue}if(F.type==="param"||F.type==="wildcard"){if(!A&&!h)throw new o(`Missing text before "${F.name}" ${F.type}`,C);F.type==="param"?k+=`(${L(u,A?"":h)}+)`:k+="([\\s\\S]+)",y.push(F),h="",A=!1;continue}}return k}function L(c,u){return u.length<2?c.length<2?`[^${t(c+u)}]`:`(?:(?!${t(c)})[^${t(u)}])`:c.length<2?`(?:(?!${t(u)})[^${t(c)}])`:`(?:(?!${t(u)}|${t(c)})[\\s\\S])`}function U(c){let u="",y=0;function C(k){return I(k)&&T(c[y])?k:JSON.stringify(k)}for(;y<c.length;){const k=c[y++];if(k.type==="text"){u+=e(k.value);continue}if(k.type==="group"){u+=`{${U(k.tokens)}}`;continue}if(k.type==="param"){u+=`:${C(k.name)}`;continue}if(k.type==="wildcard"){u+=`*${C(k.name)}`;continue}throw new TypeError(`Unknown token type: ${k.type}`)}return u}function X(c){return U(c.tokens)}function I(c){const[u,...y]=c;return f.test(u)&&y.every(C=>d.test(C))}function T(c){return c&&c.type==="text"?!d.test(c.value[0]):!0}return J}var yn=gn();const bn={key:0,class:"no-redirect"},wn=["onClick"],kn=N({__name:"index",setup(r){const i=Se(),f=Ce(),{listenerRouteChange:d}=xe(),l=H([]);function e(){l.value=i.matched.filter(o=>o.meta?.title&&o.meta?.breadcrumb!==!1)}function t(o){return yn.compile(o)(i.params)}function s(o){const{redirect:p,path:a}=o;if(p)return f.push(p);f.push(t(a))}return d(o=>{o.path.startsWith("/redirect/")||e()},!0),(o,p)=>{const a=Mt,v=Tt;return _(),$(v,null,{default:g(()=>[(_(!0),M(Z,null,se(n(l),(b,x)=>(_(),$(a,{key:b.path},{default:g(()=>[b.redirect==="noRedirect"||x===n(l).length-1?(_(),M("span",bn,q(b.meta.title),1)):(_(),M("a",{key:1,onClick:he(S=>s(b),["prevent"])},q(b.meta.title),9,wn))]),_:2},1024))),128))]),_:1})}}}),xn=z(kn,[["__scopeId","data-v-148b927d"]]),Sn={class:"layout-footer"},Cn=N({__name:"index",setup(r){const i="V3 Admin Vite";return(f,d)=>(_(),M("footer",Sn," MIT © 2021-PRESENT "+q(n(i)),1))}}),$n=z(Cn,[["__scopeId","data-v-b41fd828"]]),En=N({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(r,{emit:i}){const f=i;function d(){f("toggleClick")}return(l,e)=>{const t=pe;return _(),M("div",{onClick:d},[m(t,{size:20,class:"icon"},{default:g(()=>[r.isActive?(_(),$(n(Vt),{key:0})):(_(),$(n(Lt),{key:1}))]),_:1})])}}}),Tn=z(En,[["__scopeId","data-v-c2fd27a8"]]),Mn="/v3-admin-vite/assets/logo-text-1-B14nbmAK.png",Vn="/v3-admin-vite/assets/logo-text-2-y4GmJqxb.png",Ln="/v3-admin-vite/assets/logo-C6EcH0uP.png",In=["src"],An=["src"],Rn=N({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(r){const{isLeft:i,isTop:f}=re();return(d,l)=>{const e=Q("router-link");return _(),M("div",{class:Y(["layout-logo-container",{collapse:r.collapse,"layout-mode-top":n(f)}])},[m(Je,{name:"layout-logo-fade"},{default:g(()=>[r.collapse?(_(),$(e,{key:"collapse",to:"/"},{default:g(()=>[E("img",{src:n(Ln),class:"layout-logo"},null,8,In)]),_:1})):(_(),$(e,{key:"expand",to:"/"},{default:g(()=>[E("img",{src:n(i)?n(Mn):n(Vn),class:"layout-logo-text"},null,8,An)]),_:1}))]),_:1})],2)}}}),Re=z(Rn,[["__scopeId","data-v-959f2fc6"]]),Dn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Pn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Fn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Bn={class:"card-header"},Nn={class:"card-title"},zn={class:"card-time"},Wn={key:0,class:"card-avatar"},On=["src"],qn={class:"card-body"},Un=N({__name:"List",props:{data:{}},setup(r){const i=r;return(f,d)=>{const l=nt,e=It,t=At;return i.data.length===0?(_(),$(l,{key:0})):(_(!0),M(Z,{key:1},se(i.data,(s,o)=>(_(),$(t,{key:o,shadow:"never",class:"card-container"},{header:g(()=>[E("div",Bn,[E("div",null,[E("span",null,[E("span",Nn,q(s.title),1),s.extra?(_(),$(e,{key:0,type:s.status,effect:"plain",size:"small"},{default:g(()=>[ee(q(s.extra),1)]),_:2},1032,["type"])):P("",!0)]),E("div",zn,q(s.datetime),1)]),s.avatar?(_(),M("div",Wn,[E("img",{src:s.avatar,width:"34"},null,8,On)])):P("",!0)])]),default:g(()=>[E("div",qn,q(s.description??"No Data"),1)]),_:2},1024))),128))}}}),Hn=z(Un,[["__scopeId","data-v-ef66ab12"]]),jn={class:"notify"},Xn={class:"notify-history"},We=99,Kn=350,Gn=N({__name:"index",setup(r){const i=R(()=>d.value.reduce((e,t)=>e+t.list.length,0)),f=H("通知"),d=H([{name:"通知",type:"primary",list:Dn},{name:"消息",type:"danger",list:Pn},{name:"待办",type:"warning",list:Fn}]);function l(){ke.success(`跳转到${f.value}历史页面`)}return(e,t)=>{const s=pe,o=me,p=Pt,a=Te,v=Bt,b=Dt,x=ot,S=Rt;return _(),M("div",jn,[m(S,{placement:"bottom",width:Kn,trigger:"click"},{reference:g(()=>[m(p,{value:n(i),max:We,hidden:n(i)===0},{default:g(()=>[m(o,{effect:"dark",content:"消息通知",placement:"bottom"},{default:g(()=>[m(s,{size:20},{default:g(()=>[m(n(Ft))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:g(()=>[m(b,{modelValue:n(f),"onUpdate:modelValue":t[0]||(t[0]=w=>fe(f)?f.value=w:null),class:"demo-tabs",stretch:""},{default:g(()=>[(_(!0),M(Z,null,se(n(d),(w,V)=>(_(),$(v,{key:V,name:w.name},{label:g(()=>[ee(q(w.name)+" ",1),m(p,{value:w.list.length,max:We,type:w.type},null,8,["value","type"])]),default:g(()=>[m(a,{height:"400px"},{default:g(()=>[m(Hn,{data:w.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),E("div",Xn,[m(x,{link:"",onClick:l},{default:g(()=>[ee(" 查看"+q(n(f))+"历史 ",1)]),_:1})])]),_:1})])}}}),Jn=z(Gn,[["__scopeId","data-v-ab2bcb22"]]),Oe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ne=(()=>{if(typeof document>"u")return!1;const r=Oe[0],i={};for(const f of Oe)if(f?.[1]in document){for(const[l,e]of f.entries())i[r[l]]=e;return i}return!1})(),qe={change:ne.fullscreenchange,error:ne.fullscreenerror};let O={request(r=document.documentElement,i){return new Promise((f,d)=>{const l=()=>{O.off("change",l),f()};O.on("change",l);const e=r[ne.requestFullscreen](i);e instanceof Promise&&e.then(l).catch(d)})},exit(){return new Promise((r,i)=>{if(!O.isFullscreen){r();return}const f=()=>{O.off("change",f),r()};O.on("change",f);const d=document[ne.exitFullscreen]();d instanceof Promise&&d.then(f).catch(i)})},toggle(r,i){return O.isFullscreen?O.exit():O.request(r,i)},onchange(r){O.on("change",r)},onerror(r){O.on("error",r)},on(r,i){const f=qe[r];f&&document.addEventListener(f,i,!1)},off(r,i){const f=qe[r];f&&document.removeEventListener(f,i,!1)},raw:ne};Object.defineProperties(O,{isFullscreen:{get:()=>!!document[ne.fullscreenElement]},element:{enumerable:!0,get:()=>document[ne.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[ne.fullscreenEnabled]}});ne||(O={isEnabled:!1});const Ue="content-large",He="content-full",Yn=N({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(r){const i=document.body.classList,f=O.isEnabled,d=H(!1),l=R(()=>d.value?r.exitTips:r.openTips),e=R(()=>d.value?"fullscreen-exit":"fullscreen");function t(){const x=document.querySelector(r.element)||void 0;f?O.toggle(x):ke.warning("您的浏览器无法工作")}function s(){d.value=O.isFullscreen,d.value||i.remove(Ue,He)}be(()=>{f&&(O.on("change",s),gt(()=>{O.off("change",s)}))});const o=H(!1),p=R(()=>o.value?"内容区复原":"内容区放大"),a=R(()=>o.value?"fullscreen-exit":"fullscreen");function v(){o.value=!o.value,i.toggle(Ue,o.value)}function b(){o.value&&v(),i.add(He),t()}return(x,S)=>{const w=Q("SvgIcon"),V=me,B=rt,L=at,U=st;return _(),M("div",null,[r.content?(_(),$(U,{key:1,disabled:n(d)},{dropdown:g(()=>[m(L,null,{default:g(()=>[m(B,{onClick:v},{default:g(()=>[ee(q(n(p)),1)]),_:1}),m(B,{onClick:b},{default:g(()=>[...S[0]||(S[0]=[ee(" 内容区全屏 ",-1)])]),_:1})]),_:1})]),default:g(()=>[m(w,{name:n(a),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(_(),$(V,{key:0,effect:"dark",content:n(l),placement:"bottom"},{default:g(()=>[m(w,{name:n(e),onClick:t,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),it=z(Yn,[["__scopeId","data-v-da6f28cf"]]),Zn={class:"search-footer"},Qn={class:"search-footer-item"},eo={class:"search-footer-item"},to={class:"search-footer-item"},no={class:"search-footer-total"},oo=N({__name:"Footer",props:{total:{}},setup(r){const i=r,{isMobile:f}=de();return(d,l)=>{const e=Q("SvgIcon");return _(),M("div",Zn,[n(f)?P("",!0):(_(),M(Z,{key:0},[E("span",Qn,[m(e,{name:"keyboard-enter",class:"svg-icon"}),l[0]||(l[0]=E("span",null,"确认",-1))]),E("span",eo,[m(e,{name:"keyboard-up",class:"svg-icon"}),m(e,{name:"keyboard-down",class:"svg-icon"}),l[1]||(l[1]=E("span",null,"切换",-1))]),E("span",to,[m(e,{name:"keyboard-esc",class:"svg-icon"}),l[2]||(l[2]=E("span",null,"关闭",-1))])],64)),E("span",no,"共 "+q(i.total)+" 项",1)])}}}),so=z(oo,[["__scopeId","data-v-03526223"]]),ao=["onMouseenter"],ro={class:"result-item-title"},lo=N({__name:"Result",props:yt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r,{expose:i}){const f=r,d=Ye(r,"modelValue"),l=bt(),e=H(0);function t(a){const v=a.name===d.value;return{background:v?"var(--el-color-primary)":"",color:v?"#ffffff":""}}function s(a){f.isPressUpOrDown||(d.value=a.name)}function o(){e.value=Number((window.innerHeight*.4).toFixed(1))}function p(a){const v=l?.proxy?.$refs[`resultItemRef${a}`];if(!v)return 0;const x=v[0].offsetTop+128;return x>e.value?x-e.value:0}return Ze(()=>{window.addEventListener("resize",o)}),Qe(()=>{o()}),et(()=>{window.removeEventListener("resize",o)}),i({getScrollTop:p}),(a,v)=>{const b=Q("SvgIcon");return _(),M("div",null,[(_(!0),M(Z,null,se(f.data,(x,S)=>(_(),M("div",{key:S,ref_for:!0,ref:`resultItemRef${S}`,class:"result-item",style:tt(t(x)),onMouseenter:w=>s(x)},[x.meta?.svgIcon?(_(),$(b,{key:0,name:x.meta.svgIcon,class:"svg-icon"},null,8,["name"])):x.meta?.elIcon?(_(),$(ye(x.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),E("span",ro,q(x.meta?.title),1),d.value&&d.value===x.name?(_(),$(b,{key:2,name:"keyboard-enter",class:"svg-icon"})):P("",!0)],44,ao))),128))])}}}),io=z(lo,[["__scopeId","data-v-b54aa557"]]),co=N({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const i=Ye(r,"modelValue"),f=Ce(),{isMobile:d}=de(),l=ie("inputRef"),e=ie("scrollbarRef"),t=ie("resultRef"),s=H(""),o=wt([]),p=H(void 0),a=H(!1),v=R(()=>d.value?"80vw":"40vw"),b=R(()=>Ot(Ie().routes)),x=Nt(()=>{const I=S(b.value),T=s.value.toLocaleLowerCase().trim();o.value=I.filter(u=>s.value?u.meta?.title?.toLocaleLowerCase().includes(T):!1);const c=o.value?.length;p.value=c>0?o.value[0].name:void 0},500);function S(I,T=[]){return I.forEach(c=>{T.push(c),c.children&&S(c.children,T)}),T}function w(){i.value=!1,setTimeout(()=>{s.value="",o.value=[]},200)}function V(I){if(!t.value)return;const T=t.value.getScrollTop(I);e.value?.setScrollTop(T)}function B(){a.value=!0;const{length:I}=o.value;if(I===0)return;const T=o.value.findIndex(c=>c.name===p.value);if(T===0){const c=o.value[I-1].name;p.value===c&&I>1?(p.value=o.value[I-2].name,V(I-2)):(p.value=c,V(I-1))}else p.value=o.value[T-1].name,V(T-1)}function L(){a.value=!0;const{length:I}=o.value;if(I===0)return;const T=o.value.map(c=>c.name).lastIndexOf(p.value);if(T===I-1){const c=o.value[0].name;p.value===c&&I>1?(p.value=o.value[1].name,V(1)):(p.value=c,V(0))}else p.value=o.value[T+1].name,V(T+1)}function U(){const{length:I}=o.value;if(I===0)return;const T=p.value,c=o.value.find(u=>u.name===T)?.path;if(c&&ge(c))return window.open(c,"_blank","noopener, noreferrer");if(!T)return ke.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{f.push({name:T})}catch{return ke.warning("该菜单有必填的动态参数，无法通过搜索进入")}w()}function X(){a.value=!1}return(I,T)=>{const c=Q("SvgIcon"),u=Wt,y=nt,C=Te,k=zt;return _(),$(k,{modelValue:i.value,"onUpdate:modelValue":T[2]||(T[2]=h=>i.value=h),"before-close":w,width:n(v),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:T[3]||(T[3]=h=>n(l)?.focus()),onClosed:T[4]||(T[4]=h=>n(l)?.blur()),onKeydown:[_e(B,["up"]),_e(L,["down"]),_e(U,["enter"])],onKeyup:_e(X,["up","down"])},{footer:g(()=>[m(so,{total:n(o).length},null,8,["total"])]),default:g(()=>[m(u,{ref_key:"inputRef",ref:l,modelValue:n(s),"onUpdate:modelValue":T[0]||(T[0]=h=>fe(s)?s.value=h:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(x)},{prefix:g(()=>[m(c,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(o).length===0?(_(),$(y,{key:0,description:"暂无搜索结果","image-size":100})):(_(),M(Z,{key:1},[T[5]||(T[5]=E("p",null,"搜索结果",-1)),m(C,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:g(()=>[m(io,{ref_key:"resultRef",ref:t,modelValue:n(p),"onUpdate:modelValue":T[1]||(T[1]=h=>fe(p)?p.value=h:null),data:n(o),"is-press-up-or-down":n(a),onClick:U},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),uo=N({__name:"index",setup(r){const i=H(!1);function f(){i.value=!0}return(d,l)=>{const e=Q("SvgIcon"),t=me;return _(),M("div",null,[m(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:g(()=>[m(e,{name:"search",onClick:f,class:"svg-icon"})]),_:1}),m(co,{modelValue:n(i),"onUpdate:modelValue":l[0]||(l[0]=s=>fe(i)?i.value=s:null)},null,8,["modelValue"])])}}}),fo=z(uo,[["__scopeId","data-v-3f918a22"]]),po={class:"navigation-bar"},mo={class:"right-menu"},_o={class:"right-menu-item user"},vo={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},ho={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},go=N({__name:"index",setup(r){const{isMobile:i}=de(),{isTop:f}=re(),d=Ce(),l=ue(),e=pt(),t=te(),{showNotify:s,showThemeSwitch:o,showScreenfull:p,showSearchMenu:a}=ce(t);function v(){l.toggleSidebar(!1)}function b(){e.logout(),d.push("/login")}return(x,S)=>{const w=qt,V=rt,B=at,L=st;return _(),M("div",po,[!n(f)||n(i)?(_(),$(n(Tn),{key:0,"is-active":n(l).sidebar.opened,class:"hamburger",onToggleClick:v},null,8,["is-active"])):P("",!0),!n(f)||n(i)?(_(),$(n(xn),{key:1,class:"breadcrumb"})):P("",!0),n(f)&&!n(i)?(_(),$(n(Pe),{key:2,class:"sidebar"})):P("",!0),E("div",mo,[n(a)?(_(),$(fo,{key:0,class:"right-menu-item"})):P("",!0),n(p)?(_(),$(it,{key:1,class:"right-menu-item"})):P("",!0),n(o)?(_(),$($t,{key:2,class:"right-menu-item"})):P("",!0),n(s)?(_(),$(Jn,{key:3,class:"right-menu-item"})):P("",!0),m(L,null,{dropdown:g(()=>[m(B,null,{default:g(()=>[E("a",vo,[m(V,null,{default:g(()=>[...S[0]||(S[0]=[ee("GitHub",-1)])]),_:1})]),E("a",ho,[m(V,null,{default:g(()=>[...S[1]||(S[1]=[ee("Gitee",-1)])]),_:1})]),m(V,{divided:"",onClick:b},{default:g(()=>[...S[2]||(S[2]=[ee(" 退出登录 ",-1)])]),_:1})]),_:1})]),default:g(()=>[E("div",_o,[m(w,{icon:n(Ut),size:30},null,8,["icon"]),E("span",null,q(n(e).username),1)])]),_:1})])])}}}),De=z(go,[["__scopeId","data-v-81a502ee"]]),yo=N({__name:"index",setup(r){const i=H(!1);return(f,d)=>{const l=pe,e=Ht;return _(),M(Z,null,[E("div",{class:"handle-button",onClick:d[0]||(d[0]=t=>i.value=!0)},[m(l,{size:24},{default:g(()=>[m(n(jt))]),_:1})]),m(e,{modelValue:n(i),"onUpdate:modelValue":d[1]||(d[1]=t=>fe(i)?i.value=t:null),size:"300px","with-header":!1},{default:g(()=>[we(f.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),bo=z(yo,[["__scopeId","data-v-75b901b7"]]),wo={class:"select-layout-mode"},ko=N({__name:"SelectLayoutMode",setup(r){const{isLeft:i,isTop:f,isLeftTop:d,setLayoutMode:l}=re();return(e,t)=>{const s=Kt,o=Gt,p=Jt,a=Xt,v=me;return _(),M("div",wo,[m(v,{content:"左侧模式"},{default:g(()=>[m(a,{class:Y(["layout-mode left",{active:n(i)}]),onClick:t[0]||(t[0]=b=>n(l)(n(le).Left))},{default:g(()=>[m(s),m(a,null,{default:g(()=>[m(o),m(p)]),_:1})]),_:1},8,["class"])]),_:1}),m(v,{content:"顶部模式"},{default:g(()=>[m(a,{class:Y(["layout-mode top",{active:n(f)}]),onClick:t[1]||(t[1]=b=>n(l)(n(le).Top))},{default:g(()=>[m(o),m(p)]),_:1},8,["class"])]),_:1}),m(v,{content:"混合模式"},{default:g(()=>[m(a,{class:Y(["layout-mode left-top",{active:n(d)}]),onClick:t[2]||(t[2]=b=>n(l)(n(le).LeftTop))},{default:g(()=>[m(o),m(a,null,{default:g(()=>[m(s),m(p)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),xo=z(ko,[["__scopeId","data-v-97e756dd"]]),So={class:"setting-container"},Co={class:"setting-name"},$o=N({__name:"index",setup(r){const{isLeft:i}=re(),f=te(),{showTagsView:d,showLogo:l,fixedHeader:e,showFooter:t,showNotify:s,showThemeSwitch:o,showScreenfull:p,showSearchMenu:a,cacheTagsView:v,showWatermark:b,showGreyMode:x,showColorWeakness:S}=ce(f),w={显示标签栏:d,"显示 Logo":l,"固定 Header":e,显示页脚:t,显示消息通知:s,显示切换主题按钮:o,显示全屏按钮:p,显示搜索按钮:a,是否缓存标签栏:v,开启系统水印:b,显示灰色模式:x,显示色弱模式:S};be(()=>{!i.value&&(e.value=!0)});function V(){mt(),location.reload()}return(B,L)=>{const U=Yt,X=Qt,I=ot;return _(),M("div",So,[L[1]||(L[1]=E("h4",null,"布局配置",-1)),m(xo),m(U),L[2]||(L[2]=E("h4",null,"功能配置",-1)),(_(),M(Z,null,se(w,(T,c,u)=>E("div",{key:u,class:"setting-item"},[E("span",Co,q(c),1),m(X,{modelValue:T.value,"onUpdate:modelValue":y=>T.value=y,disabled:!n(i)&&c==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),m(I,{type:"danger",icon:n(Zt),onClick:V},{default:g(()=>[...L[0]||(L[0]=[ee(" 重 置 ",-1)])]),_:1},8,["icon"])])}}}),Eo=z($o,[["__scopeId","data-v-e39360f6"]]);var Ve,je;function To(){if(je)return Ve;je=1;function r(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function i(l,e){for(var t="",s=0,o=-1,p=0,a,v=0;v<=l.length;++v){if(v<l.length)a=l.charCodeAt(v);else{if(a===47)break;a=47}if(a===47){if(!(o===v-1||p===1))if(o!==v-1&&p===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var b=t.lastIndexOf("/");if(b!==t.length-1){b===-1?(t="",s=0):(t=t.slice(0,b),s=t.length-1-t.lastIndexOf("/")),o=v,p=0;continue}}else if(t.length===2||t.length===1){t="",s=0,o=v,p=0;continue}}e&&(t.length>0?t+="/..":t="..",s=2)}else t.length>0?t+="/"+l.slice(o+1,v):t=l.slice(o+1,v),s=v-o-1;o=v,p=0}else a===46&&p!==-1?++p:p=-1}return t}function f(l,e){var t=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+s:t+l+s:s}var d={resolve:function(){for(var e="",t=!1,s,o=arguments.length-1;o>=-1&&!t;o--){var p;o>=0?p=arguments[o]:(s===void 0&&(s=process.cwd()),p=s),r(p),p.length!==0&&(e=p+"/"+e,t=p.charCodeAt(0)===47)}return e=i(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(r(e),e.length===0)return".";var t=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=i(e,!t),e.length===0&&!t&&(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var s=arguments[t];r(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":d.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t||(e=d.resolve(e),t=d.resolve(t),e===t))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var o=e.length,p=o-s,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var v=t.length,b=v-a,x=p<b?p:b,S=-1,w=0;w<=x;++w){if(w===x){if(b>x){if(t.charCodeAt(a+w)===47)return t.slice(a+w+1);if(w===0)return t.slice(a+w)}else p>x&&(e.charCodeAt(s+w)===47?S=w:w===0&&(S=0));break}var V=e.charCodeAt(s+w),B=t.charCodeAt(a+w);if(V!==B)break;V===47&&(S=w)}var L="";for(w=s+S+1;w<=o;++w)(w===o||e.charCodeAt(w)===47)&&(L.length===0?L+="..":L+="/..");return L.length>0?L+t.slice(a+S):(a+=S,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(r(e),e.length===0)return".";for(var t=e.charCodeAt(0),s=t===47,o=-1,p=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!p){o=a;break}}else p=!1;return o===-1?s?"/":".":s&&o===1?"//":e.slice(0,o)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');r(e);var s=0,o=-1,p=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var v=t.length-1,b=-1;for(a=e.length-1;a>=0;--a){var x=e.charCodeAt(a);if(x===47){if(!p){s=a+1;break}}else b===-1&&(p=!1,b=a+1),v>=0&&(x===t.charCodeAt(v)?--v===-1&&(o=a):(v=-1,o=b))}return s===o?o=b:o===-1&&(o=e.length),e.slice(s,o)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!p){s=a+1;break}}else o===-1&&(p=!1,o=a+1);return o===-1?"":e.slice(s,o)}},extname:function(e){r(e);for(var t=-1,s=0,o=-1,p=!0,a=0,v=e.length-1;v>=0;--v){var b=e.charCodeAt(v);if(b===47){if(!p){s=v+1;break}continue}o===-1&&(p=!1,o=v+1),b===46?t===-1?t=v:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||o===-1||a===0||a===1&&t===o-1&&t===s+1?"":e.slice(t,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return f("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var s=e.charCodeAt(0),o=s===47,p;o?(t.root="/",p=1):p=0;for(var a=-1,v=0,b=-1,x=!0,S=e.length-1,w=0;S>=p;--S){if(s=e.charCodeAt(S),s===47){if(!x){v=S+1;break}continue}b===-1&&(x=!1,b=S+1),s===46?a===-1?a=S:w!==1&&(w=1):a!==-1&&(w=-1)}return a===-1||b===-1||w===0||w===1&&a===b-1&&a===v+1?b!==-1&&(v===0&&o?t.base=t.name=e.slice(1,b):t.base=t.name=e.slice(v,b)):(v===0&&o?(t.name=e.slice(1,a),t.base=e.slice(1,b)):(t.name=e.slice(v,a),t.base=e.slice(v,b)),t.ext=e.slice(a,b)),v>0?t.dir=e.slice(0,v-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Ve=d,Ve}var Mo=To();const ct=en(Mo),Vo=["href"],Lo=N({__name:"Link",props:{to:{}},setup(r){const i=r;return(f,d)=>{const l=Q("router-link");return n(ge)(i.to)?(_(),M("a",{key:0,href:i.to,target:"_blank",rel:"noopener"},[we(f.$slots,"default")],8,Vo)):(_(),$(l,{key:1,to:i.to},{default:g(()=>[we(f.$slots,"default")]),_:3},8,["to"]))}}}),Io={class:"title"},Ao={key:2,class:"title"},Ro=N({__name:"Item",props:{item:{},basePath:{default:""}},setup(r){const i=R(()=>r.item.meta?.alwaysShow),f=R(()=>r.item.children?.filter(t=>!t.meta?.hidden)??[]),d=R(()=>f.value.length),l=R(()=>{const t=d.value;switch(!0){case t>1:return null;case t===1:return f.value[0];default:return{...r.item,path:""}}});function e(t){switch(!0){case ge(t):return t;case ge(r.basePath):return r.basePath;default:return ct.resolve(r.basePath,t)}}return(t,s)=>{const o=Q("SvgIcon"),p=tn,a=Q("Item",!0),v=nn;return!n(i)&&n(l)&&!n(l).children?(_(),M(Z,{key:0},[n(l).meta?(_(),$(Lo,{key:0,to:e(n(l).path)},{default:g(()=>[m(p,{index:e(n(l).path)},kt({default:g(()=>[n(l).meta.svgIcon?(_(),$(o,{key:0,name:n(l).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(l).meta.elIcon?(_(),$(ye(n(l).meta.elIcon),{key:1,class:"el-icon"})):P("",!0)]),_:2},[n(l).meta.title?{name:"title",fn:g(()=>[E("span",Io,q(n(l).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):P("",!0)],64)):(_(),$(v,{key:1,index:e(r.item.path),teleported:""},{title:g(()=>[r.item.meta?.svgIcon?(_(),$(o,{key:0,name:r.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):r.item.meta?.elIcon?(_(),$(ye(r.item.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),r.item.meta?.title?(_(),M("span",Ao,q(r.item.meta.title),1)):P("",!0)]),default:g(()=>[r.item.children?(_(!0),M(Z,{key:0},se(n(f),b=>(_(),$(a,{key:b.path,item:b,"base-path":e(b.path)},null,8,["item","base-path"]))),128)):P("",!0)]),_:1},8,["index"]))}}}),Do=z(Ro,[["__scopeId","data-v-a636be4d"]]),Po=N({__name:"index",setup(r){xt(I=>({v5a9e1306:n(X),v6858d36f:n(L),v261afd57:n(U),v02f6d96a:n(B)}));const i=ve("--v3-sidebar-menu-bg-color"),f=ve("--v3-sidebar-menu-text-color"),d=ve("--v3-sidebar-menu-active-text-color"),{isMobile:l}=de(),{isLeft:e,isTop:t}=re(),s=Se(),o=ue(),p=Ie(),a=te(),v=R(()=>s.meta.activeMenu||s.path),b=R(()=>p.routes.filter(I=>!I.meta?.hidden)),x=R(()=>!o.sidebar.opened),S=R(()=>e.value&&a.showLogo),w=R(()=>e.value?i:void 0),V=R(()=>e.value?f:void 0),B=R(()=>e.value?d:void 0),L=R(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),U=R(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),X=R(()=>t.value?"0px":"2px");return(I,T)=>{const c=on,u=Te;return _(),M("div",{class:Y({"has-logo":n(S)})},[n(S)?(_(),$(n(Re),{key:0,collapse:n(x)},null,8,["collapse"])):P("",!0),m(u,{"wrap-class":"scrollbar-wrapper"},{default:g(()=>[m(c,{"default-active":n(v),collapse:n(x)&&!n(t),"background-color":n(w),"text-color":n(V),"active-text-color":n(B),"collapse-transition":!1,mode:n(t)&&!n(l)?"horizontal":"vertical"},{default:g(()=>[(_(!0),M(Z,null,se(n(b),y=>(_(),$(Do,{key:y.path,item:y,"base-path":y.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Pe=z(Po,[["__scopeId","data-v-ad9fbc87"]]),Fo={class:"scroll-container"},Bo=200,No=N({__name:"ScrollPane",props:{tagRefs:{}},setup(r){const i=r,f=Se(),d=te(),{listenerRouteChange:l}=xe(),e=ie("scrollbarRef"),t=ie("scrollbarContentRef");let s=0;function o({scrollLeft:x}){s=x}function p({deltaY:x}){x.toString().startsWith("-")?v("left"):v("right")}function a(){const x=t.value.clientWidth,S=e.value.wrapRef.clientWidth,w=x-S-s;return{scrollbarContentRefWidth:x,scrollbarRefWidth:S,lastDistance:w}}function v(x,S=Bo){let w=0;const{scrollbarContentRefWidth:V,scrollbarRefWidth:B,lastDistance:L}=a();B>V||(x==="left"?w=Math.max(0,s-S):w=Math.min(s+S,s+L),e.value.setScrollLeft(w))}function b(){const x=i.tagRefs;for(let S=0;S<x.length;S++)if(f.path===x[S].$props.to.path){const w=x[S].$el,V=w.offsetWidth,B=w.offsetLeft,{scrollbarRefWidth:L}=a();if(B<s){const X=s-B;v("left",X);return}const U=L+s-V;if(B>U){const X=B-U;v("right",X);return}}}return l(()=>{St(b)}),(x,S)=>{const w=pe,V=me,B=Te;return _(),M("div",Fo,[m(V,{content:"向左滚动标签（超出最大宽度可点击）"},{default:g(()=>[m(w,{class:"arrow left",onClick:S[0]||(S[0]=L=>v("left"))},{default:g(()=>[m(n(sn))]),_:1})]),_:1}),m(B,{ref_key:"scrollbarRef",ref:e,onWheelPassive:p,onScroll:o},{default:g(()=>[E("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[we(x.$slots,"default",{},void 0,!0)],512)]),_:3},512),m(V,{content:"向右滚动标签（超出最大宽度可点击）"},{default:g(()=>[m(w,{class:"arrow right",onClick:S[1]||(S[1]=L=>v("right"))},{default:g(()=>[m(n(an))]),_:1})]),_:1}),n(d).showScreenfull?(_(),$(it,{key:0,content:!0,class:"screenfull"})):P("",!0)])}}}),zo=z(No,[["__scopeId","data-v-d8cf98d6"]]),Wo={class:"tags-view-container"},Oo=N({__name:"index",setup(r){const i=Ce(),f=Se(),d=Ke(),l=Ie(),{listenerRouteChange:e}=xe(),t=ie("tagRefs"),s=H(!1),o=H(0),p=H(0),a=H({});let v=[];function b(u){return u.path===f.path}function x(u){return u.meta?.affix}function S(u,y="/"){const C=[];return u.forEach(k=>{if(x(k)){const h=ct.resolve(y,k.path);C.push({fullPath:h,path:h,name:k.name,meta:{...k.meta}})}if(k.children){const h=S(k.children,k.path);C.push(...h)}}),C}function w(){v=S(l.routes);for(const u of v)u.name&&d.addVisitedView(u)}function V(u){u.name&&(d.addVisitedView(u),d.addCachedView(u))}function B(u){d.delCachedView(u),i.replace({path:`/redirect${u.path}`,query:u.query})}function L(u){d.delVisitedView(u),d.delCachedView(u),b(u)&&I(d.visitedViews,u)}function U(){const u=a.value.fullPath;u!==f.path&&u!==void 0&&i.push(u),d.delOthersVisitedViews(a.value),d.delOthersCachedViews(a.value)}function X(u){d.delAllVisitedViews(),d.delAllCachedViews(),!v.some(y=>y.path===f.path)&&I(d.visitedViews,u)}function I(u,y){const k=u.slice(-1)[0]?.fullPath;k!==void 0?i.push(k):y.name==="Dashboard"?i.push({path:`/redirect${y.path}`,query:y.query}):i.push("/")}function T(u,y){const h=document.body.offsetWidth-100,A=y.clientX+10;p.value=A>h?h:A,o.value=y.clientY,s.value=!0,a.value=u}function c(){s.value=!1}return Ge(s,u=>{u?document.body.addEventListener("click",c):document.body.removeEventListener("click",c)}),w(),e(u=>{V(u)},!0),(u,y)=>{const C=pe,k=Q("router-link");return _(),M("div",Wo,[m(zo,{class:"tags-view-wrapper","tag-refs":n(t)},{default:g(()=>[(_(!0),M(Z,null,se(n(d).visitedViews,h=>(_(),$(k,{key:h.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:Y([{active:b(h)},"tags-view-item"]),to:{path:h.path,query:h.query},onMouseup:he(A=>!x(h)&&L(h),["middle"]),onContextmenu:he(A=>T(h,A),["prevent"])},{default:g(()=>[ee(q(h.meta?.title)+" ",1),x(h)?P("",!0):(_(),$(C,{key:0,size:12,onClick:he(A=>L(h),["prevent","stop"])},{default:g(()=>[m(n(rn))]),_:1},8,["onClick"]))]),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),$e(E("ul",{class:"contextmenu",style:tt({left:`${n(p)}px`,top:`${n(o)}px`})},[E("li",{onClick:y[0]||(y[0]=h=>B(n(a)))}," 刷新 "),x(n(a))?P("",!0):(_(),M("li",{key:0,onClick:y[1]||(y[1]=h=>L(n(a)))}," 关闭 ")),E("li",{onClick:U}," 关闭其它 "),E("li",{onClick:y[2]||(y[2]=h=>X(n(a)))}," 关闭所有 ")],4),[[Ee,n(s)]])])}}}),Fe=z(Oo,[["__scopeId","data-v-3e72bcc4"]]),qo=992;function Uo(){const r=ue(),{listenerRouteChange:i}=xe(),f=()=>document.body.getBoundingClientRect().width-1<qo,d=()=>{if(!document.hidden){const l=f();r.toggleDevice(l?ae.Mobile:ae.Desktop),l&&r.closeSidebar(!0)}};i(()=>{r.device===ae.Mobile&&r.sidebar.opened&&r.closeSidebar(!1)}),Ze(()=>{window.addEventListener("resize",d)}),Qe(()=>{f()&&(r.toggleDevice(ae.Mobile),r.closeSidebar(!0))}),et(()=>{window.removeEventListener("resize",d)})}const Ho=N({__name:"LeftMode",setup(r){const{isMobile:i}=de(),{isLeft:f}=re(),d=ue(),l=te(),{showTagsView:e,fixedHeader:t}=ce(l),s=R(()=>({hideSidebar:!d.sidebar.opened,openSidebar:d.sidebar.opened,withoutAnimation:d.sidebar.withoutAnimation,mobile:i.value,noLeft:!f.value}));function o(){d.closeSidebar(!1)}return(p,a)=>(_(),M("div",{class:Y([n(s),"app-wrapper"])},[n(s).mobile&&n(s).openSidebar?(_(),M("div",{key:0,class:"drawer-bg",onClick:o})):P("",!0),m(n(Pe),{class:"sidebar-container"}),E("div",{class:Y([{hasTagsView:n(e)},"main-container"])},[E("div",{class:Y([{"fixed-header":n(t)},"layout-header"])},[m(n(De)),$e(m(n(Fe),null,null,512),[[Ee,n(e)]])],2),m(n(Ae),{class:"app-main"})],2)],2))}}),jo=z(Ho,[["__scopeId","data-v-81a2a155"]]),Xo={class:"fixed-header layout-header"},Ko={class:"content"},Go=N({__name:"LeftTopMode",setup(r){const i=ue(),f=te(),{showTagsView:d,showLogo:l}=ce(f),e=R(()=>({hideSidebar:!i.sidebar.opened}));return(t,s)=>(_(),M("div",{class:Y([n(e),"app-wrapper"])},[E("div",Xo,[n(l)?(_(),$(n(Re),{key:0,collapse:!1,class:"logo"})):P("",!0),E("div",Ko,[m(n(De)),$e(m(n(Fe),null,null,512),[[Ee,n(d)]])])]),E("div",{class:Y([{hasTagsView:n(d)},"main-container"])},[m(n(Pe),{class:"sidebar-container"}),m(n(Ae),{class:"app-main"})],2)],2))}}),Jo=z(Go,[["__scopeId","data-v-704cfdeb"]]),Yo={class:"app-wrapper"},Zo={class:"fixed-header layout-header"},Qo={class:"content"},es=N({__name:"TopMode",setup(r){const i=te(),{showTagsView:f,showLogo:d}=ce(i);return(l,e)=>(_(),M("div",Yo,[E("div",Zo,[E("div",Qo,[n(d)?(_(),$(n(Re),{key:0,collapse:!1,class:"logo"})):P("",!0),m(n(De),{class:"navigation-bar"})]),$e(m(n(Fe),null,null,512),[[Ee,n(f)]])]),E("div",{class:Y([{hasTagsView:n(f)},"main-container"])},[m(n(Ae),{class:"app-main"})],2)]))}}),ts=z(es,[["__scopeId","data-v-0938d696"]]),Le="--v3-tagsview-height",ys=N({__name:"index",setup(r){Uo();const{setWatermark:i,clearWatermark:f}=Ct(),{isMobile:d}=de(),{isLeft:l,isTop:e,isLeftTop:t}=re(),s=te(),{showSettings:o,showTagsView:p,showWatermark:a}=ce(s),v=ve(Le);return be(()=>{p.value?Ne(Le,v):Ne(Le,"0px")}),be(()=>{a.value?i("V3 Admin Vite"):f()}),(b,x)=>(_(),M("div",null,[n(l)||n(d)?(_(),$(jo,{key:0})):n(e)?(_(),$(ts,{key:1})):n(t)?(_(),$(Jo,{key:2})):P("",!0),n(o)?(_(),$(n(bo),{key:3},{default:g(()=>[m(n(Eo))]),_:1})):P("",!0)]))}});export{ys as default};
