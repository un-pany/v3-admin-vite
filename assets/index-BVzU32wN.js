import{g as ft,S as Ke,D as se,s as Ne,a as pt,u as Z,L as le,b as Ge,c as Se,d as Ae,i as ge,e as mt,r as _t,f as ve,h as ze}from"./index-DQCMVnha.js";import{av as vt,V as ht,r as U,w as Je,c as P,t as B,v as L,A as E,M as _,D as $,H as F,ac as G,E as b,T as Ye,ax as gt,u as n,I as ye,x as v,L as K,ai as ee,ay as Ce,az as xe,K as W,R as he,G as X,J as Y,h as fe,e as be,aA as yt,aB as bt,aC as Ze,a1 as Qe,f as et,U as tt,g as wt,S as nt,aD as ie,s as kt,al as _e,aE as ce,y as we,ab as St,aF as Ct,n as xt,F as $e,O as Ee}from"./vue-C06Il7Tf.js";import{u as $t}from"./useWatermark-DXk8kwp1.js";/* empty css                  *//* empty css                        *//* empty css                     */import{_ as Et}from"./index.vue_vue_type_script_setup_true_lang-CQ230J7p.js";/* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                 */import{e as Tt,f as Mt,h as Lt,i as pe,j as Vt,k as It,l as ot,n as At,o as Rt,p as Dt,q as Pt,r as st,s as Ft,t as me,u as Bt,E as ke,v as Nt,w as Te,x as at,y as rt,z as lt,A as zt,B as Wt,C as Ut,D as qt,F as Ot,G as Ht,H as jt,I as Xt,J as Kt,K as Gt,L as Jt,M as Yt,N as Zt,O as Qt,P as en,g as tn,Q as nn,R as on,S as sn,T as an,U as rn,V as ln}from"./element-CU4ZSkn3.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-Cospg-vz.js";function cn(d){d?Ne(pt):Ne(Ke)}const ue=vt("app",()=>{const d=ht({opened:ft()!==Ke,withoutAnimation:!1}),c=U(se.Desktop);return Je(()=>d.opened,e=>{cn(e)}),{device:c,sidebar:d,toggleSidebar:e=>{d.opened=!d.opened,d.withoutAnimation=e},closeSidebar:e=>{d.opened=!1,d.withoutAnimation=e},toggleDevice:e=>{c.value=e}}}),it=ue(),un=P(()=>it.device===se.Mobile),dn=P(()=>it.device===se.Desktop);function de(){return{isMobile:un,isDesktop:dn}}const Me=Z(),fn=P(()=>Me.layoutMode===le.Left),pn=P(()=>Me.layoutMode===le.Top),mn=P(()=>Me.layoutMode===le.LeftTop);function _n(d){Me.layoutMode=d}function ae(){return{isLeft:fn,isTop:pn,isLeftTop:mn,setLayoutMode:_n}}const vn={class:"app-main"},hn={class:"app-scrollbar"},gn=B({__name:"index",setup(d){const c=Ge(),p=Z();return(f,l)=>{const e=G("router-view"),t=Tt;return v(),L("section",vn,[E("div",hn,[_(e,null,{default:b(({Component:o,route:s})=>[_(Ye,{name:"el-fade-in",mode:"out-in"},{default:b(()=>[(v(),$(gt,{include:n(c).cachedViews},[(v(),$(ye(o),{key:s.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(p).showFooter?(v(),$(n(En),{key:0})):F("",!0)]),_(t),_(t,{target:".app-scrollbar"})])}}}),Re=N(gn,[["__scopeId","data-v-131b72d1"]]);var J={},We;function yn(){if(We)return J;We=1,Object.defineProperty(J,"__esModule",{value:!0}),J.TokenData=void 0,J.parse=h,J.compile=y,J.match=S,J.pathToRegexp=V,J.stringify=O;const d="/",c=u=>u,p=/^[$_\p{ID_Start}]$/u,f=/^[$\u200c\u200d\p{ID_Continue}]$/u,l="https://git.new/pathToRegexpError",e={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(u){return u.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function o(u){return u.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*s(u){const r=[...u];let i=0;function x(){let C="";if(p.test(r[++i]))for(C+=r[i];f.test(r[++i]);)C+=r[i];else if(r[i]==='"'){let g=i;for(;i<r.length;){if(r[++i]==='"'){i++,g=0;break}r[i]==="\\"?C+=r[++i]:C+=r[i]}if(g)throw new TypeError(`Unterminated quote at ${g}: ${l}`)}if(!C)throw new TypeError(`Missing parameter name at ${i}: ${l}`);return C}for(;i<r.length;){const C=r[i],g=e[C];if(g)yield{type:g,index:i++,value:C};else if(C==="\\")yield{type:"ESCAPED",index:i++,value:r[i++]};else if(C===":"){const M=x();yield{type:"PARAM",index:i,value:M}}else if(C==="*"){const M=x();yield{type:"WILDCARD",index:i,value:M}}else yield{type:"CHAR",index:i,value:r[i++]}}return{type:"END",index:i,value:""}}class m{constructor(r){this.tokens=r}peek(){if(!this._peek){const r=this.tokens.next();this._peek=r.value}return this._peek}tryConsume(r){const i=this.peek();if(i.type===r)return this._peek=void 0,i.value}consume(r){const i=this.tryConsume(r);if(i!==void 0)return i;const{type:x,index:C}=this.peek();throw new TypeError(`Unexpected ${x} at ${C}, expected ${r}: ${l}`)}text(){let r="",i;for(;i=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)r+=i;return r}}class a{constructor(r){this.tokens=r}}J.TokenData=a;function h(u,r={}){const{encodePath:i=c}=r,x=new m(s(u));function C(M){const D=[];for(;;){const H=x.text();H&&D.push({type:"text",value:i(H)});const j=x.tryConsume("PARAM");if(j){D.push({type:"param",name:j});continue}const re=x.tryConsume("WILDCARD");if(re){D.push({type:"wildcard",name:re});continue}if(x.tryConsume("{")){D.push({type:"group",tokens:C("}")});continue}return x.consume(M),D}}const g=C("END");return new a(g)}function y(u,r={}){const{encode:i=encodeURIComponent,delimiter:x=d}=r,C=u instanceof a?u:h(u,r),g=w(C.tokens,x,i);return function(D={}){const[H,...j]=g(D);if(j.length)throw new TypeError(`Missing parameters: ${j.join(", ")}`);return H}}function w(u,r,i){const x=u.map(C=>k(C,r,i));return C=>{const g=[""];for(const M of x){const[D,...H]=M(C);g[0]+=D,g.push(...H)}return g}}function k(u,r,i){if(u.type==="text")return()=>[u.value];if(u.type==="group"){const C=w(u.tokens,r,i);return g=>{const[M,...D]=C(g);return D.length?[""]:[M]}}const x=i||c;return u.type==="wildcard"&&i!==!1?C=>{const g=C[u.name];if(g==null)return["",u.name];if(!Array.isArray(g)||g.length===0)throw new TypeError(`Expected "${u.name}" to be a non-empty array`);return[g.map((M,D)=>{if(typeof M!="string")throw new TypeError(`Expected "${u.name}/${D}" to be a string`);return x(M)}).join(r)]}:C=>{const g=C[u.name];if(g==null)return["",u.name];if(typeof g!="string")throw new TypeError(`Expected "${u.name}" to be a string`);return[x(g)]}}function S(u,r={}){const{decode:i=decodeURIComponent,delimiter:x=d}=r,{regexp:C,keys:g}=V(u,r),M=g.map(D=>i===!1?c:D.type==="param"?i:H=>H.split(x).map(i));return function(H){const j=C.exec(H);if(!j)return!1;const re=j[0],te=Object.create(null);for(let ne=1;ne<j.length;ne++){if(j[ne]===void 0)continue;const oe=g[ne-1],Le=M[ne-1];te[oe.name]=Le(j[ne])}return{path:re,params:te}}}function V(u,r={}){const{delimiter:i=d,end:x=!0,sensitive:C=!1,trailing:g=!0}=r,M=[],D=[],H=C?"":"i",re=(Array.isArray(u)?u:[u]).map(oe=>oe instanceof a?oe:h(oe,r));for(const{tokens:oe}of re)for(const Le of A(oe,0,[])){const dt=I(Le,i,M);D.push(dt)}let te=`^(?:${D.join("|")})`;return g&&(te+=`(?:${o(i)}$)?`),te+=x?"$":`(?=${o(i)}|$)`,{regexp:new RegExp(te,H),keys:M}}function*A(u,r,i){if(r===u.length)return yield i;const x=u[r];if(x.type==="group"){const C=i.slice();for(const g of A(x.tokens,0,C))yield*A(u,r+1,g)}else i.push(x);yield*A(u,r+1,i)}function I(u,r,i){let x="",C="",g=!0;for(let M=0;M<u.length;M++){const D=u[M];if(D.type==="text"){x+=o(D.value),C+=D.value,g||(g=D.value.includes(r));continue}if(D.type==="param"||D.type==="wildcard"){if(!g&&!C)throw new TypeError(`Missing text after "${D.name}": ${l}`);D.type==="param"?x+=`(${q(r,g?"":C)}+)`:x+="([\\s\\S]+)",i.push(D),C="",g=!1;continue}}return x}function q(u,r){return r.length<2?u.length<2?`[^${o(u+r)}]`:`(?:(?!${o(u)})[^${o(r)}])`:u.length<2?`(?:(?!${o(r)})[^${o(u)}])`:`(?:(?!${o(r)}|${o(u)})[\\s\\S])`}function O(u){return u.tokens.map(function r(i,x,C){if(i.type==="text")return t(i.value);if(i.type==="group")return`{${i.tokens.map(r).join("")}}`;const M=R(i.name)&&T(C[x+1])?i.name:JSON.stringify(i.name);if(i.type==="param")return`:${M}`;if(i.type==="wildcard")return`*${M}`;throw new TypeError(`Unexpected token: ${i}`)}).join("")}function R(u){const[r,...i]=u;return p.test(r)?i.every(x=>f.test(x)):!1}function T(u){return(u==null?void 0:u.type)!=="text"?!0:!f.test(u.value[0])}return J}var bn=yn();const wn={key:0,class:"no-redirect"},kn=["onClick"],Sn=B({__name:"index",setup(d){const c=Ce(),p=xe(),{listenerRouteChange:f}=Se(),l=U([]);function e(){l.value=c.matched.filter(s=>{var m,a;return((m=s.meta)==null?void 0:m.title)&&((a=s.meta)==null?void 0:a.breadcrumb)!==!1})}function t(s){return bn.compile(s)(c.params)}function o(s){const{redirect:m,path:a}=s;if(m)return p.push(m);p.push(t(a))}return f(s=>{s.path.startsWith("/redirect/")||e()},!0),(s,m)=>{const a=Lt,h=Mt;return v(),$(h,null,{default:b(()=>[(v(!0),L(K,null,ee(n(l),(y,w)=>(v(),$(a,{key:y.path},{default:b(()=>[y.redirect==="noRedirect"||w===n(l).length-1?(v(),L("span",wn,W(y.meta.title),1)):(v(),L("a",{key:1,onClick:he(k=>o(y),["prevent"])},W(y.meta.title),9,kn))]),_:2},1024))),128))]),_:1})}}}),Cn=N(Sn,[["__scopeId","data-v-148b927d"]]),xn={class:"layout-footer"},$n=B({__name:"index",setup(d){const c="V3 Admin Vite";return(p,f)=>(v(),L("footer",xn," MIT © 2021-PRESENT "+W(n(c)),1))}}),En=N($n,[["__scopeId","data-v-b41fd828"]]),Tn=B({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(d,{emit:c}){const p=c;function f(){p("toggleClick")}return(l,e)=>{const t=pe;return v(),L("div",{onClick:f},[_(t,{size:20,class:"icon"},{default:b(()=>[l.isActive?(v(),$(n(Vt),{key:0})):(v(),$(n(It),{key:1}))]),_:1})])}}}),Mn=N(Tn,[["__scopeId","data-v-c2fd27a8"]]),Ln="/v3-admin-vite/assets/logo-text-1-B14nbmAK.png",Vn="/v3-admin-vite/assets/logo-text-2-y4GmJqxb.png",In="/v3-admin-vite/assets/logo-C6EcH0uP.png",An=["src"],Rn=["src"],Dn=B({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(d){const{isLeft:c,isTop:p}=ae();return(f,l)=>{const e=G("router-link");return v(),L("div",{class:X(["layout-logo-container",{collapse:f.collapse,"layout-mode-top":n(p)}])},[_(Ye,{name:"layout-logo-fade"},{default:b(()=>[f.collapse?(v(),$(e,{key:"collapse",to:"/"},{default:b(()=>[E("img",{src:n(In),class:"layout-logo"},null,8,An)]),_:1})):(v(),$(e,{key:"expand",to:"/"},{default:b(()=>[E("img",{src:n(c)?n(Ln):n(Vn),class:"layout-logo-text"},null,8,Rn)]),_:1}))]),_:1})],2)}}}),De=N(Dn,[["__scopeId","data-v-959f2fc6"]]),Pn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Fn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Bn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Nn={class:"card-header"},zn={class:"card-title"},Wn={class:"card-time"},Un={key:0,class:"card-avatar"},qn=["src"],On={class:"card-body"},Hn=B({__name:"List",props:{data:{}},setup(d){const c=d;return(p,f)=>{const l=ot,e=At,t=Rt;return c.data.length===0?(v(),$(l,{key:0})):(v(!0),L(K,{key:1},ee(c.data,(o,s)=>(v(),$(t,{key:s,shadow:"never",class:"card-container"},{header:b(()=>[E("div",Nn,[E("div",null,[E("span",null,[E("span",zn,W(o.title),1),o.extra?(v(),$(e,{key:0,type:o.status,effect:"plain",size:"small"},{default:b(()=>[Y(W(o.extra),1)]),_:2},1032,["type"])):F("",!0)]),E("div",Wn,W(o.datetime),1)]),o.avatar?(v(),L("div",Un,[E("img",{src:o.avatar,width:"34"},null,8,qn)])):F("",!0)])]),default:b(()=>[E("div",On,W(o.description??"No Data"),1)]),_:2},1024))),128))}}}),jn=N(Hn,[["__scopeId","data-v-ef66ab12"]]),Xn={class:"notify"},Kn={class:"notify-history"},Ue=99,Gn=350,Jn=B({__name:"index",setup(d){const c=P(()=>f.value.reduce((e,t)=>e+t.list.length,0)),p=U("通知"),f=U([{name:"通知",type:"primary",list:Pn},{name:"消息",type:"danger",list:Fn},{name:"待办",type:"warning",list:Bn}]);function l(){ke.success(`跳转到${p.value}历史页面`)}return(e,t)=>{const o=pe,s=me,m=Ft,a=Te,h=Nt,y=Pt,w=st,k=Dt;return v(),L("div",Xn,[_(k,{placement:"bottom",width:Gn,trigger:"click"},{reference:b(()=>[_(m,{value:n(c),max:Ue,hidden:n(c)===0},{default:b(()=>[_(s,{effect:"dark",content:"消息通知",placement:"bottom"},{default:b(()=>[_(o,{size:20},{default:b(()=>[_(n(Bt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:b(()=>[_(y,{modelValue:n(p),"onUpdate:modelValue":t[0]||(t[0]=S=>fe(p)?p.value=S:null),class:"demo-tabs",stretch:""},{default:b(()=>[(v(!0),L(K,null,ee(n(f),(S,V)=>(v(),$(h,{key:V,name:S.name},{label:b(()=>[Y(W(S.name)+" ",1),_(m,{value:S.list.length,max:Ue,type:S.type},null,8,["value","type"])]),default:b(()=>[_(a,{height:"400px"},{default:b(()=>[_(jn,{data:S.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),E("div",Kn,[_(w,{link:"",onClick:l},{default:b(()=>[Y(" 查看"+W(n(p))+"历史 ",1)]),_:1})])]),_:1})])}}}),Yn=N(Jn,[["__scopeId","data-v-ab2bcb22"]]),qe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Q=(()=>{if(typeof document>"u")return!1;const d=qe[0],c={};for(const p of qe)if((p==null?void 0:p[1])in document){for(const[l,e]of p.entries())c[d[l]]=e;return c}return!1})(),Oe={change:Q.fullscreenchange,error:Q.fullscreenerror};let z={request(d=document.documentElement,c){return new Promise((p,f)=>{const l=()=>{z.off("change",l),p()};z.on("change",l);const e=d[Q.requestFullscreen](c);e instanceof Promise&&e.then(l).catch(f)})},exit(){return new Promise((d,c)=>{if(!z.isFullscreen){d();return}const p=()=>{z.off("change",p),d()};z.on("change",p);const f=document[Q.exitFullscreen]();f instanceof Promise&&f.then(p).catch(c)})},toggle(d,c){return z.isFullscreen?z.exit():z.request(d,c)},onchange(d){z.on("change",d)},onerror(d){z.on("error",d)},on(d,c){const p=Oe[d];p&&document.addEventListener(p,c,!1)},off(d,c){const p=Oe[d];p&&document.removeEventListener(p,c,!1)},raw:Q};Object.defineProperties(z,{isFullscreen:{get:()=>!!document[Q.fullscreenElement]},element:{enumerable:!0,get:()=>document[Q.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Q.fullscreenEnabled]}});Q||(z={isEnabled:!1});const He="content-large",je="content-full",Zn=B({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(d){const c=document.body.classList,p=z.isEnabled,f=U(!1),l=P(()=>f.value?d.exitTips:d.openTips),e=P(()=>f.value?"fullscreen-exit":"fullscreen");function t(){const w=document.querySelector(d.element)||void 0;p?z.toggle(w):ke.warning("您的浏览器无法工作")}function o(){f.value=z.isFullscreen,f.value||c.remove(He,je)}be(()=>{p&&(z.on("change",o),yt(()=>{z.off("change",o)}))});const s=U(!1),m=P(()=>s.value?"内容区复原":"内容区放大"),a=P(()=>s.value?"fullscreen-exit":"fullscreen");function h(){s.value=!s.value,c.toggle(He,s.value)}function y(){s.value&&h(),c.add(je),t()}return(w,k)=>{const S=G("SvgIcon"),V=me,A=lt,I=rt,q=at;return v(),L("div",null,[w.content?(v(),$(q,{key:1,disabled:n(f)},{dropdown:b(()=>[_(I,null,{default:b(()=>[_(A,{onClick:h},{default:b(()=>[Y(W(n(m)),1)]),_:1}),_(A,{onClick:y},{default:b(()=>k[0]||(k[0]=[Y(" 内容区全屏 ")])),_:1,__:[0]})]),_:1})]),default:b(()=>[_(S,{name:n(a),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(v(),$(V,{key:0,effect:"dark",content:n(l),placement:"bottom"},{default:b(()=>[_(S,{name:n(e),onClick:t,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),ct=N(Zn,[["__scopeId","data-v-910e3837"]]),Qn={class:"search-footer"},eo={class:"search-footer-item"},to={class:"search-footer-item"},no={class:"search-footer-item"},oo={class:"search-footer-total"},so=B({__name:"Footer",props:{total:{}},setup(d){const c=d,{isMobile:p}=de();return(f,l)=>{const e=G("SvgIcon");return v(),L("div",Qn,[n(p)?F("",!0):(v(),L(K,{key:0},[E("span",eo,[_(e,{name:"keyboard-enter",class:"svg-icon"}),l[0]||(l[0]=E("span",null,"确认",-1))]),E("span",to,[_(e,{name:"keyboard-up",class:"svg-icon"}),_(e,{name:"keyboard-down",class:"svg-icon"}),l[1]||(l[1]=E("span",null,"切换",-1))]),E("span",no,[_(e,{name:"keyboard-esc",class:"svg-icon"}),l[2]||(l[2]=E("span",null,"关闭",-1))])],64)),E("span",oo,"共 "+W(c.total)+" 项",1)])}}}),ao=N(so,[["__scopeId","data-v-03526223"]]),ro=["onMouseenter"],lo={class:"result-item-title"},io=B({__name:"Result",props:bt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d,{expose:c}){const p=d,f=Ze(d,"modelValue"),l=wt(),e=U(0);function t(a){const h=a.name===f.value;return{background:h?"var(--el-color-primary)":"",color:h?"#ffffff":""}}function o(a){p.isPressUpOrDown||(f.value=a.name)}function s(){e.value=Number((window.innerHeight*.4).toFixed(1))}function m(a){var k;const h=(k=l==null?void 0:l.proxy)==null?void 0:k.$refs[`resultItemRef${a}`];if(!h)return 0;const w=h[0].offsetTop+128;return w>e.value?w-e.value:0}return Qe(()=>{window.addEventListener("resize",s)}),et(()=>{s()}),tt(()=>{window.removeEventListener("resize",s)}),c({getScrollTop:m}),(a,h)=>{const y=G("SvgIcon");return v(),L("div",null,[(v(!0),L(K,null,ee(p.data,(w,k)=>{var S,V,A;return v(),L("div",{key:k,ref_for:!0,ref:`resultItemRef${k}`,class:"result-item",style:nt(t(w)),onMouseenter:I=>o(w)},[(S=w.meta)!=null&&S.svgIcon?(v(),$(y,{key:0,name:w.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(V=w.meta)!=null&&V.elIcon?(v(),$(ye(w.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),E("span",lo,W((A=w.meta)==null?void 0:A.title),1),f.value&&f.value===w.name?(v(),$(y,{key:2,name:"keyboard-enter",class:"svg-icon"})):F("",!0)],44,ro)}),128))])}}}),co=N(io,[["__scopeId","data-v-b54aa557"]]),uo=B({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const c=Ze(d,"modelValue"),p=xe(),{isMobile:f}=de(),l=ie("inputRef"),e=ie("scrollbarRef"),t=ie("resultRef"),o=U(""),s=kt([]),m=U(void 0),a=U(!1),h=P(()=>f.value?"80vw":"40vw"),y=P(()=>zt(Ae().routes)),w=Wt(()=>{var r;const R=k(y.value),T=o.value.toLocaleLowerCase().trim();s.value=R.filter(i=>{var x,C;return o.value?(C=(x=i.meta)==null?void 0:x.title)==null?void 0:C.toLocaleLowerCase().includes(T):!1});const u=(r=s.value)==null?void 0:r.length;m.value=u>0?s.value[0].name:void 0},500);function k(R,T=[]){return R.forEach(u=>{T.push(u),u.children&&k(u.children,T)}),T}function S(){c.value=!1,setTimeout(()=>{o.value="",s.value=[]},200)}function V(R){var u;if(!t.value)return;const T=t.value.getScrollTop(R);(u=e.value)==null||u.setScrollTop(T)}function A(){a.value=!0;const{length:R}=s.value;if(R===0)return;const T=s.value.findIndex(u=>u.name===m.value);if(T===0){const u=s.value[R-1].name;m.value===u&&R>1?(m.value=s.value[R-2].name,V(R-2)):(m.value=u,V(R-1))}else m.value=s.value[T-1].name,V(T-1)}function I(){a.value=!0;const{length:R}=s.value;if(R===0)return;const T=s.value.map(u=>u.name).lastIndexOf(m.value);if(T===R-1){const u=s.value[0].name;m.value===u&&R>1?(m.value=s.value[1].name,V(1)):(m.value=u,V(0))}else m.value=s.value[T+1].name,V(T+1)}function q(){var r;const{length:R}=s.value;if(R===0)return;const T=m.value,u=(r=s.value.find(i=>i.name===T))==null?void 0:r.path;if(u&&ge(u))return window.open(u,"_blank","noopener, noreferrer");if(!T)return ke.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{p.push({name:T})}catch{return ke.warning("该菜单有必填的动态参数，无法通过搜索进入")}S()}function O(){a.value=!1}return(R,T)=>{const u=G("SvgIcon"),r=qt,i=ot,x=Te,C=Ut;return v(),$(C,{modelValue:c.value,"onUpdate:modelValue":T[2]||(T[2]=g=>c.value=g),"before-close":S,width:n(h),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:T[3]||(T[3]=g=>{var M;return(M=n(l))==null?void 0:M.focus()}),onClosed:T[4]||(T[4]=g=>{var M;return(M=n(l))==null?void 0:M.blur()}),onKeydown:[_e(A,["up"]),_e(I,["down"]),_e(q,["enter"])],onKeyup:_e(O,["up","down"])},{footer:b(()=>[_(ao,{total:n(s).length},null,8,["total"])]),default:b(()=>[_(r,{ref_key:"inputRef",ref:l,modelValue:n(o),"onUpdate:modelValue":T[0]||(T[0]=g=>fe(o)?o.value=g:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(w)},{prefix:b(()=>[_(u,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(s).length===0?(v(),$(i,{key:0,description:"暂无搜索结果","image-size":100})):(v(),L(K,{key:1},[T[5]||(T[5]=E("p",null,"搜索结果",-1)),_(x,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:b(()=>[_(co,{ref_key:"resultRef",ref:t,modelValue:n(m),"onUpdate:modelValue":T[1]||(T[1]=g=>fe(m)?m.value=g:null),data:n(s),"is-press-up-or-down":n(a),onClick:q},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),fo=B({__name:"index",setup(d){const c=U(!1);function p(){c.value=!0}return(f,l)=>{const e=G("SvgIcon"),t=me;return v(),L("div",null,[_(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:b(()=>[_(e,{name:"search",onClick:p,class:"svg-icon"})]),_:1}),_(uo,{modelValue:n(c),"onUpdate:modelValue":l[0]||(l[0]=o=>fe(c)?c.value=o:null)},null,8,["modelValue"])])}}}),po=N(fo,[["__scopeId","data-v-3f918a22"]]),mo={class:"navigation-bar"},_o={class:"right-menu"},vo={class:"right-menu-item user"},ho={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},go={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},yo=B({__name:"index",setup(d){const{isMobile:c}=de(),{isTop:p}=ae(),f=xe(),l=ue(),e=mt(),t=Z(),{showNotify:o,showThemeSwitch:s,showScreenfull:m,showSearchMenu:a}=ce(t);function h(){l.toggleSidebar(!1)}function y(){e.logout(),f.push("/login")}return(w,k)=>{const S=Ot,V=lt,A=rt,I=at;return v(),L("div",mo,[!n(p)||n(c)?(v(),$(n(Mn),{key:0,"is-active":n(l).sidebar.opened,class:"hamburger",onToggleClick:h},null,8,["is-active"])):F("",!0),!n(p)||n(c)?(v(),$(n(Cn),{key:1,class:"breadcrumb"})):F("",!0),n(p)&&!n(c)?(v(),$(n(Fe),{key:2,class:"sidebar"})):F("",!0),E("div",_o,[n(a)?(v(),$(po,{key:0,class:"right-menu-item"})):F("",!0),n(m)?(v(),$(ct,{key:1,class:"right-menu-item"})):F("",!0),n(s)?(v(),$(Et,{key:2,class:"right-menu-item"})):F("",!0),n(o)?(v(),$(Yn,{key:3,class:"right-menu-item"})):F("",!0),_(I,null,{dropdown:b(()=>[_(A,null,{default:b(()=>[E("a",ho,[_(V,null,{default:b(()=>k[0]||(k[0]=[Y("GitHub")])),_:1,__:[0]})]),E("a",go,[_(V,null,{default:b(()=>k[1]||(k[1]=[Y("Gitee")])),_:1,__:[1]})]),_(V,{divided:"",onClick:y},{default:b(()=>k[2]||(k[2]=[Y(" 退出登录 ")])),_:1,__:[2]})]),_:1})]),default:b(()=>[E("div",vo,[_(S,{icon:n(Ht),size:30},null,8,["icon"]),E("span",null,W(n(e).username),1)])]),_:1})])])}}}),Pe=N(yo,[["__scopeId","data-v-ad2fb8bd"]]),bo=B({__name:"index",setup(d){const c=U(!1);return(p,f)=>{const l=pe,e=jt;return v(),L(K,null,[E("div",{class:"handle-button",onClick:f[0]||(f[0]=t=>c.value=!0)},[_(l,{size:24},{default:b(()=>[_(n(Xt))]),_:1})]),_(e,{modelValue:n(c),"onUpdate:modelValue":f[1]||(f[1]=t=>fe(c)?c.value=t:null),size:"300px","with-header":!1},{default:b(()=>[we(p.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),wo=N(bo,[["__scopeId","data-v-75b901b7"]]),ko={class:"select-layout-mode"},So=B({__name:"SelectLayoutMode",setup(d){const{isLeft:c,isTop:p,isLeftTop:f,setLayoutMode:l}=ae();return(e,t)=>{const o=Gt,s=Jt,m=Yt,a=Kt,h=me;return v(),L("div",ko,[_(h,{content:"左侧模式"},{default:b(()=>[_(a,{class:X(["layout-mode left",{active:n(c)}]),onClick:t[0]||(t[0]=y=>n(l)(n(le).Left))},{default:b(()=>[_(o),_(a,null,{default:b(()=>[_(s),_(m)]),_:1})]),_:1},8,["class"])]),_:1}),_(h,{content:"顶部模式"},{default:b(()=>[_(a,{class:X(["layout-mode top",{active:n(p)}]),onClick:t[1]||(t[1]=y=>n(l)(n(le).Top))},{default:b(()=>[_(s),_(m)]),_:1},8,["class"])]),_:1}),_(h,{content:"混合模式"},{default:b(()=>[_(a,{class:X(["layout-mode left-top",{active:n(f)}]),onClick:t[2]||(t[2]=y=>n(l)(n(le).LeftTop))},{default:b(()=>[_(s),_(a,null,{default:b(()=>[_(o),_(m)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Co=N(So,[["__scopeId","data-v-97e756dd"]]),xo={class:"setting-container"},$o={class:"setting-name"},Eo=B({__name:"index",setup(d){const{isLeft:c}=ae(),p=Z(),{showTagsView:f,showLogo:l,fixedHeader:e,showFooter:t,showNotify:o,showThemeSwitch:s,showScreenfull:m,showSearchMenu:a,cacheTagsView:h,showWatermark:y,showGreyMode:w,showColorWeakness:k}=ce(p),S={显示标签栏:f,"显示 Logo":l,"固定 Header":e,显示页脚:t,显示消息通知:o,显示切换主题按钮:s,显示全屏按钮:m,显示搜索按钮:a,是否缓存标签栏:h,开启系统水印:y,显示灰色模式:w,显示色弱模式:k};be(()=>{!c.value&&(e.value=!0)});function V(){_t(),location.reload()}return(A,I)=>{const q=Zt,O=en,R=st;return v(),L("div",xo,[I[1]||(I[1]=E("h4",null,"布局配置",-1)),_(Co),_(q),I[2]||(I[2]=E("h4",null,"功能配置",-1)),(v(),L(K,null,ee(S,(T,u,r)=>E("div",{key:r,class:"setting-item"},[E("span",$o,W(u),1),_(O,{modelValue:T.value,"onUpdate:modelValue":i=>T.value=i,disabled:!n(c)&&u==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),_(R,{type:"danger",icon:n(Qt),onClick:V},{default:b(()=>I[0]||(I[0]=[Y(" 重 置 ")])),_:1,__:[0]},8,["icon"])])}}}),To=N(Eo,[["__scopeId","data-v-e39360f6"]]);var Ve,Xe;function Mo(){if(Xe)return Ve;Xe=1;function d(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function c(l,e){for(var t="",o=0,s=-1,m=0,a,h=0;h<=l.length;++h){if(h<l.length)a=l.charCodeAt(h);else{if(a===47)break;a=47}if(a===47){if(!(s===h-1||m===1))if(s!==h-1&&m===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var y=t.lastIndexOf("/");if(y!==t.length-1){y===-1?(t="",o=0):(t=t.slice(0,y),o=t.length-1-t.lastIndexOf("/")),s=h,m=0;continue}}else if(t.length===2||t.length===1){t="",o=0,s=h,m=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+l.slice(s+1,h):t=l.slice(s+1,h),o=h-s-1;s=h,m=0}else a===46&&m!==-1?++m:m=-1}return t}function p(l,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+l+o:o}var f={resolve:function(){for(var e="",t=!1,o,s=arguments.length-1;s>=-1&&!t;s--){var m;s>=0?m=arguments[s]:(o===void 0&&(o=process.cwd()),m=o),d(m),m.length!==0&&(e=m+"/"+e,t=m.charCodeAt(0)===47)}return e=c(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(d(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=c(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return d(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];d(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":f.normalize(e)},relative:function(e,t){if(d(e),d(t),e===t||(e=f.resolve(e),t=f.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var s=e.length,m=s-o,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var h=t.length,y=h-a,w=m<y?m:y,k=-1,S=0;S<=w;++S){if(S===w){if(y>w){if(t.charCodeAt(a+S)===47)return t.slice(a+S+1);if(S===0)return t.slice(a+S)}else m>w&&(e.charCodeAt(o+S)===47?k=S:S===0&&(k=0));break}var V=e.charCodeAt(o+S),A=t.charCodeAt(a+S);if(V!==A)break;V===47&&(k=S)}var I="";for(S=o+k+1;S<=s;++S)(S===s||e.charCodeAt(S)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+t.slice(a+k):(a+=k,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(d(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,s=-1,m=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!m){s=a;break}}else m=!1;return s===-1?o?"/":".":o&&s===1?"//":e.slice(0,s)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');d(e);var o=0,s=-1,m=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var h=t.length-1,y=-1;for(a=e.length-1;a>=0;--a){var w=e.charCodeAt(a);if(w===47){if(!m){o=a+1;break}}else y===-1&&(m=!1,y=a+1),h>=0&&(w===t.charCodeAt(h)?--h===-1&&(s=a):(h=-1,s=y))}return o===s?s=y:s===-1&&(s=e.length),e.slice(o,s)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!m){o=a+1;break}}else s===-1&&(m=!1,s=a+1);return s===-1?"":e.slice(o,s)}},extname:function(e){d(e);for(var t=-1,o=0,s=-1,m=!0,a=0,h=e.length-1;h>=0;--h){var y=e.charCodeAt(h);if(y===47){if(!m){o=h+1;break}continue}s===-1&&(m=!1,s=h+1),y===46?t===-1?t=h:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||s===-1||a===0||a===1&&t===s-1&&t===o+1?"":e.slice(t,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return p("/",e)},parse:function(e){d(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),s=o===47,m;s?(t.root="/",m=1):m=0;for(var a=-1,h=0,y=-1,w=!0,k=e.length-1,S=0;k>=m;--k){if(o=e.charCodeAt(k),o===47){if(!w){h=k+1;break}continue}y===-1&&(w=!1,y=k+1),o===46?a===-1?a=k:S!==1&&(S=1):a!==-1&&(S=-1)}return a===-1||y===-1||S===0||S===1&&a===y-1&&a===h+1?y!==-1&&(h===0&&s?t.base=t.name=e.slice(1,y):t.base=t.name=e.slice(h,y)):(h===0&&s?(t.name=e.slice(1,a),t.base=e.slice(1,y)):(t.name=e.slice(h,a),t.base=e.slice(h,y)),t.ext=e.slice(a,y)),h>0?t.dir=e.slice(0,h-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,Ve=f,Ve}var Lo=Mo();const ut=tn(Lo),Vo=["href"],Io=B({__name:"Link",props:{to:{}},setup(d){const c=d;return(p,f)=>{const l=G("router-link");return n(ge)(c.to)?(v(),L("a",{key:0,href:c.to,target:"_blank",rel:"noopener"},[we(p.$slots,"default")],8,Vo)):(v(),$(l,{key:1,to:c.to},{default:b(()=>[we(p.$slots,"default")]),_:3},8,["to"]))}}}),Ao={class:"title"},Ro={key:2,class:"title"},Do=B({__name:"Item",props:{item:{},basePath:{default:""}},setup(d){const c=P(()=>{var t;return(t=d.item.meta)==null?void 0:t.alwaysShow}),p=P(()=>{var t;return((t=d.item.children)==null?void 0:t.filter(o=>{var s;return!((s=o.meta)!=null&&s.hidden)}))??[]}),f=P(()=>p.value.length),l=P(()=>{const t=f.value;switch(!0){case t>1:return null;case t===1:return p.value[0];default:return{...d.item,path:""}}});function e(t){switch(!0){case ge(t):return t;case ge(d.basePath):return d.basePath;default:return ut.resolve(d.basePath,t)}}return(t,o)=>{const s=G("SvgIcon"),m=nn,a=G("Item",!0),h=on;return!n(c)&&n(l)&&!n(l).children?(v(),L(K,{key:0},[n(l).meta?(v(),$(Io,{key:0,to:e(n(l).path)},{default:b(()=>[_(m,{index:e(n(l).path)},St({default:b(()=>[n(l).meta.svgIcon?(v(),$(s,{key:0,name:n(l).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(l).meta.elIcon?(v(),$(ye(n(l).meta.elIcon),{key:1,class:"el-icon"})):F("",!0)]),_:2},[n(l).meta.title?{name:"title",fn:b(()=>[E("span",Ao,W(n(l).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):F("",!0)],64)):(v(),$(h,{key:1,index:e(t.item.path),teleported:""},{title:b(()=>{var y,w,k;return[(y=t.item.meta)!=null&&y.svgIcon?(v(),$(s,{key:0,name:t.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(w=t.item.meta)!=null&&w.elIcon?(v(),$(ye(t.item.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),(k=t.item.meta)!=null&&k.title?(v(),L("span",Ro,W(t.item.meta.title),1)):F("",!0)]}),default:b(()=>[t.item.children?(v(!0),L(K,{key:0},ee(n(p),y=>(v(),$(a,{key:y.path,item:y,"base-path":e(y.path)},null,8,["item","base-path"]))),128)):F("",!0)]),_:1},8,["index"]))}}}),Po=N(Do,[["__scopeId","data-v-a636be4d"]]),Fo=B({__name:"index",setup(d){Ct(R=>({"0472c048":n(O),"007443f8":n(I),d32092a8:n(q),"4950b7bf":n(A)}));const c=ve("--v3-sidebar-menu-bg-color"),p=ve("--v3-sidebar-menu-text-color"),f=ve("--v3-sidebar-menu-active-text-color"),{isMobile:l}=de(),{isLeft:e,isTop:t}=ae(),o=Ce(),s=ue(),m=Ae(),a=Z(),h=P(()=>o.meta.activeMenu||o.path),y=P(()=>m.routes.filter(R=>{var T;return!((T=R.meta)!=null&&T.hidden)})),w=P(()=>!s.sidebar.opened),k=P(()=>e.value&&a.showLogo),S=P(()=>e.value?c:void 0),V=P(()=>e.value?p:void 0),A=P(()=>e.value?f:void 0),I=P(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),q=P(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),O=P(()=>t.value?"0px":"2px");return(R,T)=>{const u=sn,r=Te;return v(),L("div",{class:X({"has-logo":n(k)})},[n(k)?(v(),$(n(De),{key:0,collapse:n(w)},null,8,["collapse"])):F("",!0),_(r,{"wrap-class":"scrollbar-wrapper"},{default:b(()=>[_(u,{"default-active":n(h),collapse:n(w)&&!n(t),"background-color":n(S),"text-color":n(V),"active-text-color":n(A),"collapse-transition":!1,mode:n(t)&&!n(l)?"horizontal":"vertical"},{default:b(()=>[(v(!0),L(K,null,ee(n(y),i=>(v(),$(Po,{key:i.path,item:i,"base-path":i.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Fe=N(Fo,[["__scopeId","data-v-aa03a4af"]]),Bo={class:"scroll-container"},No=200,zo=B({__name:"ScrollPane",props:{tagRefs:{}},setup(d){const c=d,p=Ce(),f=Z(),{listenerRouteChange:l}=Se(),e=ie("scrollbarRef"),t=ie("scrollbarContentRef");let o=0;function s({scrollLeft:w}){o=w}function m({deltaY:w}){w.toString().startsWith("-")?h("left"):h("right")}function a(){const w=t.value.clientWidth,k=e.value.wrapRef.clientWidth,S=w-k-o;return{scrollbarContentRefWidth:w,scrollbarRefWidth:k,lastDistance:S}}function h(w,k=No){let S=0;const{scrollbarContentRefWidth:V,scrollbarRefWidth:A,lastDistance:I}=a();A>V||(w==="left"?S=Math.max(0,o-k):S=Math.min(o+k,o+I),e.value.setScrollLeft(S))}function y(){const w=c.tagRefs;for(let k=0;k<w.length;k++)if(p.path===w[k].$props.to.path){const S=w[k].$el,V=S.offsetWidth,A=S.offsetLeft,{scrollbarRefWidth:I}=a();if(A<o){const O=o-A;h("left",O);return}const q=I+o-V;if(A>q){const O=A-q;h("right",O);return}}}return l(()=>{xt(y)}),(w,k)=>{const S=pe,V=me,A=Te;return v(),L("div",Bo,[_(V,{content:"向左滚动标签（超出最大宽度可点击）"},{default:b(()=>[_(S,{class:"arrow left",onClick:k[0]||(k[0]=I=>h("left"))},{default:b(()=>[_(n(an))]),_:1})]),_:1}),_(A,{ref_key:"scrollbarRef",ref:e,onWheelPassive:m,onScroll:s},{default:b(()=>[E("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[we(w.$slots,"default",{},void 0,!0)],512)]),_:3},512),_(V,{content:"向右滚动标签（超出最大宽度可点击）"},{default:b(()=>[_(S,{class:"arrow right",onClick:k[1]||(k[1]=I=>h("right"))},{default:b(()=>[_(n(rn))]),_:1})]),_:1}),n(f).showScreenfull?(v(),$(ct,{key:0,content:!0,class:"screenfull"})):F("",!0)])}}}),Wo=N(zo,[["__scopeId","data-v-d8cf98d6"]]),Uo={class:"tags-view-container"},qo=B({__name:"index",setup(d){const c=xe(),p=Ce(),f=Ge(),l=Ae(),{listenerRouteChange:e}=Se(),t=ie("tagRefs"),o=U(!1),s=U(0),m=U(0),a=U({});let h=[];function y(r){return r.path===p.path}function w(r){var i;return(i=r.meta)==null?void 0:i.affix}function k(r,i="/"){const x=[];return r.forEach(C=>{if(w(C)){const g=ut.resolve(i,C.path);x.push({fullPath:g,path:g,name:C.name,meta:{...C.meta}})}if(C.children){const g=k(C.children,C.path);x.push(...g)}}),x}function S(){h=k(l.routes);for(const r of h)r.name&&f.addVisitedView(r)}function V(r){r.name&&(f.addVisitedView(r),f.addCachedView(r))}function A(r){f.delCachedView(r),c.replace({path:`/redirect${r.path}`,query:r.query})}function I(r){f.delVisitedView(r),f.delCachedView(r),y(r)&&R(f.visitedViews,r)}function q(){const r=a.value.fullPath;r!==p.path&&r!==void 0&&c.push(r),f.delOthersVisitedViews(a.value),f.delOthersCachedViews(a.value)}function O(r){f.delAllVisitedViews(),f.delAllCachedViews(),!h.some(i=>i.path===p.path)&&R(f.visitedViews,r)}function R(r,i){const x=r.slice(-1)[0],C=x==null?void 0:x.fullPath;C!==void 0?c.push(C):i.name==="Dashboard"?c.push({path:`/redirect${i.path}`,query:i.query}):c.push("/")}function T(r,i){const g=document.body.offsetWidth-100,M=i.clientX+10;m.value=M>g?g:M,s.value=i.clientY,o.value=!0,a.value=r}function u(){o.value=!1}return Je(o,r=>{r?document.body.addEventListener("click",u):document.body.removeEventListener("click",u)}),S(),e(r=>{V(r)},!0),(r,i)=>{const x=pe,C=G("router-link");return v(),L("div",Uo,[_(Wo,{class:"tags-view-wrapper","tag-refs":n(t)},{default:b(()=>[(v(!0),L(K,null,ee(n(f).visitedViews,g=>(v(),$(C,{key:g.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:X([{active:y(g)},"tags-view-item"]),to:{path:g.path,query:g.query},onMouseup:he(M=>!w(g)&&I(g),["middle"]),onContextmenu:he(M=>T(g,M),["prevent"])},{default:b(()=>{var M;return[Y(W((M=g.meta)==null?void 0:M.title)+" ",1),w(g)?F("",!0):(v(),$(x,{key:0,size:12,onClick:he(D=>I(g),["prevent","stop"])},{default:b(()=>[_(n(ln))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),$e(E("ul",{class:"contextmenu",style:nt({left:`${n(m)}px`,top:`${n(s)}px`})},[E("li",{onClick:i[0]||(i[0]=g=>A(n(a)))}," 刷新 "),w(n(a))?F("",!0):(v(),L("li",{key:0,onClick:i[1]||(i[1]=g=>I(n(a)))}," 关闭 ")),E("li",{onClick:q}," 关闭其它 "),E("li",{onClick:i[2]||(i[2]=g=>O(n(a)))}," 关闭所有 ")],4),[[Ee,n(o)]])])}}}),Be=N(qo,[["__scopeId","data-v-3e72bcc4"]]),Oo=992;function Ho(){const d=ue(),{listenerRouteChange:c}=Se(),p=()=>document.body.getBoundingClientRect().width-1<Oo,f=()=>{if(!document.hidden){const l=p();d.toggleDevice(l?se.Mobile:se.Desktop),l&&d.closeSidebar(!0)}};c(()=>{d.device===se.Mobile&&d.sidebar.opened&&d.closeSidebar(!1)}),Qe(()=>{window.addEventListener("resize",f)}),et(()=>{p()&&(d.toggleDevice(se.Mobile),d.closeSidebar(!0))}),tt(()=>{window.removeEventListener("resize",f)})}const jo=B({__name:"LeftMode",setup(d){const{isMobile:c}=de(),{isLeft:p}=ae(),f=ue(),l=Z(),{showTagsView:e,fixedHeader:t}=ce(l),o=P(()=>({hideSidebar:!f.sidebar.opened,openSidebar:f.sidebar.opened,withoutAnimation:f.sidebar.withoutAnimation,mobile:c.value,noLeft:!p.value}));function s(){f.closeSidebar(!1)}return(m,a)=>(v(),L("div",{class:X([n(o),"app-wrapper"])},[n(o).mobile&&n(o).openSidebar?(v(),L("div",{key:0,class:"drawer-bg",onClick:s})):F("",!0),_(n(Fe),{class:"sidebar-container"}),E("div",{class:X([{hasTagsView:n(e)},"main-container"])},[E("div",{class:X([{"fixed-header":n(t)},"layout-header"])},[_(n(Pe)),$e(_(n(Be),null,null,512),[[Ee,n(e)]])],2),_(n(Re),{class:"app-main"})],2)],2))}}),Xo=N(jo,[["__scopeId","data-v-a9e6b794"]]),Ko={class:"fixed-header layout-header"},Go={class:"content"},Jo=B({__name:"LeftTopMode",setup(d){const c=ue(),p=Z(),{showTagsView:f,showLogo:l}=ce(p),e=P(()=>({hideSidebar:!c.sidebar.opened}));return(t,o)=>(v(),L("div",{class:X([n(e),"app-wrapper"])},[E("div",Ko,[n(l)?(v(),$(n(De),{key:0,collapse:!1,class:"logo"})):F("",!0),E("div",Go,[_(n(Pe)),$e(_(n(Be),null,null,512),[[Ee,n(f)]])])]),E("div",{class:X([{hasTagsView:n(f)},"main-container"])},[_(n(Fe),{class:"sidebar-container"}),_(n(Re),{class:"app-main"})],2)],2))}}),Yo=N(Jo,[["__scopeId","data-v-f307bb44"]]),Zo={class:"app-wrapper"},Qo={class:"fixed-header layout-header"},es={class:"content"},ts=B({__name:"TopMode",setup(d){const c=Z(),{showTagsView:p,showLogo:f}=ce(c);return(l,e)=>(v(),L("div",Zo,[E("div",Qo,[E("div",es,[n(f)?(v(),$(n(De),{key:0,collapse:!1,class:"logo"})):F("",!0),_(n(Pe),{class:"navigation-bar"})]),$e(_(n(Be),null,null,512),[[Ee,n(p)]])]),E("div",{class:X([{hasTagsView:n(p)},"main-container"])},[_(n(Re),{class:"app-main"})],2)]))}}),ns=N(ts,[["__scopeId","data-v-9a9151d9"]]),Ie="--v3-tagsview-height",bs=B({__name:"index",setup(d){Ho();const{setWatermark:c,clearWatermark:p}=$t(),{isMobile:f}=de(),{isLeft:l,isTop:e,isLeftTop:t}=ae(),o=Z(),{showSettings:s,showTagsView:m,showWatermark:a}=ce(o),h=ve(Ie);return be(()=>{m.value?ze(Ie,h):ze(Ie,"0px")}),be(()=>{a.value?c("V3 Admin Vite"):p()}),(y,w)=>(v(),L("div",null,[n(l)||n(f)?(v(),$(Xo,{key:0})):n(e)?(v(),$(ns,{key:1})):n(t)?(v(),$(Yo,{key:2})):F("",!0),n(s)?(v(),$(n(wo),{key:3},{default:b(()=>[_(n(To))]),_:1})):F("",!0)]))}});export{bs as default};
